MWF.xAction.RestActions.Action.x_organization_assemble_authentication=new Class({Extends:MWF.xAction.RestActions.Action,login:function(n,a,t,o){this.action.invoke({name:"login",data:n,success:function(n,o){"anonymous"!=n.data.tokenType?a&&a(n):t&&t(null,o,n.message)},failure:t,async:o})},loginByCaptcha:function(n,a,t,o){layout.config.publicKey?o2.load("../o2_lib/jsencrypt/jsencrypt.js",function(){var e=new JSEncrypt;e.setPublicKey("-----BEGIN PUBLIC KEY-----"+layout.config.publicKey+"-----END PUBLIC KEY-----"),n.password=e.encrypt(n.password),n.isEncrypted="y",this.action.invoke({name:"loginByCaptcha",data:n,success:function(n,o){"anonymous"!=n.data.tokenType?a&&a(n):t&&t(null,o,n.message)},failure:t,async:o})}.bind(this)):this.action.invoke({name:"loginByCaptcha",data:n,success:function(n,o){"anonymous"!=n.data.tokenType?a&&a(n):t&&t(null,o,n.message)},failure:t,async:o})},getAuthentication:function(n,a,t){this.action.invoke({name:"getAuthentication",success:function(t,o){"anonymous"!==t.data.tokenType||layout.anonymous?(t.data&&!t.data.roleList&&(t.data.roleList=[]),n&&n(t)):a&&a(null,o,t.message)},failure:a,async:t})}});