o2.widget=o2.widget||{},o2.require("o2.widget.ScriptArea",null,!1),o2.widget.HtmlEditorArea=new Class({Implements:[Options,Events],Extends:o2.widget.ScriptArea,loadEditor:function(t){var i=t?t.code:"";i=i||"",this.jsEditor=new o2.widget.JavascriptEditor(this.contentNode,{option:{mode:"html",value:i,lineNumbers:!1},onPostLoad:function(){this.editor=this.jsEditor.editor,this.jsEditor.addEditorEvent("change",function(){this.fireEvent("change")}.bind(this)),this.jsEditor.addEditorEvent("blur",function(){this.fireEvent("blur")}.bind(this)),this.jsEditor.resize(),this.fireEvent("postLoad")}.bind(this),onSave:function(){this.fireEvent("change"),this.fireEvent("save")}.bind(this)}),this.jsEditor.load()},getValue:function(){return this.editor?this.editor.getValue():this.contentCode}});