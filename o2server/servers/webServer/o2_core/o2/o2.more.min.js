o2.getCenterPosition=function(t,e,o){var n=$(t).getPosition(),i=$(t).getSize(),r=$("layout"),s=r?$(r).getSize():$(document.body).getSize(),a=(n.y+i.y)/2-o/2,l=(n.x+i.x)/2-e/2;return l+e>s.x&&(l=s.x-e-10),a+o>s.y&&(a=s.y-o-10),{x:l,y:a}},o2.getMarkSize=function(t){var e;if(t)return{x:(e=$(t).getSize()).x,y:e.y};e=$(document.body).getSize();var o=$(window).getSize(),n=e.y,i=e.x;return n<o.y&&(n=o.y),i<o.x&&(i=o.x),{x:e.x,y:n}},o2.json=function(t,e){var o=JSON.decode(t),n=e.split("."),i=o;return n.each((function(t){if(-1!==t.indexOf("[")){var e=t.split("["),o=parseInt(e[1].substr(0,e[1].indexOf("]")));i=i[e[0]][o]}else i=i[t]})),i},o2.getHTMLTemplate=function(t,e,o){var n=!1!==o;new Request.HTML({url:t,async:n,method:"get",onSuccess:function(t,o,n,i){o2.runCallback(e,"success",[t,o,n,i])}.bind(this),onFailure:function(t){o2.runCallback(e,"requestFailure",[t])}}).send()},o2.getRequestText=function(t,e,o){var n=!1!==o;t=-1!==t.indexOf("?")?t+"&v="+o2.version.v:t+"?v="+o2.version.v,new Request({url:t,async:n,method:"get",onSuccess:function(t,o){o2.runCallback(e,"success",[t,o])}.bind(this),onFailure:function(t){o2.runCallback(e,"requestFailure",[t])}}).send()},o2.encodeJsonString=function(t){var e=[t],o=JSON.encode(e);return o.substr(2,o.length-4)},o2.decodeJsonString=function(t){var e='["'+t+'"]';return JSON.decode(e)[0]},o2.getTextSize=function(t,e){var o=new Element("span",{text:t,styles:e}).inject($(document.body)),n=o.getSize();return o.destroy(),n},o2.getCenter=function(t,e,o){e||(e=document.body);var n=e.getSize(),i=e.getPosition(o),r=e.getScroll(),s=n.x/2,a=n.y/2;return s-=t.x/2,a-=t.y/2,s+=i.x,a+=i.y,{x:s+=r.x,y:a+=r.y}},o2.getEPointer=function(t){var e,o=0,n=0;return"element"==typeOf(t)?(o=(e=t.getPosition(this.content)).x,n=e.y):("firefox"==Browser.name?(o=parseFloat(t.event.clientX||t.event.x),n=parseFloat(t.event.clientY||t.event.y)):(o=parseFloat(t.event.x),n=parseFloat(t.event.y)),t.target&&(o=(e=t.target.getPosition(this.content)).x,n=e.y)),{x:o,y:n}},o2.getParent=function(t,e){for(var o=t.parentElement;o&&o.tagName.toString().toLowerCase()!==e.toString().toLowerCase();)o=o.parentElement;return o},o2.getOffset=function(t){return"firefox"===Browser.name?{offsetX:t.layerX,offsetY:t.layerY}:{offsetX:t.offsetX,offsetY:t.offsetY}},String.implement&&String.implement({getAllIndexOf:function(t){for(var e=[],o=this.indexOf(t);-1!==o;)e.push(o),o=this.indexOf(t,o+1);return e}}),Array.implement&&Array.implement({trim:function(){var t=[];return this.each((function(e){e&&t.push(e)})),t},isIntersect:function(t){return this.some((function(e){return-1!==t.indexOf(e)}))}}),window.Element&&Element.implement&&Element.implement({isIntoView:function(){var t=this.getParentSrcollNode();t||(t=document.body);var e=t.getSize(),o=t.getScroll(),n=t==window?{x:0,y:0}:this.getPosition(t),i=this.getSize();return n.x-o.x>=0&&n.y>=0&&n.x+i.x<e.x+o.x&&n.y+i.y<e.y},appendHTML:function(t,e){if(this.insertAdjacentHTML){var o="beforeEnd";"before"===e&&(o="beforeBegin"),"after"===e&&(o="afterEnd"),"bottom"===e&&(o="beforeEnd"),"top"===e&&(o="afterBegin"),this.insertAdjacentHTML(o,t)}else"bottom"===e&&(this.innerHTML=this.innerHTML+t),"top"===e&&(this.innerHTML=t+this.innerHTML)},positionTo:function(t,e){var o=t.toFloat(),n=e.toFloat(),i=this.getOffsetParent();if(i){var r=i.getPosition();o-=r.x,n-=r.y}return this.setStyles({top:n,left:o}),this},getBorder:function(){var t=["color","style","width"],e={};return["top","left","right","bottom"].each(function(o){t.each(function(t){var n="border-"+o+"-"+t;e[n]=this.getStyle(n)}.bind(this))}.bind(this)),e},isOutside:function(t){var e=this.getCoordinates(),o=this.getCoordinates();return(t.page.x<e.left||t.page.x>e.left+e.width||t.page.y<e.top||t.page.y>e.top+e.height)&&(t.page.x<o.left||t.page.x>o.left+o.width||t.page.y<o.top||t.page.y>o.top+o.height)},getAbsolutePosition:function(){var t=0,e=0,o=this;for(t=o.offsetLeft,e=o.offsetTop,o=o.parentElement;o&&"body"!==o.tagName.toString().toLowerCase();)t+=o.offsetLeft,e+=o.offsetTop,o=o.offsetParent;return{x:t,y:e}},tweenScroll:function(t,e){this.tweenScrollQueue||(this.tweenScrollQueue=[]),this.tweenScrollQueue.length?this.tweenScrollQueue.push(t):(this.tweenScrollQueue.push(t),this.doTweenScrollQueue(e))},doTweenScrollQueue:function(t){if(this.tweenScrollQueue.length)var e=this.tweenScrollQueue.length,o=this.tweenScrollQueue[this.tweenScrollQueue.length-1],n=this.getScroll(),i=(o-n.y)/t,r=0,s=window.setInterval(function(){if(this.scrollTo(0,n.y+r*i),++r>t){window.clearInterval(s);for(var o=1;o<=e;o++)this.tweenScrollQueue.shift();this.tweenScrollQueue.length&&this.doTweenScrollQueue(t)}}.bind(this),1)},isPointIn:function(t,e,o,n,i){o||(o=0),n||(n=0);var r=this.getPosition(i),s=this.getSize();return r.x-o<=t&&r.x+s.x+o>=t&&r.y-n<=e&&r.y+s.y+n>=e},isInPointInRect:function(t,e,o,n){var i=this.getPosition(),r=this.getSize(),s=i.x,a=i.y,l=i.x+r.x,u=i.y,c=i.x+r.x,g=i.y+r.y,h=i.x,f=i.y+r.y,d=Math.min(t,o),y=Math.min(e,n),p=Math.max(t,o),S=Math.max(e,n);return s>=d&&a>=y&&s<=p&&a<=S||l>=d&&u>=y&&l<=p&&u<=S||c>=d&&g>=y&&c<=p&&g<=S||h>=d&&f>=y&&h<=p&&f<=S||c>=d&&g>=y&&s<=d&&a<=y||c>=p&&g>=S&&s<=p&&a<=S||s<=d&&l>=d&&a>=y&&f<=S||a<=y&&f>=y&&s>=d&&l<=p},isOverlap:function(t){var e=t.getPosition(),o=t.getSize();return this.isInPointInRect(e.x,e.y,e.x+o.x,e.y+o.y)},getUsefulSize:function(){var t=this.getSize(),e=(this.getStyle("border-left").toInt(),this.getStyle("border-bottom").toInt(),this.getStyle("border-top").toInt(),this.getStyle("border-right").toInt(),this.getStyle("padding-left").toInt()),o=this.getStyle("padding-bottom").toInt(),n=this.getStyle("padding-top").toInt(),i=this.getStyle("padding-right").toInt();return{x:t.x-e-i,y:t.y-n-o}},clearStyles:function(t){if(this.removeProperty("style"),t)for(var e=this.getFirst();e;)e.clearStyles(t),e=e.getNext()},maskIf:function(t,e){var o={"background-color":"#666666",opacity:.4,"z-index":100};t&&(o=Object.merge(o,t));var n=this.getPosition(this.getOffsetParent());this.mask({destroyOnHide:!0,style:o,useIframeShim:!0,iframeShimOptions:{browsers:!0},onShow:function(){this.shim.shim.setStyles({opacity:0,top:n.y+"px",left:n.x+"px"})},onClick:e})},scrollIn:function(t){var e=t?t.toString().toLowerCase():"center";if("ie"==Browser.name||"safari"==Browser.name){var o=this.getParentSrcollNode(),n=new Fx.Scroll(o),i=o.getScroll(),r=o.getSize(),s=this.getComputedSize(),a=this.getPosition(o);if("start"==e)n.start(i.x,a.y-0+i.y);else if("end"==e){var l=r.y-s.totalHeight;n.start(i.x,a.y-l+i.y)}else{var u=r.y/2-s.totalHeight/2;n.start(i.x,a.y-u+i.y)}}else"start"!==e&&"end"!==e&&(e="center"),this.scrollIntoView({behavior:"smooth",block:e,inline:"nearest"})},scrollToNode:function(t,e){if(!this.getScrollSize().y)return!0;var o,n=e?e.toString().toLowerCase():"bottom",i=$(t),r=i.getComputedSize(),s=i.getPosition(this),a=this.getComputedSize(),l=this.getScroll();"top"===n?((o=s.y-a.computedTop)<0&&this.scrollTo(l.x,l.y+o),(o=r.totalHeight+s.y-a.computedTop-a.height)>0&&this.scrollTo(l.x,l.y+o)):((o=r.totalHeight+s.y-a.computedTop-a.height)>0&&this.scrollTo(l.x,l.y+o),(o=s.y-a.computedTop)<0&&this.scrollTo(l.x,l.y+o))},getInnerStyles:function(){var t={};return style=this.get("style"),style&&style.split(/\s*\;\s*/g).each(function(e){if(e){var o=e.split(/\s*\:\s*/g);t[o[0]]=o.length>1?o[1]:""}}.bind(this)),t},getInnerProperties:function(){var t={};if(this.attributes.length)for(var e=0;e<this.attributes.length;e++)t[this.attributes[e].nodeName]=this.attributes[e].nodeValue;return t},getZIndex:function(){for(var t=this,e=0;t;){if("absolute"===t.getStyle("position")){var o=t.getStyle("z-index");e=o&&o.toFloat()>e?o.toFloat()+1:0;break}t=t.getParent()}return e},getParentSrcollNode:function(){for(var t=this.getParent();t&&(t.getScrollSize().y-2<=t.getSize().y||"auto"!==t.getStyle("overflow")&&"auto"!==t.getStyle("overflow-y"));)t=t.getParent();return t||null},getEdgeHeight:function(t){var e=0;return e+=(this.getStyle("border-top-width").toFloat()||0)+(this.getStyle("border-bottom-width").toFloat()||0),e+=(this.getStyle("padding-top").toFloat()||0)+(this.getStyle("padding-bottom").toFloat()||0),t||(e+=(this.getStyle("margin-top").toFloat()||0)+(this.getStyle("margin-bottom").toFloat()||0)),e},getEdgeWidth:function(t){var e=0;return e+=(this.getStyle("border-left-width").toFloat()||0)+(this.getStyle("border-right-width").toFloat()||0),e+=(this.getStyle("padding-left").toFloat()||0)+(this.getStyle("padding-right").toFloat()||0),t||(e+=(this.getStyle("margin-left").toFloat()||0)+(this.getStyle("margin-right").toFloat()||0)),e}}),Object.copy=function(t,e){Object.each(t,(function(t,o){switch(typeOf(t)){case"object":e[o]||(e[o]={}),Object.copy(t,e[o]);break;default:e[o]=t}}))},window.JSON&&(JSON.format=JSON.encode),window.Slick&&(Slick.definePseudo("src",(function(t){return-1!==Element.get(this,"src").indexOf(t)})),Slick.definePseudo("srcarr",(function(t){for(var e=t.split(","),o=Element.get(this,"src"),n=!1,i=0;i<e.length;i++)if(-1!==o.indexOf(e[i])){n=!0;break}return n})),Slick.definePseudo("ahref",(function(t){var e=Element.get(this,"href");return e||(e=""),-1!==(e=e.toString().toLowerCase()).indexOf(t)})),Slick.definePseudo("rowspanBefore",(function(t){var e=MWF.getParent(this,"tr"),o=this.get("rowspan").toInt()||1,n=e.rowIndex.toInt();return o>1&&n<t.toInt()&&n+o-1>=t})),Slick.definePseudo("rowspan",(function(){return(this.get("rowspan").toInt()||1)>1})),Slick.definePseudo("colspanBefore",(function(t){MWF.getParent(this,"tr");var e=this.get("colspan").toInt()||1,o=this.cellIndex.toInt();return e>1&&o<t.toInt()&&o+e-1>=t.toInt()})),Slick.definePseudo("colspan",(function(){return(this.get("colspan").toInt()||1)>1}))),o2.common=o2.common||{},o2.common.encodeHtml=function(t){return(t=(t=(t=(t=t.toString()).replace(/\&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/\"/g,"&quot;")},o2.common.getResponseTextPost=function(t,e,o){var n="",i={url:t,async:!1,data:e,method:"post",onSuccess:function(t,e,o,i){n=o}};return new Request.HTML(i).send(),n},o2.common.getResponseText=function(t){var e="",o={url:t,async:!1,method:"get",onSuccess:function(t,o,n,i){e=n}};return new Request.HTML(o).send(),e},o2.common.toDate=function(t){var e=t.split(" ");e[1]||e.push("0:0:0");var o=e[0].split("-"),n=e[1].split(":");return new Date(o[0],parseInt(o[1])-1,o[2],n[0],n[1],n[2])},o2.common.toDate=function(t){var e=t.split(" ");e[1]||e.push("0:0:0");var o=e[0].split("-"),n=e[1].split(":");return new Date(o[0],parseInt(o[1])-1,o[2],n[0],n[1],n[2])},o2.grayscale=function(t,e,o,n){try{var i=document.createElement("canvas"),r=i.getContext("2d"),s=new Image;s.src=t,i.width=e||s.width,i.height=o||s.height,r.drawImage(s,0,0);for(var a=r.getImageData(0,0,i.width,i.height),l=0;l<a.height;l++)for(var u=0;u<a.width;u++){var c=4*l*a.width+4*u,g=(a.data[c]+a.data[c+1]+a.data[c+2])/3;a.data[c]=g,a.data[c+1]=g,a.data[c+2]=g}r.putImageData(a,0,0,0,0,a.width,a.height);var h=i.toDataURL();return i.destroy(),{status:"success",src:h}}catch(e){return{status:"error",src:t}}},o2.eventPosition=function(t){var e=0,o=0;return"firefox"==Browser.name?(e=parseFloat(t.event.clientX||t.event.x),o=parseFloat(t.event.clientY||t.event.y)):(e=parseFloat(t.event.x),o=parseFloat(t.event.y)),{x:e,y:o}},window.Browser&&("ie"===Browser.name&&Browser.version<9?Browser.ieuns=!0:"ie"===Browser.name&&Browser.version<10&&(Browser.iecomp=!0),Browser.iecomp&&(o2.load("ie_adapter",null,!1),o2.session.isDebugger=!0),o2.session.isMobile=-1===["mac","win","linux"].indexOf(Browser.Platform.name)),o2.more=!0;