MWF.xDesktop=MWF.xDesktop||{},MWF.xApplication=MWF.xApplication||{},MWF.xDesktop.Access=MWF.AC={companyList:null,action:null,getRoleList:function(){this.roleList||(this.roleList=[],layout.desktop.session.user.roleList.each(function(t){this.roleList.push(t.substring(0,t.indexOf("@")).toLowerCase())}.bind(this)))},isAdministrator:function(){return this.getRoleList(),"xadmin"===layout.desktop.session.user.name.toLowerCase()||-1!==this.roleList.indexOf("manager")},isProcessManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("processplatformmanager"))},isPortalManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("portalmanager"))},isQueryManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("querymanager"))},isOrganizationManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("organizationmanager"))},isMessageManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("messagemanager"))},isServiceManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("servicemanager"))},isUnitManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("unitmanager"))},isGroupManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("groupmanager"))},isRoleManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("rolemanager"))},isPersonManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("personmanager"))},isGroupCreator:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("groupcreator"))},isProcessPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isProcessManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("processplatformcreator")))},isPortalPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isPortalManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("portalcreator")))},isQueryPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isQueryManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("querycreator")))},isApplicationManager:function(t){this.isAdministrator()&&t.yes&&t.yes()},isCMSManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("cmsmanager")},isBBSManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("bbsmanager")||-1!==this.roleList.indexOf("bssmanager")},isOKRManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("okrmanager")},isCRMManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("crmmanager")},isAttendanceManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("attendancemanager")},isMeetingAdministrator:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("meetingmanager")},isHotPictureManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("hotpicturemanager")},isPersonEditor:function(t){return!!this.isAdministrator()||(!!this.isPersonManager()||!(!t.list||!t.list.length||-1===t.list.indexOf(layout.desktop.session.user.id)))},isCompanyEditor:function(t){this.isAdministrator()||this.isCompanyCreator()?t.yes&&t.yes():this.getCompanyList(function(){t.id?-1!==this.companyList.indexOf(t.id)?t.yes&&t.yes():t.no&&t.no():this.companyList.length>0?t.yes&&t.yes():t.no&&t.no()}.bind(this))},isDepartmentEditor:function(t){this.isAdministrator()||this.isCompanyCreator()?t.yes&&t.yes():this.getCompanyList(function(){t.id&&-1!==this.companyList.indexOf(t.id)?t.yes&&t.yes():t.no&&t.no()}.bind(this))},getCompanyList:function(t){null===this.companyList?(this.getAction(),this.action.getCompanyAccess(function(i){i.data?this.companyList=i.data:this.companyList=[],t&&t()}.bind(this),null,layout.desktop.session.user.id)):t&&t()},getAction:function(){this.action||(this.action=MWF.Actions.get("x_organization_assemble_control"))}};