o2.widget=o2.widget||{},o2.widget.css=o2.widget.css||{},o2.widget.Common=new Class({Implements:[Options,Events],options:{},initialize:function(t){this.setOptions(t)},_loadCss:function(t){var e=encodeURIComponent(this.cssPath);!t&&o2.widget.css[e]?this.css=o2.widget.css[e]:(this.cssPath=-1!=this.cssPath.indexOf("?")?this.cssPath+"&v="+o2.version.v:this.cssPath+"?v="+o2.version.v,new Request.JSON({url:o2.filterUrl(this.cssPath),secure:!1,async:!1,method:"get",noCache:!1,onSuccess:function(t,i){this.css=t,o2.widget.css[e]=t}.bind(this),onError:function(t,e){alert(e+t)}}).send())},setLayoutStyle:function(t,e,i){(t||this.node).getElements(".GOES").each(function(t){var s=t.get("id"),o=this.css[s];o&&t.setStyles(o);var n=e.indexOf(s);-1!=n&&(this[i[n]]=t),t.removeProperty("id")}.bind(this))},setScrollBar:function(t,e,i,s){return e||(e="default"),i||(i={V:{x:0,y:0},H:{x:0,y:0}}),o2.require("o2.widget.ScrollBar",(function(){new o2.widget.ScrollBar(t,{style:e,offset:i}),s&&s()})),!1}}),o2.widget=o2.widget||{},o2.widget.Dialog=o2.DL=new Class({Implements:[Options,Events],Extends:o2.widget.Common,options:{style:"default",title:"dialog",width:"300",height:"150",contentWidth:null,contentHeight:null,top:"0",left:"0",fromTop:"0",fromLeft:"0",mark:!0,html:"",text:"",url:"",content:null,lp:null,isMax:!1,isClose:!1,isResize:!0,isMove:!0,isTitle:!0,buttons:null,buttonList:null,maskNode:null,transition:null,duration:200,container:null},initialize:function(t){this.setOptions(t),this.path=o2.session.path+"/widget/$Dialog/",this.cssPath=o2.session.path+"/widget/$Dialog/"+this.options.style+"/css.wcss",this._loadCss(),this.reStyle(),this.fireEvent("queryLoad"),this.getContentUrl(),new Request.HTML({url:this.contentUrl,method:"GET",async:!1,onSuccess:function(t,e,i,s){this.node=t[0],this.getDialogNode(),this.fireEvent("postLoad")}.bind(this),onFailure:function(t){alert(t)}}).send()},getContentUrl:function(){this.contentUrl=o2.session.path+"/widget/$Dialog/"+this.options.style+"/dialog.html"},reStyle:function(t){t&&this.setOptions(t),this.css.to.height=this.options.height+"px",this.css.to.width=this.options.width+"px",this.css.to.top=this.options.top+"px",this.css.to.left=this.options.left+"px",this.css.from.top=this.options.fromTop+"px",this.css.from.left=this.options.fromLeft+"px",this.node&&this.node.set("styles",this.css.from)},getParentSelect:function(t){for(var e="",i=t.getParent();!e&&i;){e=i.getStyle("-webkit-user-select");i=i.getParent()}return e},getDialogNode:function(){this.node.set("styles",this.css.from),this.node.inject(this.options.container||$(document.body)),this.node.addEvent("selectstart",function(t){var e=t.target.getStyle("-webkit-user-select");e||(e=this.getParentSelect(t.target)),e=e?e.toString().toLowerCase():"none";var i=t.target.tagName.toString().toLowerCase();"text"!=e&&"auto"!=e&&-1==["input","textarea"].indexOf(i)&&t.preventDefault()}.bind(this)),this.title=this.node.getElement(".MWF_dialod_title"),this.titleCenter=this.node.getElement(".MWF_dialod_title_center"),this.titleRefresh=this.node.getElement(".MWF_dialod_title_refresh"),this.titleText=this.node.getElement(".MWF_dialod_title_text"),this.titleAction=this.node.getElement(".MWF_dialod_title_action"),this.under=this.node.getElement(".MWF_dialod_under"),this.content=this.node.getElement(".MWF_dialod_content"),this.bottom=this.node.getElement(".MWF_dialod_bottom"),this.resizeNode=this.node.getElement(".MWF_dialod_bottom_resize"),this.button=this.node.getElement(".MWF_dialod_button"),this.options.isTitle||(this.title.destroy(),this.title=null,this.titleCenter=null,this.titleRefresh=null,this.titleText=null,this.titleAction=null),this.title&&this.title.setStyles(this.css.MWF_dialod_title),this.titleCenter&&this.titleCenter.setStyles(this.css.MWF_dialod_title_center),this.titleRefresh&&this.titleRefresh.setStyles(this.css.MWF_dialod_title_refresh),this.titleText&&this.titleText.setStyles(this.css.MWF_dialod_title_text),this.titleAction&&this.titleAction.setStyles(this.css.MWF_dialod_title_action),this.under&&this.under.setStyles(this.css.MWF_dialod_under),this.content&&this.content.setStyles(this.css.MWF_dialod_content),this.bottom&&this.bottom.setStyles(this.css.MWF_dialod_bottom),this.resizeNode&&this.resizeNode.setStyles(this.css.MWF_dialod_bottom_resize),this.button&&this.button.setStyles(this.css.MWF_dialod_button),this.title&&this.setTitleEvent(),this.titleRefresh&&this.setTitleRefreshNode(),this.content&&this.getContent(),this.titleAction&&this.getAction(),this.resizeNode&&this.setResizeNode(),this.content&&this.setContentSize()},setTitleRefreshNode:function(){this.titleRefresh.setStyles(this.css.titleRefresh),this.titleRefresh.set("title",o2.LP.widget.refresh)},setTitleEvent:function(){var t;layout.app&&(t=layout.app.content),layout.desktop.currentApp&&(t=layout.desktop.currentApp.content),this.containerDrag=new Drag.Move(this.node,{handle:this.title,container:this.options.container||this.markNode||t,snap:5})},setResizeNode:function(){this.options.isResize?this.resizeNode&&this.node.makeResizable({handle:this.resizeNode||this.bottom,limit:{x:[200,null],y:[150,null]},onDrag:function(){var t=this.node.getComputedSize();this.css.to.width=t.width,this.css.to.height=t.height,this.setContentSize(t.height,t.width),this.fireEvent("resize")}.bind(this),onComplete:function(){this.fireEvent("resizeCompleted")}.bind(this)}):this.resizeNode&&this.resizeNode.hide()},getAction:function(){this.options.isClose&&(this.closeAction=new Element("div",{styles:this.css.closeAction}).inject(this.titleAction),this.closeAction.addEvent("click",this.close.bind(this)))},getButton:function(){for(i in this.options.buttons)new Element("input",{type:"button",value:i,class:"mainColor_bg",styles:this.css.button,events:{click:this.options.buttons[i].bind(this)}}).inject(this.button);this.options.buttonList&&this.options.buttonList.each(function(t){var e=this.css.button;"ok"===t.type&&this.css.okButton&&(e=this.css.okButton),"cancel"===t.type&&this.css.cancelButton&&(e=this.css.cancelButton),t.styles&&(e=t.styles);new Element("input",{type:"button",value:t.text,title:t.title,class:"cancel"!==t.type?"mainColor_bg":"",styles:e,events:{click:function(e){t.action.call(this,this,e)}.bind(this)}}).inject(this.button)}.bind(this))},getContentSize:function(t,e){var i,s;t||(this.options.contentHeight?i=t=this.options.contentHeight.toFloat():t=this.options.height.toFloat()),e||(this.options.contentWidth?s=e=this.options.contentWidth.toFloat():e=this.options.width.toFloat());var o,n=0;if(this.title){var a=this.title.getSize().y,r=this.title.getStyle("padding-top").toFloat(),h=this.title.getStyle("padding-bottom").toFloat(),l=this.title.getStyle("margin-top").toFloat(),c=this.title.getStyle("margin-bottom").toFloat();n+=a+r+h+l+c}if(this.bottom){var d=this.bottom.getSize().y,p=this.bottom.getStyle("padding-top").toFloat(),u=this.bottom.getStyle("padding-bottom").toFloat(),m=this.bottom.getStyle("margin-top").toFloat(),f=this.bottom.getStyle("margin-bottom").toFloat();n+=d+p+u+m+f}if(this.button){var g=this.button.getSize().y,y=this.button.getStyle("padding-top").toFloat(),A=this.button.getStyle("padding-bottom").toFloat(),w=this.button.getStyle("margin-top").toFloat(),b=this.button.getStyle("margin-bottom").toFloat();n+=g+y+A+w+b}var v=this.content.getStyle("padding-top").toFloat(),x=this.content.getStyle("padding-bottom").toFloat(),S=this.content.getStyle("margin-top").toFloat(),F=this.content.getStyle("margin-bottom").toFloat();n+=v+x+S+F;var k=0;if(i?i=i+n+2:(t-=n)<0&&(k=(k=(this.options.container||$(document.body)).getSize().y)-n-10),o=this.content.getStyle("padding-left").toFloat()+this.content.getStyle("padding-right").toFloat()+this.content.getStyle("margin-left").toFloat()+this.content.getStyle("margin-right").toFloat(),s?s+=o:e-=o,i&&(this.options.height=i,this.options.contentHeight=null,this.options.fromTop=this.options.fromTop.toFloat()-n/2,this.options.top=this.options.top.toFloat()-n/2,this.css.to.height=i+"px",this.css.to.top=this.options.top+"px",this.css.from.top=this.options.fromTop+"px"),s&&(this.options.width=s,this.options.contentWidth=null,this.options.fromLeft=this.options.fromLeft.toFloat()-o/2,this.options.left=this.options.left.toFloat()-o/2,this.css.to.width=s+"px",this.css.to.left=this.options.left+"px",this.css.from.left=this.options.fromLeft+"px"),!t||t<0){this.content.setStyles({overflow:"hidden",height:"auto",width:e+"px"}),k&&this.content.setStyles({"max-height":k+"px"});var M=(t=this.content.getSize().y)+a+r+h+l+c;M=(M=(M=M+d+p+u+m+f)+g+y+A+w+b)+v+x+S+F,this.css.to.height=M}return{height:t+"px",width:e+"px"}},setContentSize:function(t,e){this.content.setStyles(this.getContentSize(t,e)),this.content.setStyle("width","auto")},reCenter:function(){var t=this.node.getSize(),e=$(document.body);layout.desktop.currentApp?e=layout.desktop.currentApp.content:this.options.container&&this.options.container.getSize().y<$(document.body).getSize().y&&(e=this.options.container);var i=o2.getCenter(t,e,e);i.y<0&&(i.y=0),this.options.top=i.y,this.options.left=i.x,this.css.to.top=this.options.top+"px",this.css.to.left=this.options.left+"px",this.node.setStyles({top:this.css.to.top,left:this.css.to.left})},getTitle:function(){this.titleText.set("text",this.options.title)},getContent:function(){this.content.setStyles(this.css.content),this.options.content?this.options.content.inject(this.content):this.options.url?(this.content.set("load",{method:"get",async:!1}),$(this.content).loadHtml(this.options.url,{bind:{lp:this.options.lp}})):this.options.html?this.content.set("html",this.options.html):this.options.text&&this.content.set("text",this.options.text)},show:function(){if(this.options.mark&&this._markShow(),this.morph||(this.morph=new Fx.Morph(this.node,{duration:this.options.duration,transition:this.options.transition})),this.fireEvent("queryShow")){this.node.setStyle("display","block");var t=this.node.getOffsetParent().getPosition(),e=this.css.to.height.toInt(),i=this.css.to.top.toInt();i+=t.y;var s=window.innerHeight.toInt();e+i>s&&((i=s-t.y-e-20)<0&&(i=0),this.css.to.top=i+"px"),this.morph.start(this.css.to).chain(function(){this.titleText&&this.getTitle(),this.button&&this.getButton(),this.fireEvent("postShow")}.bind(this))}},hide:function(){this.morph||(this.morph=new Fx.Morph(this.node,{duration:this.options.duration,transition:this.options.transition})),this.fireEvent("queryHide")&&(this.titleText&&this.titleText.set("text",""),this.button&&this.button.set("html",""),this.morph.start(this.css.from).chain(function(){this._markHide(),this.node.setStyle("display","none"),this.fireEvent("postHide")}.bind(this)))},close:function(){this.morph||(this.morph=new Fx.Morph(this.node,{duration:this.options.duration,transition:this.options.transition})),this.fireEvent("queryClose")&&this.morph.start(this.css.from).chain(function(){this._markHide(),this.node.destroy(),this.node=null,this.fireEvent("postClose")}.bind(this))},_markShow:function(){if(this.options.mark){if(!this.markNode){var t=o2.getMarkSize(this.options.maskNode);this.markNode=new Element("div",{styles:this.css.mark}).inject(this.options.container||$(document.body)),this.markNode.set("styles",{height:t.y,width:t.x})}this.markNode.setStyle("display","block")}},_markHide:function(){this.markNode&&(this.markNode.setStyle("display","none"),this.markNode.destroy(),this.markNode=null),this.markNode_up&&(this.markNode_up.setStyle("display","none"),this.markNode_up.destroy(),this.markNode_up=null)}}),o2.widget=o2.widget||{},o2.widget.UUID=new Class({initialize:function(){this.id=this.createUUID()},valueOf:function(){return this.id},toString:function(){return this.id},createUUID:function(){var t=new Date(1582,10,15,0,0,0,0),e=(new Date).getTime()-t.getTime();return this.getIntegerBits(e,0,31)+this.getIntegerBits(e,32,47)+(this.getIntegerBits(e,48,59)+"1")+this.getIntegerBits(this.rand(4095),0,7)+this.getIntegerBits(this.rand(4095),0,7)+(this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,15))},getIntegerBits:function(t,e,i){var s=this.returnBase(t,16),o=new Array,n="",a=0;for(a=0;a<s.length;a++)o.push(s.substring(a,a+1));for(a=Math.floor(e/4);a<=Math.floor(i/4);a++)o[a]&&""!=o[a]?n+=o[a]:n+="0";return n},returnBase:function(t,e){return t.toString(e).toUpperCase()},rand:function(t){return Math.floor(Math.random()*(t+1))}}),o2.xDesktop=o2.xDesktop||{},o2.xd=o2.xDesktop,o2.xDesktop.requireApp=function(t,e,i,s){o2.requireApp(t,e,i,s)},o2.xApplication=o2.xApplication||{},MWF.xDesktop.loadConfig=function(t){o2.JSON.get("res/config/config.json",(function(e){layout.config=e,"auto"===layout.config.app_protocol&&(layout.config.app_protocol=window.location.protocol),layout.config.systemName=layout.config.systemName||layout.config.footer,layout.config.systemTitle=layout.config.systemTitle||layout.config.title,t&&t()}))},MWF.xDesktop.getService=function(t){MWF.xDesktop.getServiceAddress(layout.config,(function(e,i){layout.serviceAddressList=e,layout.centerServer=i,t&&t()}))},MWF.xDesktop.loadService=function(t){MWF.xDesktop.loadConfig((function(){MWF.xDesktop.getService(t)}))},MWF.xDesktop.checkLogin=function(t){layout.authentication=new MWF.xDesktop.Authentication({onLogin:t}),layout.authentication.isAuthenticated(function(e){layout.session.user=e.data,t&&t()}.bind(this),(function(){layout.authentication.loadLogin(this.node)}))},MWF.xDesktop.getDefaultLayout=function(t){MWF.UD.getPublicData("defaultLayout",function(e){e&&(layout.defaultLayout=e),t&&t()}.bind(this))},MWF.xDesktop.getUserLayout=function(t){MWF.UD.getPublicData("forceLayout",function(e){var i=null;e&&(i=e),MWF.UD.getDataJson("layout",function(e){e?(layout.userLayout=e,i&&(layout.userLayout.apps=Object.merge(layout.userLayout.apps,i.apps)),t&&t()):MWF.UD.getPublicData("defaultLayout",function(e){e&&(layout.userLayout=e,i&&(layout.userLayout.apps=Object.merge(layout.userLayout.apps,i.apps))),t&&t()}.bind(this))}.bind(this))}.bind(this))},MWF.xDesktop.notice=function(t,e,i,s,o,n){e||(e={x:"right",y:"top"}),t||(t="ok");var a=s||layout.desktop.desktopNode||document.body,r=o;r||(r={x:10,y:(e.y.toString().toLowerCase(),10)});var h={type:t,position:e,move:!1,target:a,offset:r,content:i};n&&"object"===typeOf(n)&&(h=Object.merge(h,n)),new mBox.Notice(h)},MWF.xDesktop.loadPortal=function(t){layout.openApplication(null,"portal.Portal",{portalId:t,onAfterModulesLoad:function(){var t=$("layout");t&&t.setStyles({position:"absolute",width:"100%","z-index":100,top:"0px",left:"0px"}).fade("out");var e=$("appContent");e&&e.setStyles({position:"absolute",width:"100%",top:"0px",opacity:0,left:"0px"}).fade("in")}},null,!0)},MWF.name={cns:function(t){if("array"!==typeOf(t))return[];var e=[];return t.each(function(t){e.push(this.cn(t))}.bind(this)),e},cn:function(t){if(!t)return"";var e=t.indexOf("@");return-1!==e?t.substring(0,e):t},ou:function(t){if(!t)return"";var e=t.indexOf("@"),i=t.lastIndexOf("@");return-1===e?t:i===e?"":t.substring(e+1,i)},flag:function(t){if(!t)return"";var e=t.lastIndexOf("@");return-1===e?"":t.substring(e+1,t.length)},type:function(t){if(!t)return"";var e=t.lastIndexOf("@");return-1===e?"":t.substring(e+1,t.length)}},MWF.xDesktop.confirm=function(t,e,i,s,o,n,a,r,h,l,c){MWF.require("MWF.xDesktop.Dialog",function(){var d,p=layout.desktop.node||$(document.body),u=p.getSize(),m=0,f=0;"element"==typeOf(e)?(m=(d=e.getPosition(p)).x,f=d.y):("firefox"==Browser.name?(m=parseFloat(e.event.clientX),f=parseFloat(e.event.clientY)):(m=parseFloat(e.event.x),f=parseFloat(e.event.y)),e.target&&(m=(d=e.target.getPosition(p)).x,f=d.y));m+parseFloat(o)>u.x&&(m-=parseFloat(o)),m<0&&(m=0),f+parseFloat(n)>u.y&&(f-=parseFloat(n)),f<0&&(f=0);var g="",y="";"object"==typeOf(s).toLowerCase()?(g=s.text,y=s.html):g=s;var A=new MWF.xDesktop.Dialog({title:i,style:c||"o2",top:f,left:m-20,fromTop:f,fromLeft:m-20,width:o,height:n,text:g,html:y,container:MWF.xDesktop.node,maskNode:l,buttonList:[{type:"ok",text:MWF.LP.process.button.ok,action:a},{type:"cancel",text:MWF.LP.process.button.cancel,action:r}]});switch(t.toLowerCase()){case"success":A.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"error":A.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"info":A.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"warn":A.content.setStyle("background-image","url(data:image/png;base64,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)")}A.show(),h&&h(A)}.bind(this))},MWF.xDesktop.getImageSrc=function(t){"auto"==layout.config.app_protocol&&(layout.config.app_protocol=window.location.protocol);var e=layout.serviceAddressList.x_file_assemble_control;if(e)var i=layout.config.app_protocol+"//"+e.host+(80==e.port?"":":"+e.port)+e.context;else{var s=layout.config.center.host||window.location.hostname,o=layout.config.center.port;i=layout.config.app_protocol+"//"+s+("80"==o?"":":"+o)+"/x_program_center"}var n="/jaxrs/file/"+t+"/download/stream";return o2.filterUrl(i+n)},MWF.xDesktop.setImageSrc=function(){if(event){var t=event.srcElement?event.srcElement:event.target;if(t){t.onerror=null;var e=t.get("data-id");e&&t.set("src",MWF.xDesktop.getImageSrc(e))}}},MWF.xDesktop.uploadImage=function(t,e,i,s,o,n){this.action=new MWF.xDesktop.Actions.RestActions("/xDesktop/Actions/action.json","x_file_assemble_control"),this.action.invoke({name:"uploadImage",parameter:{reference:t,referencetype:e},data:i,file:s,success:o,failure:n})},MWF.xDesktop.uploadImageByScale=function(t,e,i,s,o,n,a){this.action=new MWF.xDesktop.Actions.RestActions("/xDesktop/Actions/action.json","x_file_assemble_control"),this.action.invoke({name:"uploadImageByScale",parameter:{reference:t,referencetype:e,scale:i||0},data:s,file:o,success:n,failure:a})},MWF.xDesktop.copyImage=function(t,e,i,s,o,n){this.action=new MWF.xDesktop.Actions.RestActions("/xDesktop/Actions/action.json","x_file_assemble_control"),this.action.invoke({name:"copyImage",parameter:{reference:t,referencetype:e,attachmentId:i,scale:s||0},success:o,failure:n})},MWF.xDesktop.getPortalFileUr=function(t,e){var i="x_portal_assemble_surface",s=MWF.Actions.getHost(i)+"/"+i+MWF.Actions.get(i).action.actions.readFile.uri;return s=(s=s.replace("{flag}",t)).replace("{applicationFlag}",e)},MWF.xDesktop.getProcessFileUr=function(t,e){var i="x_processplatform_assemble_surface",s=MWF.Actions.getHost(i)+"/"+i+MWF.Actions.get(i).action.actions.readFile.uri;return s=(s=s.replace("{flag}",t)).replace("{applicationFlag}",e)},MWF.xDesktop.getCMSFileUr=function(t,e){var i="x_cms_assemble_control",s=MWF.Actions.getHost(i)+"/"+i+MWF.Actions.get(i).action.actions.readFile.uri;return s=(s=s.replace("{flag}",t)).replace("{applicationFlag}",e)},MWF.xDesktop.getServiceAddress=function(t,e){var i=function(){var e=$("browser_loadding"),i=$("appContent");(e?e.getFirst():i).empty();var s="<div style='width: 800px; color: #ffffff; margin: 30px auto'><div style='height: 40px;'>   <div style='height: 40px; width: 40px; float: left; background: url(../x_desktop/img/error.png)'></div>   <div style='margin-left: 50px; font-size: 20px; line-height: 40px;'>"+MWF.LP.desktop.notice.errorConnectCenter1+"</div></div><div style='margin-left: 0px;'>";if("array"===typeOf(t.center))t.center.each((function(t){var e="http://"+(t.host?t.host:window.location.hostname)+(t.port?":"+t.port:"")+"/x_program_center/jaxrs/echo";s+="<br><a style='margin-left: 50px; color: #e0e8d1; line-height: 30px;' href='"+e+"' target='_blank'>"+e+"</a>"}));else{var o="http://"+(t.center.host?t.center.host:window.location.hostname)+(t.center.port?":"+t.center.port:"")+"/x_program_center/jaxrs/echo";s+="<br><a style='margin-left: 50px; color: #e0e8d1; line-height: 30px;'href='"+o+"' target='_blank'>"+o+"</a>"}s+="</div><br><div style='margin-left: 50px; font-size: 20px'>"+MWF.LP.desktop.notice.errorConnectCenter2+"</div></div>",(e?e.getFirst():i).set("html",s),!e&&i&&i.setStyle("background-color","#666666")};if("object"===typeOf(t.center))MWF.xDesktop.getServiceAddressConfigObject(t.center,e,i);else if("array"===typeOf(t.center)){MWF.xDesktop.getServiceAddressConfigArray(t,e,i)}},MWF.xDesktop.chooseCenter=function(t){for(var e=window.location.host,i=null,s=0;s<t.center.length;s++){var o=t.center[s];if(!o.host||o.host.toString().toLowerCase()===e.toString().toLowerCase()){i=o;break}}return i},MWF.xDesktop.getServiceAddressConfigArray=function(t,e,i){var s=[];t.center.each(function(t){s.push(MWF.xDesktop.getServiceAddressConfigObject(t,function(t,i){s.each((function(t){t&&t.res&&t.res.isRunning()&&t.res.cancel(),t&&t.actionWorker&&t.actionWorker.terminate()})),e&&e(t,i)}.bind(this),function(){if(s.length)for(var t=0;t<s.length;t++){if(s[t].res&&s[t].res.isRunning())return"";if(s[t].actionWorker&&s[t].actionWorker.terminate)return""}i&&i()}.bind(this)))}.bind(this))},MWF.xDesktop.getServiceAddressConfigObject=function(t,e,i){var s=t;s||(s=layout.config.center);var o=s.host||window.location.hostname,n=s.port,a="";"auto"==layout.config.app_protocol&&(layout.config.app_protocol=window.location.protocol),a=n&&"80"!=n?layout.config.app_protocol+"//"+o+":"+n+"/x_program_center/jaxrs/distribute/assemble/source/{source}":layout.config.app_protocol+"//"+o+"/x_program_center/jaxrs/distribute/assemble/source/{source}";var r=layout.config.applicationServer&&layout.config.applicationServer.host?layout.config.applicationServer.host:window.location.hostname;a=a.replace(/{source}/g,r);try{return MWF.restful("get",a,null,{onSuccess:function(i){e&&e(i.data,t)}.bind(this),onRequestFailure:function(t){i&&i(t)}.bind(this),onError:function(t){i&&i(t)}.bind(this)})}catch(t){return i&&i(),null}},MWF.xDesktop.$globalEvents={},MWF.xDesktop.addEvent=function(t,e,i){MWF.xDesktop.$globalEvents[t]||(MWF.xDesktop.$globalEvents[t]={}),MWF.xDesktop.$globalEvents[t][e]||(MWF.xDesktop.$globalEvents[t][e]=[]),MWF.xDesktop.$globalEvents[t][e].push(i)},MWF.xDesktop.addEvents=function(t,e){MWF.xDesktop.$globalEvents[t]||(MWF.xDesktop.$globalEvents[t]={}),Object.each(e,function(e,i){MWF.xDesktop.addEvent(t,i,e)}.bind(this))},MWF.xDesktop.removeEvent=function(t,e,i){return!MWF.xDesktop.$globalEvents[t]||(!MWF.xDesktop.$globalEvents[t][e]||void MWF.xDesktop.$globalEvents[t][e].erase(i))},MWF.xDesktop.removeEvents=function(t,e){return!MWF.xDesktop.$globalEvents[t]||(!MWF.xDesktop.$globalEvents[t][e]||void(MWF.xDesktop.$globalEvents[t][e]=[]))},MWF.org={parseOrgData:function(t,e,i){if(!t.distinguishedName)return t;switch(t.distinguishedName.substr(t.distinguishedName.length-2,2).toLowerCase()){case"@i":return this.parseIdentityData(t,e,i);case"@p":return this.parsePersonData(t,i);case"@u":return this.parseUnitData(t,i);case"@g":return this.parseGroupData(t,i);case"@r":return this.parseRoleData(t,i);case"@a":return this.parseAttributeData(t,i);default:return t}},parseIdentityData:function(t,e,i){if(i)return(t={id:t.id,name:t.name,distinguishedName:t.distinguishedName,unitLevelName:t.unitLevelName,person:t.person,unit:t.unit,unitName:t.unitName}).ignoreEmpower&&(s.ignoreEmpower=!0),t.ignoredEmpower&&(s.ignoredEmpower=!0),t;var s={id:t.id,name:t.name,unique:t.unique,distinguishedName:t.distinguishedName,person:t.person,unit:t.unit,unitName:t.unitName,unitLevelName:t.unitLevelName};if(t.personName&&(s.personName=t.personName),t.personEmployee&&(s.personEmployee=t.personEmployee),t.personUnique&&(s.personUnique=t.personUnique),t.personDn&&(s.personDn=t.personDn),t.ignoreEmpower&&(s.ignoreEmpower=!0),t.ignoredEmpower&&(s.ignoredEmpower=!0),!(e&&t.personDn&&t.personEmployee&&t.personUnique)){var o=t.woPerson;t.woPerson||MWF.Actions.get("x_organization_assemble_control").getPerson(t.person,(function(t){o=t.data}),null,!1),s.personName=o.name,s.personEmployee=o.employee,s.personUnique=o.unique,s.personDn=o.distinguishedName,e||(s.woPerson={id:o.id,genderType:o.genderType,name:o.name,employee:o.employee,unique:o.unique,distinguishedName:o.distinguishedName,dn:o.distinguishedName,mail:o.mail,weixin:o.weixin,qq:o.qq,mobile:o.mobile,officePhone:o.officePhone})}return s},parsePersonData:function(t,e){return e?{id:t.id,name:t.name,employee:t.employee,distinguishedName:t.distinguishedName}:{id:t.id,genderType:t.genderType,name:t.name,employee:t.employee,unique:t.unique,distinguishedName:t.distinguishedName,dn:t.distinguishedName,mail:t.mail,weixin:t.weixin,qq:t.qq,mobile:t.mobile,officePhone:t.officePhone}},parseUnitData:function(t,e){return e?{id:t.id,name:t.name,distinguishedName:t.distinguishedName,levelName:t.levelName}:{id:t.id,name:t.name,unique:t.unique,distinguishedName:t.distinguishedName,dn:t.distinguishedName,typeList:t.typeList,shortName:t.shortName,level:t.level,levelName:t.levelName}},parseGroupData:function(t,e){return e?{id:t.id,name:t.name,distinguishedName:t.distinguishedName}:{id:t.id,name:t.name,unique:t.unique,distinguishedName:t.distinguishedName,dn:t.distinguishedName}},parseRoleData:function(t,e){return e?{id:t.id,name:t.name,distinguishedName:t.distinguishedName}:{id:t.id,name:t.name,unique:t.unique,distinguishedName:t.distinguishedName,dn:t.distinguishedName}},parseAttributeData:function(t,e){return e?{id:t.id,name:t.name,distinguishedName:t.distinguishedName,person:t.person,attributeList:Array.clone(t.attributeList)}:{id:t.id,description:t.description,name:t.name,unique:t.unique,distinguishedName:t.distinguishedName,dn:t.distinguishedName,person:t.person,attributeList:Array.clone(t.attributeList)}}},MWF.xDesktop.Actions=MWF.xDesktop.Actions||{},MWF.xDesktop.Actions.RestActions=new Class({Implements:[Events],initialize:function(t,e,i){this.actionPath=t,this.serviceName=e,this.root=i},listApplicationAddress:function(t,e){var i=this.actions.listAddress;i=this.actions.slotHost+i;var s=new MWF.xApplication.Common.Actions.RestActions.Callback(t,e);MWF.getJSON(i,s)},getAddress:function(t,e){var i=layout.serviceAddressList[this.serviceName];if(i)this.address=layout.config.app_protocol+"//"+(i.host||window.location.hostname)+(80==i.port?"":":"+i.port)+i.context;else{var s=layout.desktop.centerServer.host||window.location.hostname,o=layout.desktop.centerServer.port;this.address=layout.config.app_protocol+"//"+s+("80"==o?"":":"+o)+"/x_program_center"}return t&&t.apply(),this.address},getActions:function(t){if(this.actions)t&&t();else{var e=this.root?"/"+this.root+this.actionPath:MWF.defaultPath+this.actionPath;MWF.getJSON(e,function(e){this.actions=e,t&&t()}.bind(this),!1,!1,!1)}},invokeUri:function(t){this.address||this.getAddress();var e=this.address+t.uri,i=!1!==t.async,s=t.method||"GET",o=new MWF.xDesktop.Actions.RestActions.Callback(t.success,t.failure),n=t.data?JSON.encode(t.data):"",a=!0;!1===t.withCredentials&&(a=!1),MWF.restful(s,e,n,o,i,a)},invoke:function(t){if(window.importScripts&&window.isCompletionEnvironment)return null;this.address||this.getAddress();var e=null;return this.getActions(function(){var i=this.actions[t.name],s=i.method||"GET",o=i.uri,n=i.progress;if(t.parameter&&Object.each(t.parameter,(function(e,i){var s=new RegExp("{"+i+"}","g");o=!1===t.urlEncode?o.replace(s,e):o.replace(s,encodeURI(e))})),o=this.address+o,layout.config.mock&&layout.config.mock[this.serviceName]){var a=layout.config.mock[this.serviceName][s.toLowerCase()];if(a){s=a.to||s;var r=a.append;o+="/"==o.substr(o.length-1,1)?r:"/"+r}}var h=!1!==t.async,l=new MWF.xDesktop.Actions.RestActions.Callback(t.success,t.failure);if(i.enctype&&"formdata"==i.enctype.toLowerCase())e=this.invokeFormData(s,o,t.data,t.file,l,h,n);else{var c=t.data?JSON.encode(t.data):"",d=!0;!1===t.withCredentials&&(d=!1),e=MWF.restful(s,o,c,l,h,d,t.cache)}}.bind(this)),e},formDataUpdateProgress:function(){},invokeFormDataWithProgress:function(t,e,i,s,o,n,a,r){var h=null,l=new Date;t.upload.addEventListener("progress",function(e){this.updateProgress(e,t,h,l)}.bind(this),!1),t.upload.addEventListener("load",function(e){o&&this.transferComplete(e,t,h,l,o)}.bind(this),!1),t.upload.addEventListener("loadstart",function(e){this.transferStart(e,t,h)}.bind(this),!1),t.upload.addEventListener("error",function(e){this.transferFailed(e,t,h)}.bind(this),!1),t.upload.addEventListener("abort",function(e){this.transferCanceled(e,t,h)}.bind(this),!1),t.upload.addEventListener("timeout",function(e){this.transferCanceled(e,t,h)}.bind(this),!1),t.addEventListener("readystatechange",function(e){this.xhrStateChange(e,t,h,n)}.bind(this),!1),t.open(e,i,!1!==a),t.withCredentials=!0,o&&File.prototype.isPrototypeOf(o)&&(h=this.addFormDataMessage(o,!1,t,r)),t.send(s)},setMessageText:function(t,e){if(t&&t.message){t.contentNode.getFirst("div").getFirst("div").getFirst("div");t.contentNode.getFirst("div").getLast("div").set("text",e),t.dateNode.set("text",(new Date).format("db"))}t&&t.moduleMessage&&t.moduleMessage.setMessageText&&t.moduleMessage.setMessageText()},setMessageTitle:function(t,e){t&&t.message&&t.subjectNode.set("text",e),t&&t.moduleMessage&&t.moduleMessage.setMessageTitle&&t.moduleMessage.setMessageTitle()},clearMessageProgress:function(t){t&&t.message&&t.contentNode.getFirst("div").getFirst("div").destroy();t&&t.moduleMessage&&t.moduleMessage.clearMessageProgress&&t.moduleMessage.clearMessageProgress()},transferStart:function(t,e,i){i&&i.message&&(this.setMessageText(i,MWF.LP.desktop.action.sendStart),i.status="progress"),i&&i.moduleMessage&&i.moduleMessage.transferStart&&i.moduleMessage.transferStart(),this.fireEvent("loadstart")},transferFailed:function(t,e,i){i&&i.message&&(this.setMessageText(i,MWF.LP.desktop.action.sendError),this.setMessageTitle(i,MWF.LP.desktop.action.sendError),this.clearMessageProgress(i),i.status="failed"),i&&i.moduleMessage&&i.moduleMessage.transferFailed&&i.moduleMessage.transferFailed(),this.fireEvent("error")},transferCanceled:function(t,e,i){i&&i.message&&(this.setMessageText(i,MWF.LP.desktop.action.sendAbort),this.setMessageTitle(i,MWF.LP.desktop.action.sendAbort),this.clearMessageProgress(i),i.status="cancel"),i&&i.moduleMessage&&i.moduleMessage.transferCanceled&&i.moduleMessage.transferCanceled(),this.fireEvent("abort")},transferComplete:function(t,e,i,s,o){var n=(new Date).getTime()-s.getTime(),a=o.size/n,r="K/S";a>1024&&(r="M/S",a/=1024),a>1024&&(r="G/S",a/=1024),a=a.round(2);var h="";if(n>36e5){var l=n%36e5,c=l/6e4,d=l%6e4/1e3;h=""+(n/36e5).toInt()+MWF.LP.desktop.action.hour+c.toInt()+MWF.LP.desktop.action.minute+d.toInt()+MWF.LP.desktop.action.second}else if(n>6e4){d=n%6e4/1e3;h=""+(c=n/6e4).toInt()+MWF.LP.desktop.action.minute+d.toInt()+MWF.LP.desktop.action.second}else{h=""+(d=n/1e3).toInt()+MWF.LP.desktop.action.second}i&&i.message&&(this.setMessageText(i,MWF.LP.desktop.action.uploadComplete+"  "+MWF.LP.desktop.action.speed+": "+a+r+"  "+MWF.LP.desktop.action.time+": "+h,MWF.LP.desktop.action.uploadComplete),this.setMessageTitle(i,MWF.LP.desktop.action.uploadComplete),this.clearMessageProgress(i),i.status="completed"),i&&i.moduleMessage&&i.moduleMessage.transferComplete&&i.moduleMessage.transferComplete(),this.fireEvent("load")},updateProgress:function(t,e,i,s){var o=t.loaded/t.total*100,n=(new Date).getTime()-s.getTime(),a=t.loaded/n,r="K/S";if(a>1024&&(r="M/S",a/=1024),a>1024&&(r="G/S",a/=1024),a=a.round(2),i&&i.message&&i.contentNode){var h=i.contentNode.getFirst("div").getFirst("div").getFirst("div"),l=i.contentNode.getFirst("div").getLast("div");h.setStyle("width",o+"%"),l.set("text",MWF.LP.desktop.action.sendStart+": "+a+r)}i&&i.moduleMessage&&i.moduleMessage.updateProgress&&i.moduleMessage.updateProgress(o),this.fireEvent("progress")},xhrStateChange:function(t,e,i,s){if(4==e.readyState){var o=e.status;if((o=1223==o?204:o)>=200&&o<300){var n=JSON.decode(e.responseText);if(n)switch(n.type){case"success":var a="";"array"==(r=typeOf(n.data))&&(a=n.data[0].id),"object"==r&&(a=n.data.id),MWF.runCallback(s,"success",[{type:"success",id:a,messageId:i&&i.moduleMessage?i.moduleMessage.data.id:"",data:n.data},e.responseText]);break;case"warn":MWF.xDesktop.notice("info",{x:"right",y:"top"},n.errorMessage.join("\n"));var r;a="";"array"==(r=typeOf(n.data))&&(a=n.data[0].id),"object"==r&&(a=n.data.id),MWF.runCallback(s,"success",[{type:"success",id:a},e.responseText]);break;case"error":(h=i&&i.moduleMessage?i.moduleMessage.data.id:"")&&e&&(e.messageId=h),MWF.runCallback(s,"failure",[e])}else(h=i&&i.moduleMessage?i.moduleMessage.data.id:"")&&e&&(e.messageId=h),MWF.runCallback(s,"failure",[e])}else{var h;(h=i&&i.moduleMessage?i.moduleMessage.data.id:"")&&e&&(e.messageId=h),MWF.runCallback(s,"failure",[e])}}},invokeFormDataWithoutProgress:function(t,e,i,s,o,n,a,r){var h=null,l=new Date;t.addEventListener("readystatechange",function(e){4==t.readyState&&(o&&this.transferComplete(e,t,h,l,o),this.xhrStateChange(e,t,h,n))}.bind(this),!1),t.open(e,i,!0),t.withCredentials=!0,h=this.addFormDataMessage(o,!0,t,r),t.send(s),this.setMessageText(h,MWF.LP.desktop.action.sendStart)},invokeFormDataWithForm:function(t,e,i,s,o,n,a){MWF.O2UploadCallback=n,MWF.O2UploadCallbackFun=function(){MWF.O2UploadCallback&&MWF.O2UploadCallback()};var r=s.items[0].value.el.getParent();r.set("styles",{width:"500px",height:"300px","background-color":"#999999",position:"absolute",top:"100px",left:"100px","z-index":"30000",display:"block"}).inject(document.body);var h=new Element("form",{method:e,action:-1!=i.indexOf("?")?i+"&callback=MWF.O2UploadCallbackFun":i+"?callback=MWF.O2UploadCallbackFun",enctype:"multipart/form-data",target:"o2_upload_iframe"}).inject(r);new Element("iframe",{name:"o2_upload_iframe"}).inject(r);s.items.each(function(t){"string"==typeOf(t.value)?new Element("input",{name:t.name,value:t.value}).inject(h):(t.value.el.inject(h),t.value.el.set("name",t.name))}.bind(this));new Element("input",{type:"submit"}).inject(h)},invokeFormData:function(t,e,i,s,o,n,a){e=o2.filterUrl(e);var r=new COMMON.Browser.Request;return s&&i.append("fileName",s.name),"o2_formdata"===i.type?this.invokeFormDataWithForm(r,t,e,i,s,o,n):r.upload?this.invokeFormDataWithProgress(r,t,e,i,s,o,n,a):this.invokeFormDataWithoutProgress(r,t,e,i,s,o,n,a),r},addFormDataMessage:function(t,e,i,s){if(layout.desktop.message){var o="";o=e?'<div style="height: 20px; line-height: 20px">'+MWF.LP.desktop.action.sendReady+"</div></div>":'<div style="overflow: hidden"><div style="height: 3px; border:1px solid #999; margin: 3px 0px"><div style="height: 3px; background-color: #acdab9; width: 0px;"></div></div><div style="height: 20px; line-height: 20px">'+MWF.LP.desktop.action.sendReady+"</div></div>";var n={subject:MWF.LP.desktop.action.uploadTitle,content:(t.name?t.name+"<br/>":"")+o},a=layout.desktop.message.addMessage(n);a.close=function(e,s){if("progress"==this.status){flag=!1;var o=MWF.LP.desktop.action.cancelUpload.replace(/{name}/g,t.name||"");MWF.xDesktop.confirm("wram",s,MWF.LP.desktop.action.cancelUploadTitle,o,"400","140",(function(){i.abort(),this.close()}),(function(){this.close()}))}else a.closeItem(e,s)}}if(this.targetModule){var r=this.targetModule.module.addFormDataMessage(this.targetModule.file);a||(a={}),a.moduleMessage=r,this.targetModule=null}return s&&window.setTimeout(function(){layout.desktop.message&&(layout.desktop.message.isShow||layout.desktop.message.show())}.bind(this),300),a},getAuthentication:function(t,e){this.invoke({name:"authentication",async:!0,success:function(i,s){"anonymous"!=i.data.tokenType?t&&t(i):e&&e(null,s,i.message)},failure:e})},login:function(t,e,i){this.invoke({name:"login",async:!0,data:t,success:function(t,s){"anonymous"!=t.data.tokenType?e&&e(t):i&&i(null,s,t.message)},failure:i})},logout:function(t,e){this.invoke({name:"logout",async:!1,success:t,failure:e})}}),MWF.xDesktop.Actions.RestActions.Callback=new Class({initialize:function(t,e,i,s){this.success=t,this.failure=e,this.appendSuccess=i,this.appendFailure=s},onSuccess:function(t,e){if(!t)return this.doError(null,e,"");switch(t.type){case"success":return this.appendSuccess&&this.appendSuccess(t),this.success?this.success(t,e):t;case"warn":return MWF.xDesktop.notice("info",{x:"right",y:"top"},t.errorMessage.join("\n")),this.appendSuccess&&this.appendSuccess(t),this.success?this.success(t):t;case"error":return this.doError(null,e,t.message)}},onRequestFailure:function(t){return this.doError(t,"","")},onFailure:function(t,e,i){return this.doError(t,e,i)},onError:function(t,e){return this.doError(null,t,e)},doError:function(t,e,i){if(this.appendFailure&&this.appendFailure(t,e,i),this.failure&&this.failure.owner){if(this.failure.reject||this.failure.rejectList&&this.failure.rejectList.length)return this.failure(t,e,i);this.failure=null}else if(this.failure)return this.failure(t,e,i);if(!this.failure&&!this.appendFailure&&0!=t.status){var s=i;if(t){var o=JSON.decode(t.responseText);s=o?o.message.trim()||"request json error":"request json error: "+t.responseText}s=(s=s.replace(/\</g,"&lt;")).replace(/\</g,"&gt;"),layout.session&&layout.session.user&&MWF.xDesktop.notice("error",{x:"right",y:"top"},s)}return Promise.reject(t)}}),MWF.xAction=MWF.xAction||{},MWF.xAction.RestActions=MWF.Actions={actions:{},loadedActions:{},get:function(t){if(this.actions[t])return this.actions[t];var e=null,i=o2.session.path+"/xAction/services/"+t+".json";return MWF.getJSON(i,function(t){e=t}.bind(this),!1,!1,!1),!MWF.xAction.RestActions.Action[t]&&e.clazz&&MWF.require("MWF.xAction.services."+e.clazz,null,!1),MWF.xAction.RestActions.Action[t]||(MWF.xAction.RestActions.Action[t]=new Class({Extends:MWF.xAction.RestActions.Action})),this.actions[t]=new MWF.xAction.RestActions.Action[t](t,e),this.actions[t]},load:function(t){if(this.loadedActions[t])return this.loadedActions[t];var e=null,i=this.getHost(t)+"/"+t+"/describe/api.json";if(MWF.getJSON(i,function(t){e=t.jaxrs}.bind(this),!1,!1,!1),e){var s={};return e.each(function(e){if(e.methods&&e.methods.length){var i={};e.methods.each(function(t){var e={uri:"/"+t.uri};t.method&&(e.method=t.method),t.enctype&&(e.enctype=t.enctype),i[t.name]=e}.bind(this)),s[e.name]=new MWF.xAction.RestActions.Action(t,i)}}.bind(this)),this.loadedActions[t]=s,s}return null},async:function(t,e){var i="function"===o2.typeOf(e)?e:e.success,s="function"===o2.typeOf(e)?null:e.failure,o=[],n=t.length,a=new Array(n-1),r=function(){o.length===n&&i.apply(this,a)};t.each((function(t,e){var i=t.par||[];i.push((function(t){a[e]=t,o.push(!0),r()})),i.push((function(t,e,i){o.push(!1),s?s():function(t,e,i){if(0!=t.status){var s=i;if(t){var o=JSON.decode(t.responseText);s=o?o.message.trim()||"request json error":"request json error: "+t.responseText}MWF.xDesktop.notice("error",{x:"right",y:"top"},s)}}(t,0,i),r()})),i.push(!0),i.push(t.urlEncode),i.push(t.cache),t.action[t.subAction][t.name].apply(t.action[t.subAction],i)}))},invokeAsync2:function(t,e){var i="function"===o2.typeOf(e)?e:e.success,s="function"===o2.typeOf(e)?null:e.failure,o=[],n=t.length,a=new Array(n-1),r=function(){o.length===n&&i.apply(this,a)};t.each((function(t,e){var i=t.par||[];i.push((function(t){a[e]=t,o.push(!0),r()})),i.push((function(t,e,i){o.push(!1),s?s():function(t,e,i){if(0!=t.status){var s=i;if(t){var o=JSON.decode(t.responseText);s=o?o.message.trim()||"request json error":"request json error: "+t.responseText}MWF.xDesktop.notice("error",{x:"right",y:"top"},s)}}(t,0,i),r()})),i.push(!0),i.push(t.urlEncode),i.push(t.cache),t.action[t.name].apply(t.action,i)}))},getHost:function(t){var e=layout.serviceAddressList[t],i="";if(e)i=layout.config.app_protocol+"//"+(e.host||window.location.hostname)+(80==e.port?"":":"+e.port);else{var s=layout.desktop.centerServer.host||window.location.hostname,o=layout.desktop.centerServer.port;i=layout.config.app_protocol+"//"+s+("80"==o?"":":"+o)}return i},invokeAsync:function(t,e){var i=t.length,s=arguments.length-2,o=[],n=new Array(i-1),a=arguments,r="function"===o2.typeOf(e)?e:e.success,h="function"===o2.typeOf(e)?null:e.failure,l=function(){o.length===i&&r.apply(this,n)},c=function(t,e,i){if(0!=t.status){var s=i;if(t){var o=JSON.decode(t.responseText);s=o?o.message.trim()||"request json error":"request json error: "+t.responseText}MWF.xDesktop.notice("error",{x:"right",y:"top"},s)}};t.each((function(t,e){var i=e<s?a[e+2]:a[s+1];if(i){var r="array"===o2.typeOf(i)?i:[i];r.unshift((function(t,e,i){o.push(!1),h?h():c(t,e,i),l()})),r.unshift((function(t){n[e]=t,o.push(!0),l()}));t.action[t.name].apply(t.action,r)}else t.action[t.name]((function(){n[e]=json,o.push(!0),l()}),(function(t,e,i){o.push(!1),h?h():c(t,e,i),l()}))}))}},MWF.xAction.RestActions.Action=new Class({initialize:function(t,e){this.action=new MWF.xDesktop.Actions.RestActions("/xAction/services/"+t+".json",t,""),this.action.actions=e,Object.each(this.action.actions,function(t,e){t.uri&&(this[e]||this.createMethod(t,e))}.bind(this))},createMethod:function(t,e){var i=t.uri,s=new RegExp("{.+?}","g"),o=i.match(s),n=[];o&&(n=o.map((function(t){return t.substring(1,t.length-1)}))),this[e]=this.invokeFunction(t,n,e)},invokeFunction:function(t,e,i){return function(){var s,o,n,a,r,h=e.length-1,l=arguments.length,c=arguments,d={};return"function"===typeOf(c[0])?(h=-1,s=l>++h?c[h]:null,o=l>++h?c[h]:null,e.each((function(t,e){d[t]=l>++h?c[h]:null})),!t.method||"post"!==t.method.toLowerCase()&&"put"!==t.method.toLowerCase()||(t.enctype&&"formdata"===t.enctype.toLowerCase()?(a=l>++h?c[h]:null,r=l>++h?c[h]:null):a=l>++h?c[h]:null),n=l>++h?c[h]:null,urlEncode=!(l>++h)||c[h],cache=l>++h?c[h]:"ie"!=Browser.name):(e.each((function(t,e){d[t]=l>e?c[e]:null})),!t.method||"post"!==t.method.toLowerCase()&&"put"!==t.method.toLowerCase()||(t.enctype&&"formdata"===t.enctype.toLowerCase()?(a=l>++h?c[h]:null,r=l>++h?c[h]:null):a=l>++h?c[h]:null),s=l>++h?c[h]:null,o=l>++h?c[h]:null,n=l>++h?c[h]:null,urlEncode=!(l>++h)||c[h],cache=l>++h?c[h]:"ie"!=Browser.name),this.invoke(t,{name:i,async:n,data:a,file:r,parameter:d,success:s,failure:o,urlEncode:urlEncode,cache:cache})}.bind(this)},invoke:function(t,e){return this.action.invoke(e)}}),MWF.xDesktop=MWF.xDesktop||{},MWF.xApplication=MWF.xApplication||{},MWF.xDesktop.Access=MWF.AC={companyList:null,action:null,getRoleList:function(){this.roleList||(this.roleList=[],layout.desktop.session.user.roleList.each(function(t){this.roleList.push(t.substring(0,t.indexOf("@")).toLowerCase())}.bind(this)))},isAdministrator:function(){return this.getRoleList(),"xadmin"===layout.desktop.session.user.name.toLowerCase()||-1!==this.roleList.indexOf("manager")},isProcessManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("processplatformmanager"))},isPortalManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("portalmanager"))},isQueryManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("querymanager"))},isOrganizationManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("organizationmanager"))},isMessageManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("messagemanager"))},isServiceManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("servicemanager"))},isUnitManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("unitmanager"))},isGroupManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("groupmanager"))},isRoleManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("rolemanager"))},isPersonManager:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("personmanager"))},isGroupCreator:function(){return!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("groupcreator"))},isProcessPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isProcessManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("processplatformcreator")))},isPortalPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isPortalManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("portalcreator")))},isQueryPlatformCreator:function(){return!!this.isAdministrator()||(!!this.isQueryManager()||!!layout.desktop.session.user.roleList&&(this.getRoleList(),-1!==this.roleList.indexOf("querycreator")))},isApplicationManager:function(t){this.isAdministrator()&&t.yes&&t.yes()},isCMSManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("cmsmanager")},isBBSManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("bbsmanager")||-1!==this.roleList.indexOf("bssmanager")},isOKRManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("okrmanager")},isCRMManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("crmmanager")},isAttendanceManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("attendancemanager")},isMeetingAdministrator:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("meetingmanager")},isHotPictureManager:function(){return this.getRoleList(),this.isAdministrator()||-1!==this.roleList.indexOf("hotpicturemanager")},isPersonEditor:function(t){return!!this.isAdministrator()||(!!this.isPersonManager()||!(!t.list||!t.list.length||-1===t.list.indexOf(layout.desktop.session.user.id)))},isCompanyEditor:function(t){this.isAdministrator()||this.isCompanyCreator()?t.yes&&t.yes():this.getCompanyList(function(){t.id?-1!==this.companyList.indexOf(t.id)?t.yes&&t.yes():t.no&&t.no():this.companyList.length>0?t.yes&&t.yes():t.no&&t.no()}.bind(this))},isDepartmentEditor:function(t){this.isAdministrator()||this.isCompanyCreator()?t.yes&&t.yes():this.getCompanyList(function(){t.id&&-1!==this.companyList.indexOf(t.id)?t.yes&&t.yes():t.no&&t.no()}.bind(this))},getCompanyList:function(t){null===this.companyList?(this.getAction(),this.action.getCompanyAccess(function(e){e.data?this.companyList=e.data:this.companyList=[],t&&t()}.bind(this),null,layout.desktop.session.user.id)):t&&t()},getAction:function(){this.action||(this.action=MWF.Actions.get("x_organization_assemble_control"))}},o2.require("MWF.widget.Dialog",null,!1),o2.xDesktop.Dialog=o2.DDL=new Class({Extends:o2.widget.Dialog,options:{zindex:null,maxHeightPercent:"98%"},_markShow:function(){if(this.options.mark){if(!this.markNode){var t=MWF.getMarkSize(this.options.maskNode),e=this.options.container||$(document.body);this.markNode=new Element("iframe",{styles:this.css.mark}).inject(e),this.markNode.set("styles",{height:t.y,width:t.x}),this.markNode_up||(this.markNode_up=new Element("div",{styles:this.css.mark}).inject(e)),this.markNode_up.set("styles",{height:t.y,width:t.x})}this.markNode.setStyle("display","block")}},setZindex:function(){"number"===o2.typeOf(this.options.zindex)&&this.options.zindex>0&&(this.css=Object.clone(this.css),this.css.from["z-index"]=this.options.zindex.toString(),this.css.to["z-index"]=this.options.zindex.toString(),this.css.mark["z-index"]=(this.options.zindex-1).toString())},getDialogNode:function(){this.setZindex(),this.width=this.options.width,this.height=this.options.height,this.node.set("styles",this.css.from);var t=this.options.container||$(document.body);this.node.inject(t),this.title=this.node.getElement(".MWF_dialod_title"),this.titleCenter=this.node.getElement(".MWF_dialod_title_center"),this.titleText=this.node.getElement(".MWF_dialod_title_text"),this.titleAction=this.node.getElement(".MWF_dialod_title_action"),this.content=this.node.getElement(".MWF_dialod_content"),this.bottom=this.node.getElement(".MWF_dialod_bottom"),this.resizeNode=this.node.getElement(".MWF_dialod_bottom_resize"),this.button=this.node.getElement(".MWF_dialod_button"),this.options.buttonList&&0!==this.options.buttonList.length||this.options.buttons?(this.okButton=this.node.getElement(".MWF_dialod_ok_button"),this.cancelButton=this.node.getElement(".MWF_dialod_cancel_button")):(this.button.setStyle("display","none"),this.buttonDisable=!0),this.backAction=this.node.getElement(".MWF_dialod_Action_back"),this.options.isTitle||(this.title.destroy(),this.title=null,this.titleCenter=null,this.titleRefresh=null,this.titleText=null,this.titleAction=null),this.title&&this.setTitleEvent(),this.content&&this.getContent(),this.titleAction&&this.getAction(),this.resizeNode&&this.setResizeNode(),this.content&&this.setContentSize(),this.backAction&&this.backAction.addEvent("click",this.close.bind(this))},getButton:function(){for(i in this.options.buttons)new Element("input",{type:"button",value:i,styles:this.css.button,class:"mainColor_bg",events:{click:this.options.buttons[i].bind(this)}}).inject(this.button);this.options.buttonList&&this.options.buttonList.each(function(t){var e,i=this.css.button;"ok"===t.type&&this.css.okButton&&(i=this.css.okButton),"cancel"===t.type&&this.css.cancelButton&&(i=this.css.cancelButton),t.styles&&(i=t.styles),"ok"===t.type&&this.okButton?(e=this.okButton).show():"cancel"===t.type&&this.cancelButton?(e=this.cancelButton).show():e=t.tag?new Element(t.tag,{}).inject(this.button):new Element("input",{type:"button"}).inject(this.button),"button"===e.get("type")?e.set({value:t.text,title:t.title,styles:i,class:"cancel"!==t.type?"mainColor_bg":"",events:{click:function(e){t.action.call(this,this,e)}.bind(this)}}):e.set({text:t.text,title:t.title,styles:i,class:"cancel"!==t.type?"mainColor_bg":"",events:{click:function(e){t.action.call(this,this,e)}.bind(this)}})}.bind(this))},setTitleEvent:function(){var t;this.options.isMove&&(layout.app&&(t=layout.app.content),layout.desktop.currentApp&&(t=layout.desktop.currentApp.content),this.containerDrag=new Drag.Move(this.node,{handle:this.title,container:this.options.positionNode||this.options.container||this.markNode||t,snap:5}))},getAction:function(){this.options.isClose&&(this.closeAction=new Element("div",{styles:this.css.closeAction}).inject(this.titleAction),this.closeAction.addEvent("click",this.close.bind(this))),this.options.isMax&&(this.maxAction=new Element("div",{styles:this.css.maxAction}).inject(this.titleAction),this.maxAction.addEvent("click",this.maxSize.bind(this)),this.restoreAction=new Element("div",{styles:this.css.restoreAction}).inject(this.titleAction),this.restoreAction.hide(),this.restoreAction.addEvent("click",this.restoreSize.bind(this)),this.title&&this.title.addEvent("dblclick",function(){this.switchMax()}.bind(this)))},switchMax:function(){this.isMax?this.restoreSize():this.maxSize()},maxSize:function(){this.oldNodeSize||(this.oldNodeSize={width:this.nodeWidth,height:this.nodeHeight}),this.oldContentSize||(this.oldContentSize={width:this.contentWidth,height:this.contentHeight});var t=$(document.body);layout.desktop.currentApp?t=layout.desktop.currentApp.content:this.options.container&&this.options.container.getSize().y<$(document.body).getSize().y&&(t=this.options.container);var e=t.getSize();this.options.width=e.x,this.options.height=e.y,this.setContentSize(e.y,e.x),this.node.setStyles({width:e.x+"px",height:e.y+"px",top:"0px",left:"0px"}),this.maxAction.setStyle("display","none"),this.restoreAction.setStyle("display",""),this.isMax=!0,this.fireEvent("max")},restoreSize:function(){this.contentHeight=this.oldContentSize.height,this.contentWidth=this.oldContentSize.width,this.nodeHeight=this.oldNodeSize.height,this.nodeWidth=this.oldNodeSize.width,this.content.setStyles(this.oldContentSize),this.node.setStyles(this.oldNodeSize),this.reCenter(),this.maxAction.setStyle("display",""),this.restoreAction.setStyle("display","none"),this.isMax=!1,this.fireEvent("restore")},reCenter:function(){var t;t=null===this.node.offsetParent?this.node.measure((function(){return this.getSize()})):this.node.getSize(),this.options.positionWidth&&(t.x=parseInt(this.options.positionWidth)),this.options.positionHeight&&(t.y=parseInt(this.options.positionHeight));var e=$(document.body);this.options.positionNode&&this.options.positionNode.getSize().y<$(document.body).getSize().y?e=this.options.positionNode:layout.desktop.currentApp?e=layout.desktop.currentApp.content:this.options.container&&this.options.container.getSize().y<$(document.body).getSize().y&&(e=this.options.container);var i=o2.getCenter(t,e,e);i.y<(this.options.minTop||0)&&(i.y=this.options.minTop||0),this.options.top=i.y,this.options.left=i.x,this.css.to.top=this.options.top+"px",this.css.to.left=this.options.left+"px",this.node.setStyles({top:this.css.to.top,left:this.css.to.left})},getOffsetY:function(t){return(t.getStyle("margin-top").toInt()||0)+(t.getStyle("margin-bottom").toInt()||0)+(t.getStyle("padding-top").toInt()||0)+(t.getStyle("padding-bottom").toInt()||0)+(t.getStyle("border-top-width").toInt()||0)+(t.getStyle("border-bottom-width").toInt()||0)},getOffsetX:function(t){return(t.getStyle("margin-left").toInt()||0)+(t.getStyle("margin-right").toInt()||0)+(t.getStyle("padding-left").toInt()||0)+(t.getStyle("padding-right").toInt()||0)+(t.getStyle("border-left-width").toInt()||0)+(t.getStyle("border-right-width").toInt()||0)},getMarginY:function(t){return(t.getStyle("margin-top").toInt()||0)+(t.getStyle("margin-bottom").toInt()||0)},getMarginX:function(t){return(t.getStyle("margin-left").toInt()||0)+(t.getStyle("margin-right").toInt()||0)},setContentHeightAuto:function(){var t=this.getMaxHeight(),e=0,i=0;this.title&&(e=e+this.getOffsetY(this.title)+this.title.getSize().y),this.bottom&&(e=e+this.getOffsetY(this.bottom)+this.bottom.getSize().y),this.button&&!this.buttonDisable&&(e=e+this.getOffsetY(this.button)+this.button.getSize().y),i=this.content?(e+=this.getMarginY(this.content))+this.content.getSize().y:e,"number"===typeOf(t)&&i>t?(this.options.height=t,this.options.contentHeight=null,this.options.fromTop=this.options.fromTop.toFloat()-e/2,this.options.top=this.options.top.toFloat()-e/2,this.css.to.height=t+"px",this.css.to.top=this.options.top+"px",this.css.from.top=this.options.fromTop+"px",this.node.setStyles({height:t}),this.contentHeight=t-e,this.content&&this.content.setStyles({height:t-e,"overflow-y":"auto"})):(this.options.height=i,this.options.contentHeight=null,this.options.fromTop=this.options.fromTop.toFloat()-e/2,this.options.top=this.options.top.toFloat()-e/2,this.css.to.height=i+"px",this.css.to.top=this.options.top+"px",this.css.from.top=this.options.fromTop+"px",this.node.setStyles({height:i}),this.contentHeight=i-e,this.content&&this.content.setStyles({height:i-e,"overflow-y":"hidden"}))},getMaxHeight:function(){var t,e;if(this.options.maxHeightPercent&&(t=this.options.maxHeightPercent,"string"===typeOf(t)&&"%"===t.substr(t.length-1,1))){var i=(this.options.positionNode||this.options.container||$(document.body)).getSize().y;(t=parseInt(i*parseInt(t)/100))+(this.options.minTop||0)>i&&(t=i-this.options.minTop)}return this.options.maxHeight&&"NaN"!==parseFloat(this.options.maxHeight).toString()?(e=parseFloat(this.options.maxHeight),"number"===typeOf(t)&&(e=Math.min(e,t))):"number"===typeOf(t)&&(e=t),e},getNodeSize:function(){return{height:this.nodeHeight+"px",width:this.nodeWidth+"px"}},getContentSize:function(t,e){var i,s;if(t)this.nodeHeight=t;else if(this.options.contentHeight)i=t=this.options.contentHeight.toFloat(),this.contentHeight=t;else{t=this.options.height.toFloat();var o=this.getMaxHeight();"number"===typeOf(o)&&o<t&&(t=o),this.nodeHeight=t}e?this.nodeWidth=e:this.options.contentWidth?(s=e=this.options.contentWidth.toFloat(),this.contentWidth=e):(e=this.options.width.toFloat(),this.nodeWidth=e);var n,a=0;if(this.title){var r=this.title.getSize().y,h=this.title.getStyle("padding-top").toFloat(),l=this.title.getStyle("padding-bottom").toFloat(),c=this.title.getStyle("margin-top").toFloat(),d=this.title.getStyle("margin-bottom").toFloat();a+=r+h+l+c+d}if(this.bottom){var p=this.bottom.getSize().y,u=this.bottom.getStyle("padding-top").toFloat(),m=this.bottom.getStyle("padding-bottom").toFloat(),f=this.bottom.getStyle("margin-top").toFloat(),g=this.bottom.getStyle("margin-bottom").toFloat();a+=p+u+m+f+g}if(this.button&&!this.buttonDisable){var y=this.button.getSize().y,A=this.button.getStyle("padding-top").toFloat(),w=this.button.getStyle("padding-bottom").toFloat(),b=this.button.getStyle("margin-top").toFloat(),v=this.button.getStyle("margin-bottom").toFloat();a+=y+A+w+b+v}var x=this.content.getStyle("padding-top").toFloat(),S=this.content.getStyle("padding-bottom").toFloat(),F=this.content.getStyle("margin-top").toFloat(),k=this.content.getStyle("margin-bottom").toFloat();if(a+=x+S+F+k,i?i=i+a+2:t-=a,n=this.content.getStyle("padding-left").toFloat()+this.content.getStyle("padding-right").toFloat()+this.content.getStyle("margin-left").toFloat()+this.content.getStyle("margin-right").toFloat(),s?s+=n:e-=n,i?(this.nodeHeight=i,this.options.height=i,this.options.contentHeight=null,this.options.fromTop=this.options.fromTop.toFloat()-a/2,this.options.top=this.options.top.toFloat()-a/2,this.css.to.height=i+"px",this.css.to.top=this.options.top+"px",this.css.from.top=this.options.fromTop+"px"):this.contentHeight=t,s?(this.nodeWidth=s,this.options.width=s,this.options.contentWidth=null,this.options.fromLeft=this.options.fromLeft.toFloat()-n/2,this.options.left=this.options.left.toFloat()-n/2,this.css.to.width=s+"px",this.css.to.left=this.options.left+"px",this.css.from.left=this.options.fromLeft+"px"):this.contentWidth=e,!t||t<0){this.content.setStyles({overflow:"hidden",height:"auto",width:e+"px"});var M=(t=this.content.getSize().y)+r+h+l+c+d;M=(M=(M=M+p+u+m+f+g)+y+A+w+b+v)+x+S+F+k,this.css.to.height=M}return{height:t+"px",width:e+"px"}},setContentHeight:function(t){var e;if(t)this.nodeHeight=t;else if(this.options.contentHeight)e=t=this.options.contentHeight.toFloat(),this.contentHeight=t;else{t=this.options.height.toFloat();var i=this.getMaxHeight();"number"===typeOf(i)&&i<t&&(t=i),this.nodeHeight=t}var s=0;if(this.title){var o=this.title.getSize().y,n=this.title.getStyle("padding-top").toFloat(),a=this.title.getStyle("padding-bottom").toFloat(),r=this.title.getStyle("margin-top").toFloat(),h=this.title.getStyle("margin-bottom").toFloat();s+=o+n+a+r+h}if(this.bottom){var l=this.bottom.getSize().y,c=this.bottom.getStyle("padding-top").toFloat(),d=this.bottom.getStyle("padding-bottom").toFloat(),p=this.bottom.getStyle("margin-top").toFloat(),u=this.bottom.getStyle("margin-bottom").toFloat();s+=l+c+d+p+u}if(this.button&&!this.buttonDisable){var m=this.button.getSize().y,f=this.button.getStyle("padding-top").toFloat(),g=this.button.getStyle("padding-bottom").toFloat(),y=this.button.getStyle("margin-top").toFloat(),A=this.button.getStyle("margin-bottom").toFloat();s+=m+f+g+y+A}var w=this.content.getStyle("padding-top").toFloat(),b=this.content.getStyle("padding-bottom").toFloat(),v=this.content.getStyle("margin-top").toFloat(),x=this.content.getStyle("margin-bottom").toFloat();if(s+=w+b+v+x,e?e=e+s+2:t-=s,e?(this.nodeHeight=e,this.options.height=e,this.options.contentHeight=null,this.options.fromTop=this.options.fromTop.toFloat()-s/2,this.options.top=this.options.top.toFloat()-s/2,this.css.to.height=e+"px",this.css.to.top=this.options.top+"px",this.css.from.top=this.options.fromTop+"px"):this.contentHeight=t,!t||t<0){this.content.setStyles({overflow:"hidden",height:"auto"});var S=(t=this.content.getSize().y)+o+n+a+r+h;S=(S=(S=S+l+c+d+p+u)+m+f+g+y+A)+w+b+v+x,this.css.to.height=S}else this.content.setStyles({height:t})},setContentWidthAuto:function(){var t=this.options.maxWidth||"100%";if("string"===typeOf(t)&&"%"===t.substr(t.length-1,1)){var e=(this.options.positionNode||this.options.container||$(document.body)).getSize().x;t=parseInt(e*parseInt(t)/100)}var i=0,s=0;(s=this.content?(i+=this.getMarginX(this.content))+this.content.getSize().x:i)>t?(this.nodeWidth=t,this.options.width=t,this.options.contentWidth=null,this.options.fromLeft=this.options.fromLeft.toFloat()-i/2,this.options.left=this.options.left.toFloat()-i/2,this.css.to.width=t+"px",this.css.to.left=this.options.left+"px",this.css.from.left=this.options.fromLeft+"px",this.node.setStyles({width:t}),this.contentWidth=t-this.getOffsetX(this.content),this.content&&this.content.setStyles({width:this.contentWidth,"overflow-x":"auto"})):(this.nodeWidth=s,this.options.width=s,this.options.contentHeight=null,this.options.fromLeft=this.options.fromLeft.toFloat()-i/2,this.options.left=this.options.left.toFloat()-i/2,this.css.to.width=s+"px",this.css.to.left=this.options.left+"px",this.css.from.left=this.options.fromLeft+"px",this.node.setStyles({width:s}),this.contentWidth=s-this.getOffsetX(this.content),this.content&&this.content.setStyles({width:this.contentWidth,"overflow-x":"hidden"}))},setContentWidth:function(t){var e;t?this.nodeWidth=t:this.options.contentWidth?(e=t=this.options.contentWidth.toFloat(),this.contentWidth=t):(t=this.options.width.toFloat(),this.nodeWidth=t);var i;if(i=this.content.getStyle("padding-left").toFloat()+this.content.getStyle("padding-right").toFloat()+this.content.getStyle("margin-left").toFloat()+this.content.getStyle("margin-right").toFloat(),e)e+=i;else{var s=t;t-=i}e?(this.nodeWidth=e,this.options.width=e,this.options.contentWidth=null,this.css.to.left=this.options.left+"px",this.css.from.left=this.options.fromLeft+"px",this.css.to.width=e+"px",this.options.fromLeft=this.options.fromLeft.toFloat()-i/2,this.options.left=this.options.left.toFloat()-i/2,this.node.setStyle("width",e)):(this.contentWidth=t,this.node.setStyle("width",s)),this.content.setStyles({width:t})},setContentSize:function(t,e){var i=t;i||(i=this.options.contentHeight?this.options.contentHeight:this.height);var s=e;s||(s=this.options.contentWidth?this.options.contentWidth:this.width),"auto"===i||"auto"===s?("auto"===i?this.setContentHeightAuto():this.setContentHeight(t),"auto"===s?this.setContentWidthAuto():this.setContentWidth(e)):(this.content.setStyles(this.getContentSize(t,e)),this.content.setStyle("width","auto"))}}),o2.DL.open=function(t){var e;t||(t={}),t.style||(t.style="user"),t.duration||(t.duration=200),!1!==t.isClose&&(t.isClose=!0),t.width&&"auto"!=t.width||t.contentWidth||t.content&&(t.content.show(),e=t.content.getComputedSize(),t.contentWidth=e.totalWidth.toFloat()),t.height&&"auto"!=t.height||t.contentHeight||t.content&&(e||(t.content.show(),e=t.content.getComputedSize()),t.contentHeight=e.totalHeight.toFloat()+2),t.width||t.contentWidth||(t.width=300),t.height||t.contentHeight||(t.height=150),!t.container&&layout&&layout.desktop.currentApp&&(t.container=layout.desktop.currentApp.content);var i=t.positionNode||t.container||$(document.body);if("auto"!==t.width&&"auto"!==t.height){if("string"==typeOf(t.width)&&1<t.width.length&&"%"==t.width.substr(t.width.length-1,1)&&(t.width=parseInt(i.getSize().x*parseInt(t.width,10)/100,10)),"string"==typeOf(t.height)&&1<t.height.length&&"%"==t.height.substr(t.height.length-1,1)&&(t.height=parseInt(i.getSize().y*parseInt(t.height,10)/100,10)),void 0===t.top&&void 0===t.left){var s=o2.getCenter({x:t.width||t.contentWidth,y:t.height||t.contentHeight+120},i,i);t.top=s.y<0?0:s.y,t.left=s.x<0?0:s.x}if(void 0===t.fromTop&&void 0===t.fromLeft){s=o2.getCenter({x:0*(t.width||t.contentWidth),y:0*(t.height||t.contentHeight+120)},i,i);t.fromTop=s.y<0?0:s.y,t.fromLeft=s.x<0?0:s.x}t.offset&&(t.offset.y&&(t.top=t.top+t.offset.y.toInt(),t.fromTop=t.fromTop+t.offset.y.toInt()),t.offset.x&&(t.left=t.left+t.offset.x.toInt(),t.fromLeft=t.fromLeft+t.offset.x.toInt())),t.top<0&&(t.top=0),t.left<0&&(t.left=0),t.fromTop<0&&(t.fromTop=0),t.fromLeft<0&&(t.fromLeft=0)}else void 0===t.top&&(t.top=0),void 0===t.left&&(t.left=0),void 0===t.fromTop&&(t.fromTop=0),void 0===t.fromLeft&&(t.fromLeft=0);t.mark=!(!1===t.mask);var o=new o2.DDL(t);return"auto"!==t.width&&"auto"!==t.height||o.reCenter(),o.show(),o},MWF.xDesktop=MWF.xDesktop||{},MWF.require("MWF.widget.Menu",null,!1),MWF.xDesktop.Menu=new Class({Extends:MWF.widget.Menu,Implements:[Options,Events],options:{style:"default",event:"contextmenu",disable:!1,top:-1,left:-1,container:null,where:{x:"left",y:"bottom"}},load:function(){this.fireEvent("queryLoad")&&(this.node=new Element("div#menu"),this.node.set("styles",this.css.container),this.options.event&&this.target&&this.target.addEvent(this.options.event,this.showIm.bind(this)),this.borderNode=new Element("div.MWFMenu",{styles:this.css.borderNode}).inject(this.options.container||$(document.body)),this.node.inject(this.borderNode),this.hide=this.hideMenu.bind(this),this.fireEvent("postLoad"))},showIm:function(t){if(!this.options.disable&&(this.hide=this.hideIm.bind(this),this.fireEvent("queryShow",[t]))){if(this.tmpBodyOncontextmenu=document.body.oncontextmenu,document.body.oncontextmenu=function(){return!1},this.pauseCount<=0){this.setItemWidth();var e=MWF.xDesktop.zIndexPool.zIndex;this.borderNode.setStyles({display:"block",opacity:this.options.opacity||1,"z-index":e}),this.setPosition(t),$(document.body).removeEvent("mousedown",this.hide),$(document.body).addEvent("mousedown",this.hide),this.show=!0}else this.pauseCount--;var i=this.node.getPosition(document.body),s=this.node.getSize(),o=document.body.getSize();if(i.y+s.y+10>o.y){var n=o.y-i.y-10;this.node.setStyle("height",n+"px"),this.node.addEvent("mousedown",(function(t){t.stopPropagation()}))}this.fireEvent("postShow")}},hideIm:function(t){this.fireEvent("queryHide")&&($(document.body).removeEvent("mousedown",this.hide),this.borderNode.set("styles",{display:"none",opacity:0}),this.show=!1,document.body.oncontextmenu=this.tmpBodyOncontextmenu,this.tmpBodyOncontextmenu=null,t&&this.topMenu&&this.topMenu.hideIm(),this.fireEvent("postHide"))},setPosition:function(t){var e=this.target.getPosition(this.target.getOffsetParent()),i=this.target.getSize();this.borderNode.show();var s=this.borderNode.getSize(),o=0,n=0;switch(this.options.where.x.toLowerCase()){case"right":o=e.x-s.x+i.x;break;default:o=e.x-0}switch(this.options.where.y.toLowerCase()){case"top":n=e.y-s.y;break;default:n=e.y+i.y}this.options.offsetY&&(n+=this.options.offsetY),this.options.offsetX&&(o+=this.options.offsetX);var a=$(document.body).getSize(),r=this.borderNode.getSize();o+r.x>a.x&&(o=a.x-r.x-10),this.borderNode.setStyle("top",n),this.borderNode.setStyle("left",o)}}),MWF.xDesktop=MWF.xDesktop||{},MWF.xApplication=MWF.xApplication||{},MWF.require("MWF.xDesktop.Actions.RestActions",null,!1),MWF.xDesktop.UserData=MWF.UD={getAction:function(){this.action=o2.Actions.get("x_organization_assemble_personal")},getData:function(t,e,i){this.action||this.getAction(),this.action.getUserData(t,(function(t){e&&e(t)}),null,i)},getDataJson:function(t,e,i){this.action||this.getAction(),this.action.getUserData(t,(function(t){var i=null;t.data&&(i=JSON.decode(t.data)),e&&e(i)}),null,i)},putData:function(t,e,i,s){this.action||this.getAction(),this.action.putUserData(t,e,(function(t){i&&i(t)}),null,s)},deleteData:function(t,e,i){this.action||this.getAction(),this.action.deleteUserData(t,(function(t){e&&e(t)}),null,i)},getPublicData:function(t,e,i){this.action||this.getAction(),this.action.getPublicUserData(t,(function(t){var i=null;t.data&&(i=JSON.decode(t.data)),e&&e(i)}),null,i)},putPublicData:function(t,e,i,s){this.action||this.getAction(),this.action.putPublicUserData(t,e,(function(t){i&&(i.success?i.success(t):i(t))}),(function(t,e,s){if(0!=t.status){var o=s;if(t){var n=JSON.decode(t.responseText);o=n?n.message.trim()||"request json error":"request json error: "+t.responseText}MWF.xDesktop.notice("error",{x:"right",y:"top"},o)}i&&i.failure&&i.failure(t,e,s)}),s)},deletePublicData:function(t,e,i){this.action||this.getAction(),this.action.deletePublicUserData(t,(function(t){e&&e(t)}),null,i)}},MWF.xApplication.Template=MWF.xApplication.Template||{},MWF.xApplication.Template.MPopupForm=MPopupForm=new Class({Extends:MWF.widget.Common,Implements:[Options,Events],options:{style:"default",width:500,height:450,top:null,left:null,bottom:null,right:null,minWidth:300,minHeight:220,isLimitSize:!0,ifFade:!0,hasTop:!1,hasTopIcon:!1,hasTopContent:!1,hasIcon:!0,hasBottom:!0,hasMask:!0,closeByClickMask:!1,hasScroll:!0,scrollType:"",title:"",draggable:!1,resizeable:!1,maxAction:!1,closeAction:!0,relativeToApp:!0,sizeRelateTo:"app",resultSeparator:","},initialize:function(t,e,i,s){this.setOptions(i),this.explorer=t,s?this.options.relativeToApp?(this.app=s.app||this.explorer.app,this.container=s.container||this.app.content,this.lp=s.lp||this.explorer.lp||this.app.lp,this.css=s.css||this.explorer.css||this.app.css,this.actions=s.actions||this.explorer.actions||this.app.actions||this.app.restActions):(this.container=s.container,this.lp=s.lp||this.explorer.lp,this.css=s.css||this.explorer.css,this.actions=s.actions||this.explorer.actions):this.options.relativeToApp?(this.app=this.explorer.app,this.container=this.app.content,this.lp=this.explorer.lp||this.app.lp,this.css=this.explorer.css||this.app.css,this.actions=this.explorer.actions||this.app.actions||this.app.restActions):(this.container=window.document.body,this.lp=this.explorer.lp,this.css=this.explorer.css,this.actions=this.explorer.actions),this.data=e||{},this.cssPath="../x_component_Template/$MPopupForm/"+this.options.style+"/css.wcss",this.load()},load:function(){this._loadCss()},_loadCss:function(){var t={};new Request.JSON({url:o2.filterUrl(this.cssPath),secure:!1,async:!1,method:"get",noCache:!1,onSuccess:function(e,s){t=e,MWF.widget.css[i]=e}.bind(this),onError:function(t,e){alert(e+t)}}).send();var e=!0;for(var i in t)if(i){e=!1;break}e||(this.css=Object.merge(t,this.css))},reload:function(t){t&&(this.data=this.form.getResult(!1,this.options.resultSeparator,!1,!1,!0)),this.formTopNode=null,this.setFormNodeSizeFun&&this.app&&this.app.removeEvent&&this.app.removeEvent("resize",this.setFormNodeSizeFun),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode&&this.formAreaNode.destroy(),this.isNew?this.create():this.isEdited?this.edit():this.open()},open:function(t){this.fireEvent("queryOpen"),this.isNew=!1,this.isEdited=!1,this._open(),this.fireEvent("postOpen")},create:function(){this.fireEvent("queryCreate"),this.isNew=!0,this._open(),this.fireEvent("postCreate")},edit:function(){this.fireEvent("queryEdit"),this.isEdited=!0,this._open(),this.fireEvent("postEdit")},_open:function(){if(this.options.hasMask&&(this.formMaskNode=new Element("div.formMaskNode",{styles:this.css.formMaskNode,events:{mouseover:function(t){t.stopPropagation()},mouseout:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1},DOMMouseScroll:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1}}}).inject(this.container||this.app.content)),this.formAreaNode=new Element("div.formAreaNode",{styles:this.css.formAreaNode}),this.createFormNode(),this.formMaskNode?this.formAreaNode.inject(this.formMaskNode,"after"):this.formAreaNode.inject(this.container||this.app.content),this.options.ifFade?this.formAreaNode.fade("in"):this.formAreaNode.setStyle("opacity",1),this.setFormNodeSize(),this.setFormNodeSizeFun=this.setFormNodeSize.bind(this),this.app&&this.app.addEvent&&this.app.addEvent("resize",this.setFormNodeSizeFun),this.options.draggable&&this.formTopNode){var t=(this.container||this.app.content).getSize(),e=this.formAreaNode.getSize();this.formAreaNode.makeDraggable({handle:this.formTopNode,limit:{x:[0,t.x-e.x],y:[0,t.y-e.y]},onDrag:function(){this.fireEvent("drag")}.bind(this),onComplete:function(){this.fireEvent("dragCompleted")}.bind(this)})}this.options.closeByClickMask&&this.formMaskNode&&this.formMaskNode.addEvent("click",function(t){this.close(t)}.bind(this)),this.options.resizeable&&(this.resizeNode=new Element("div.resizeNode",{styles:this.css.resizeNode}).inject(this.formNode),this.formAreaNode.makeResizable({handle:this.resizeNode,limit:{x:[this.options.minWidth,null],y:[this.options.minHeight,null]},onDrag:function(){var t=this.formAreaNode.getComputedSize();this.setNodesSize(t.width,t.height),this.fireEvent("resize")}.bind(this),onComplete:function(){var t=this.formAreaNode.getComputedSize();this.options.width=t.width,this.options.height=t.height,this.oldCoordinate&&(this.oldCoordinate.width=t.width,this.oldCoordinate.height=t.height),this.fireEvent("resizeCompleted")}.bind(this)}))},createFormNode:function(){this.formNode=new Element("div.formNode",{styles:this.css.formNode}).inject(this.formAreaNode),this.options.hasTop&&this.createTopNode(),this.options.hasIcon&&(this.formIconNode=new Element("div.formIconNode",{styles:this.isNew?this.css.formNewNode:this.css.formIconNode}).inject(this.formNode)),this.createContent(),this.options.hasBottom&&this.createBottomNode(),this._setCustom(),this.options.hasScroll&&("window"==this.options.scrollType?(this.formContentNode.setStyle("overflow","auto"),this.formTableContainer.setStyle("overflow","visible")):MWF.require("MWF.widget.ScrollBar",function(){new MWF.widget.ScrollBar(this.formTableContainer,{indent:!1,style:"xApp_TaskList",where:"before",distance:30,friction:4,axis:{x:!1,y:!0},onScroll:function(t){}})}.bind(this)))},_setCustom:function(){},createTopNode:function(){this.fireEvent("queryCreateTop"),this.formTopNode||(this.formTopNode=new Element("div.formTopNode",{styles:this.css.formTopNode}).inject(this.formNode),this.options.hasTopIcon&&(this.formTopIconNode=new Element("div",{styles:this.css.formTopIconNode}).inject(this.formTopNode)),this.formTopTextNode=new Element("div",{styles:this.css.formTopTextNode,text:this.options.title}).inject(this.formTopNode),this.options.closeAction&&(this.formTopCloseActionNode=new Element("div",{styles:this.css.formTopCloseActionNode,title:MWF.xApplication.Template.LP.MPopupForm.close}).inject(this.formTopNode),this.formTopCloseActionNode.addEvent("click",function(t){this.close(),t.stopPropagation()}.bind(this))),this.options.maxAction&&(this.formTopMaxActionNode=new Element("div",{styles:this.css.formTopMaxActionNode,title:MWF.xApplication.Template.LP.MPopupForm.max}).inject(this.formTopNode),this.formTopMaxActionNode.addEvent("click",function(){this.maxSize()}.bind(this)),this.formTopRestoreActionNode=new Element("div",{styles:this.css.formTopRestoreActionNode,title:MWF.xApplication.Template.LP.MPopupForm.restore}).inject(this.formTopNode),this.formTopRestoreActionNode.addEvent("click",function(){this.restoreSize()}.bind(this)),this.formTopNode.addEvent("dblclick",function(){this.switchMax()}.bind(this))),this.options.hasTopContent&&(this.formTopContentNode=new Element("div.formTopContentNode",{styles:this.css.formTopContentNode}).inject(this.formTopNode),this._createTopContent())),this.fireEvent("postCreateTop")},_createTopContent:function(){},createContent:function(){this.formContentNode=new Element("div.formContentNode",{styles:this.css.formContentNode}).inject(this.formNode),this.formTableContainer=new Element("div.formTableContainer",{styles:this.css.formTableContainer}).inject(this.formContentNode),this.formTableArea=new Element("div.formTableArea",{styles:this.css.formTableArea}).inject(this.formTableContainer),this._createTableContent()},_createTableContent:function(){this.formTableArea.set("html","<table width='100%' bordr='0' cellpadding='5' cellspacing='0' styles='formTable'><tr><td styles='formTableTitle' lable='empName'></td>    <td styles='formTableValue' item='empName'></td></tr><tr><td styles='formTableTitle' lable='departmentName'></td>    <td styles='formTableValue' item='departmentName'></td></tr><tr><td styles='formTableTitle' lable='recordDateString'></td>    <td styles='formTableValue' item='recordDateString'></td></tr><tr><td styles='formTableTitle' lable='status'></td>    <td styles='formTableValue' item='status'></td></tr><tr><td styles='formTableTitle' lable='appealReason'></td>    <td styles='formTableValue' item='appealReason'></td></tr><tr><td styles='formTableTitle' lable='appealDescription'></td>    <td styles='formTableValue' item='appealDescription'></td></tr><tr><td styles='formTableTitle' lable='opinion1'></td>    <td styles='formTableValue' item='opinion1'></td></tr></table>"),MWF.xDesktop.requireApp("Template","MForm",function(){this.form=new MForm(this.formTableArea,{empName:"xadmin"},{isEdited:this.isEdited||this.isNew,itemTemplate:{empName:{text:"",type:"innertext"},departmentName:{text:"",tType:"department",notEmpty:!0},recordDateString:{text:"",tType:"date"},status:{text:"",tType:"number"},appealReason:{text:"",type:"select",selectValue:["1","2"]},appealDescription:{text:"",type:"textarea"},opinion1:{text:"",type:"button",value:""}}},this.app),this.form.load()}.bind(this),!0)},createBottomNode:function(){this.fireEvent("queryCreateBottom"),this.formBottomNode=new Element("div.formBottomNode",{styles:this.css.formBottomNode}).inject(this.formNode),this._createBottomContent(),this.fireEvent("postCreateBottom")},_createBottomContent:function(){this.cancelActionNode=new Element("div.formCancelActionNode",{styles:this.css.formCancelActionNode,text:this.lp.cancel}).inject(this.formBottomNode),this.cancelActionNode.addEvent("click",function(t){this.cancel(t)}.bind(this)),(this.isNew||this.isEdited)&&(this.okActionNode=new Element("div.formOkActionNode",{styles:this.css.formOkActionNode,text:this.lp.ok}).inject(this.formBottomNode),this.okActionNode.addEvent("click",function(t){this.ok(t)}.bind(this)))},cancel:function(t){this.fireEvent("queryCancel"),this.close(),this.fireEvent("postCancel")},close:function(t){this.fireEvent("queryClose"),this._close(),this.setFormNodeSizeFun&&this.app&&this.app.removeEvent&&this.app.removeEvent("resize",this.setFormNodeSizeFun),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode&&this.formAreaNode.destroy(),this.fireEvent("postClose")},_close:function(){},ok:function(t){this.fireEvent("queryOk");var e=this.form.getResult(!0,this.options.resultSeparator,!0,!1,!0);e&&this._ok(e,function(t){"error"==t.type?this.app&&this.app.notice&&this.app.notice(t.message,"error"):(this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode&&this.formAreaNode.destroy(),this.explorer&&this.explorer.view&&this.explorer.view.reload(),this.app&&this.app.notice&&this.app.notice(this.isNew?this.lp.createSuccess:this.lp.updateSuccess,"success"),this.fireEvent("postOk"))}.bind(this))},_ok:function(t,e){},switchMax:function(){this.isMax?this.restoreSize():this.maxSize()},maxSize:function(){this.oldCoordinate||(this.oldCoordinate={width:this.options.width,height:this.options.height,top:this.options.top,left:this.options.left,bottom:this.options.bottom,right:this.options.right}),this.options.width="100%",this.options.height="100%",this.options.top=null,this.options.left=null,this.options.bottom=null,this.options.right=null,this.setFormNodeSize(),this.formTopMaxActionNode.setStyle("display","none"),this.formTopRestoreActionNode.setStyle("display",""),this.isMax=!0,this.fireEvent("max")},restoreSize:function(){this.oldCoordinate&&(this.options.width=this.oldCoordinate.width,this.options.height=this.oldCoordinate.height,this.options.top=this.oldCoordinate.top,this.options.left=this.oldCoordinate.left,this.options.bottom=this.oldCoordinate.bottom,this.options.right=this.oldCoordinate.right),this.setFormNodeSize(),this.formTopMaxActionNode.setStyle("display",""),this.formTopRestoreActionNode.setStyle("display","none"),this.isMax=!1,this.fireEvent("restore")},setFormNodeSize:function(t,e,i,s,o,n){this._beforeFormNodeSize(),t||(t=this.options.width?this.options.width:"50%"),e||(e=this.options.height?this.options.height:"50%"),i||0==i||(i=this.options.top),s||0==s||(s=this.options.left),o||0==o||(o=this.options.bottom),n||0==n||(n=this.options.right),t=t.toString(),e=e.toString();var a=(this.container||this.app.content).getSize(),r=a.x,h=a.y;this.options.isLimitSize&&("%"!=t.substr(t.length-1,1)&&a.x<parseInt(t)&&(t=a.x),"%"!=e.substr(e.length-1,1)&&a.y<parseInt(e)&&(e=a.y)),"string"==typeof t&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(r*parseInt(t,10)/100,10)),this.options.minWidth>t&&(t=this.options.minWidth),"string"==typeof e&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(h*parseInt(e,10)/100,10)),this.options.minHeight>e&&(e=this.options.minHeight);var l={width:t+"px",height:e+"px"};null!=i?(l.top=i+"px",l.bottom="auto"):null!=o?(l.top="auto",l.bottom=o+"px"):(l.top=parseInt((h-e)/2,10)+"px",l.bottom="auto"),null!=s?(l.left=s+"px",l.right="auto"):null!=n?(l.left="auto",l.right=n+"px"):(l.left=parseInt((r-t)/2,10)+"px",l.right="auto"),this.formAreaNode&&this.formAreaNode.setStyles(l),this._setFormNodeSize(l),this.setNodesSize(t,e)},_beforeFormNodeSize:function(){},_setFormNodeSize:function(t){},setNodesSize:function(t,e){this.options.minWidth>t&&(t=this.options.minWidth),this.options.minHeight>e&&(e=this.options.minHeight),this.formNode.setStyles({width:t+"px",height:e+"px"});var i=this.formIconNode?this.formIconNode.getSize():{x:0,y:0},s=this.formTopNode?this.formTopNode.getSize():{x:0,y:0},o=this.formBottomNode?this.formBottomNode.getSize():{x:0,y:0},n=e-i.y-s.y-o.y,a=parseFloat(this.formContentNode.getStyle("margin-top"))||0,r=parseFloat(this.formContentNode.getStyle("margin-bottom"))||0,h=n-a-r;this.formContentNode.setStyles({height:h+"px"});var l=parseFloat(this.formContentNode.getStyle("padding-top"))||0,c=parseFloat(this.formContentNode.getStyle("padding-bottom"))||0,d=n-(a=parseFloat(this.formTableContainer.getStyle("margin-top"))||0)-(r=parseFloat(this.formTableContainer.getStyle("margin-bottom"))||0)-l-c-(parseFloat(this.formTableContainer.getStyle("padding-top"))||0)-(parseFloat(this.formTableContainer.getStyle("padding-bottom"))||0);"window"==this.options.scrollType&&(d-=10),this.formTableContainer.setStyles({height:d+"px"}),this._setNodesSize(t,e,h,d),this.fireEvent("resizeForm")},_setNodesSize:function(t,e,i,s){}}),MWF.xDesktop=MWF.xDesktop||{},MWF.xApplication=MWF.xApplication||{},MWF.xDesktop.requireApp("Template","MPopupForm",null,!1),MWF.require("MWF.xDesktop.UserData",null,!1),MWF.xDesktop.Authentication=new Class({Extends:MWF.widget.Common,Implements:[Options,Events],options:{style:"default",width:"420",height:"640",popupStyle_password:"o2platformSignupFlat",popupStyle_signup:"o2platformSignup"},initialize:function(t,e,i){this.setOptions(t),this.node=i,this.path=MWF.defaultPath+"/xDesktop/$Authentication/";var s=null;MWF.UD.getPublicData("loginStyleList",function(t){t&&t.enabledId&&MWF.UD.getPublicData(t.enabledId,function(t){t&&t.data&&(s=t.data)}.bind(this),!1)}.bind(this),!1),s?this.css=s:(this.cssPath=MWF.defaultPath+"/xDesktop/$Authentication/"+this.options.style+"/css.wcss",this._loadCss()),this.lp=MWF.LP.authentication,this.app=e||{}},isAuthenticated:function(t,e){MWF.Actions.get("x_organization_assemble_authentication").getAuthentication(t,e)},loadLogin:function(t){t&&(this.loginNode=t),!t&&this.loginNode&&(t=this.loginNode),layout.config.loginPage&&layout.config.loginPage.enable&&layout.config.loginPage.portal?(MWF.xDesktop.loadPortal(layout.config.loginPage.portal,this.options.loginParameter),this.fireEvent("openLogin")):(this.popupOptions={draggable:!1,closeAction:!1,hasMask:!1,relativeToApp:!1},this.popupPara={container:t},this.postLogin=function(t){layout.desktop.session.user=t.data,layout.session.user=t.data,layout.session.token=layout.session.user.token;var e=layout.desktop.session.user;if(e.identityList||(e.identityList=[]),e.roleList){var i=[];e.roleList.each((function(t){i.push(t.substring(0,t.indexOf("@")))})),e.roleList=e.roleList.concat(i)}window.location.reload()}.bind(this),this.openLoginForm(this.popupOptions),this.fireEvent("openLogin"))},logout:function(t){MWF.Actions.get("x_organization_assemble_authentication").logout(function(){this.socket&&(this.socket.close(),this.socket=null),layout.session&&layout.session.user&&(layout.session.user.token=""),t?t():window.location.reload()}.bind(this))},openLoginForm:function(t,e){var i=Object.merge(this.popupOptions||{},t||{},{onPostOk:function(t){e&&e(t),this.postLogin&&this.postLogin(t),this.fireEvent("postOk",t)}.bind(this)});i.width=this.options.width,i.height=this.options.height,new MWF.xDesktop.Authentication.LoginForm(this,{},i,this.popupPara).create()},openSignUpForm:function(t,e){var i=Object.merge(this.popupOptions||{},t||{},{onPostOk:function(t){e&&e(t),this.fireEvent("postOk",t)}.bind(this)});delete i.width,delete i.height,this.options.popupStyle_signup&&(i.popupStyle=this.options.popupStyle_signup),new MWF.xDesktop.Authentication.SignUpForm(this,{},i,this.popupPara).create()},openResetPasswordForm:function(t,e){var i=Object.merge(this.popupOptions||{},t||{},{onPostOk:function(t){e&&e(t),this.fireEvent("postOk",t)}.bind(this)});this.options.popupStyle_password&&(i.popupStyle=this.options.popupStyle_password),new MWF.xDesktop.Authentication.ResetPasswordForm(this,{},i,this.popupPara).create()},openChangePasswordForm:function(t,e){var i=Object.merge(this.popupOptions||{},t||{},{onPostOk:function(t){e&&e(t),this.fireEvent("postOk",t)}.bind(this)});new MWF.xDesktop.Authentication.ChangePasswordForm(this,{},i,this.popupPara).create()}}),MWF.xDesktop.Authentication.LoginForm=new Class({Extends:MPopupForm,Implements:[Options,Events],options:{style:"default",popupStyle:"o2platform",width:"650",height:"480",hasTop:!0,hasIcon:!1,hasTopIcon:!0,hasTopContent:!0,hasBottom:!1,hasScroll:!1,hasMark:!1,title:"",draggable:!0,closeAction:!0},load:function(){this.setOptions({title:layout.config&&(layout.config.systemTitle||layout.config.title)?layout.config.title||layout.config.systemTitle:MWF.LP.authentication.LoginFormTitle}),this._loadCss()},_createTopContent:function(){this.actions=MWF.Actions.get("x_organization_assemble_authentication"),this.faceLogin=!1,this.actions.getLoginMode(function(t){this.faceLogin=t.data.faceLogin}.bind(this),null,!1),this.faceLogin&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&COMMON.AjaxModule.loadDom("../o2_lib/adapter/adapter.js",function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(this.cameraLoginIcon=new Element("div",{styles:this.explorer.css.cameraLoginIcon}).inject(this.formTopContentNode),this.cameraLoginIcon.addEvent("click",function(){this.isCameraLogin?(this.closeCamera(),this.isCameraLogin=!1):(this.cameraLogin(),this.isCameraLogin=!0)}.bind(this)))}.bind(this))},closeCamera:function(){this.cameraLoginVideoNode&&(this.video&&this.video.destroy(),this.canvas&&this.canvas.destroy(),this.cameraLoginVideoNode&&this.cameraLoginVideoNode.destroy(),this.video=null,this.canvas=null,this.cameraLoginVideoNode=null),this.cameraLoginIcon.setStyles(this.explorer.css.cameraLoginIcon)},cameraLoginInit:function(){this.cameraLoginConfig={maxStep:2,step:0,count:0,max:2,errorCount:0,errorMax:3,user:"",tokens:[]}},cameraLoginReset:function(t){this.cameraLoginConfig.count=0,this.cameraLoginConfig.user="",t&&(this.cameraLoginConfig.errorCount=0)},cameraLogin:function(){this.cameraLoginInit(),this.cameraLoginIcon.setStyles(this.explorer.css.closeCameraLoginIcon),this.createCameraLoginNode(),this.startCameraLogin()},createCameraLoginNode:function(){this.cameraLoginVideoNode=new Element("div",{styles:this.explorer.css.cameraLoginVideoNode}).inject(this.container);var t=this.formNode.getSize(),e=this.formTopNode.getSize(),i=t.y-e.y;this.cameraLoginVideoNode.setStyles({width:t.x+"px",height:i+"px"}),this.cameraLoginVideoNode.position({relativeTo:this.formContentNode,position:"upperLeft",edge:"upperLeft"})},startCameraLogin:function(){this.cameraLoginVideoAreaNode=new Element("div").inject(this.cameraLoginVideoNode),this.cameraLoginVideoInfoNode=new Element("div",{styles:this.explorer.css.cameraLoginVideoInfoNode}).inject(this.cameraLoginVideoNode),this.cameraLoginVideoInfoNode.set("text",MWF.LP.desktop.login.camera_logining);var t=this.cameraLoginVideoNode.getSize(),e=this.cameraLoginVideoInfoNode.getSize(),i=t.y-e.y;this.cameraLoginVideoAreaNode.setStyle("height",i+"px"),this.cameraLoginVideoAreaNode.set("html","<video autoplay></video>"),this.video=this.cameraLoginVideoAreaNode.getFirst().setStyles({"background-color":"#000000",width:t.x+"px",height:i+"px"}),this.videoStart()},videoStart:function(){this.video.addEventListener("canplay",function(){window.setTimeout(function(){this.startCameraAuthentication()}.bind(this),500)}.bind(this)),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(t){this.video.srcObject=t}.bind(this)).catch(function(t){console.log("navigator.getUserMedia error: ",t),this.closeCamera()}.bind(this))},getFormData:function(){this.canvas||(this.canvas=new Element("canvas",{styles:{display:"none"}}).inject(this.cameraLoginVideoNode),this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight),this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height);var t=this.toBlob(this.canvas.toDataURL()),e=new FormData;return e.append("file",t),this.canvas.destroy(),{data:e,size:t.size}},checkUserFace:function(t){var e=window.location.host;e=e.replace(/\./g,"_"),this.faceAction.search(e,t.data,{name:"pic",size:t.size},function(t){if(t.data.results&&t.data.results.length){var e=t.data.thresholds["1e-5"];if(t.data.results[0].confidence>e){var i=t.data.faces[0].face_token,s=t.data.results[0].user_id;this.cameraLoginConfig.user&&this.cameraLoginConfig.user!==s?(this.cameraLoginReset(),this.cameraLoginConfig.errorCount++):(this.cameraLoginConfig.count++,this.cameraLoginConfig.user=s,this.cameraLoginConfig.tokens.push(i),this.cameraLoginConfig.step++,this.cameraLoginConfig.errorCount=0,this.cameraLoginVideoInfoNode.set("text",MWF.LP.desktop.login["camera_logining_"+this.cameraLoginConfig.step]))}else this.cameraLoginReset(),this.cameraLoginConfig.errorCount++}else this.cameraLoginReset(),this.cameraLoginConfig.errorCount++;this.checkCameraLogin()}.bind(this),function(){window.setTimeout(function(){this.startCameraAuthentication()}.bind(this),500)}.bind(this))},checkUserAlive:function(t,e,i){this.faceAction.detectattr(e,t.data,{name:"pic",size:t.size},function(t){t.data.faces&&t.data.faces.length&&this[i](t.data.faces[0].attributes)?(this.cameraLoginConfig.step++,this.cameraLoginConfig.errorCount=0,this.cameraLoginVideoInfoNode.set("text",MWF.LP.desktop.login["camera_logining_"+this.cameraLoginConfig.step])):this.cameraLoginConfig.errorCount++,this.checkCameraLogin()}.bind(this),function(){this.cameraLoginConfig.errorCount++,this.checkCameraLogin()}.bind(this))},checkUserSmile:function(t){return t.smile.value>t.smile.threshold},checkUserPitch:function(t){return t.headpose.pitch_angle<-10},startCameraAuthentication:function(){if(this.video){var t=this.getFormData();this.faceAction||(this.faceAction=MWF.Actions.get("x_faceset_control")),0===this.cameraLoginConfig.step&&this.checkUserFace(t),1===this.cameraLoginConfig.step&&this.checkUserAlive(t,"smiling","checkUserSmile"),2===this.cameraLoginConfig.step&&this.checkUserAlive(t,"headpose","checkUserPitch")}},toBlob:function(t){var e;e="data:image"===t.substr(0,10)?window.atob(t.split(",")[1]):window.atob(t);for(var i=new ArrayBuffer(e.length),s=new Uint8Array(i),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([i],{type:"image/png"})},getDIF:function(t){return Math.max.apply(this,t)-Math.min.apply(this,t)},checkCameraLogin:function(){if(this.cameraLoginConfig.errorCount>this.cameraLoginConfig.errorMax)this.cameraLoginVideoInfoNode.set("text",MWF.LP.desktop.login.camera_loginError);else if(this.cameraLoginConfig.step>=this.cameraLoginConfig.maxStep){var t=MWF.LP.desktop.login.camera_loginSuccess.replace("{name}",this.cameraLoginConfig.user);this.cameraLoginVideoInfoNode.set("text",t),this.cameraLoginSuccess()}else window.setTimeout(function(){this.startCameraAuthentication()}.bind(this),100)},cameraLoginSuccess:function(){COMMON.AjaxModule.loadDom(["../o2_lib/CryptoJS/tripledes.js","../o2_lib/CryptoJS/mode-ecb.js"],function(){var t=layout.serviceAddressList.x_organization_assemble_authentication,e=layout.config.app_protocol+"//"+(t.host||window.location.hostname)+(80===t.port?"":":"+t.port)+t.context,i={client:"face",token:this.crypDES()};new Request.JSON({method:"POST",url:e+"/jaxrs/sso",data:JSON.stringify(i),secure:!1,emulation:!1,noCache:!0,withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"},onSuccess:function(t){this._close(),this.closeCamera(),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode.destroy(),this.explorer&&this.explorer.view&&this.explorer.view.reload(),this.app&&this.app.notice(this.lp.loginSuccess,"success"),this.fireEvent("postOk",t)}.bind(this),onError:function(){this.cameraLoginVideoInfoNode.set("text",MWF.LP.desktop.login.camera_loginError2)}.bind(this)}).send()}.bind(this))},crypDES:function(){var t=this.cameraLoginConfig.user,e=(new Date).getTime(),i=CryptoJS.enc.Utf8.parse("xplatform"),s=CryptoJS.DES.encrypt(t+"#"+e,i,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).ciphertext.toString(CryptoJS.enc.Base64);return s=(s=(s=s.replace(/=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")},_createTableContent:function(){this.loginType="captcha",this.codeLogin=!1,this.bindLogin=!1,this.captchaLogin=!0,this.actions.getLoginMode(function(t){this.codeLogin=t.data.codeLogin,this.bindLogin=t.data.bindLogin,this.captchaLogin=t.data.captchaLogin}.bind(this),null,!1),MWF.Actions.get("x_organization_assemble_personal").getRegisterMode(function(t){this.signUpMode=t.data.value}.bind(this),null,!1),this.bindLogin&&(this.bindLoginTipPic=new Element("div.bindLoginTipPic",{styles:this.css.bindLoginTipPic}).inject(this.formContentNode,"top"),this.bindLoginAction=new Element("div.bindLoginAction",{styles:this.css.bindLoginAction}).inject(this.formContentNode,"top"),this.bindLoginAction.addEvent("click",function(){this.showBindCodeLogin()}.bind(this)),this.backtoPasswordLoginTipPic=new Element("div.backtoPasswordLoginTipPic",{styles:this.css.backtoPasswordLoginTipPic}).inject(this.formContentNode,"top"),this.backtoPasswordLoginAction=new Element("div.backtoPasswordLoginAction",{styles:this.css.backtoPasswordLoginAction}).inject(this.formContentNode,"top"),this.backtoPasswordLoginAction.addEvent("click",function(){this.backtoPasswordLogin()}.bind(this)));var t="<table width='100%' bordr='0' cellpadding='0' cellspacing='0' styles='formTable'><tr><div><div item='passwordAction'>";if(this.codeLogin&&(t+="</div><div styles='titleSep'></div><div item='codeAction'></div></tr>"),t+="</table>",t+="<table width='100%' bordr='0' cellpadding='0' cellspacing='0' styles='formTable'><tr item='credentialTr'><td styles='formTableValueTop20' item='credential'></td></tr><tr item='passwordTr'><td styles='formTableValueTop20' item='password'></td></tr>",this.captchaLogin&&(t+="<tr item='captchaTr'><td styles='formTableValueTop20'><div item='captchaAnswer' style='float:left;'></div><div item='captchaPic' style='float:left;'></div><div item='changeCaptchaAction' style='float:left;'></div></td></tr>"),this.codeLogin&&(t+="<tr item='codeTr' style='display: none'><td styles='formTableValueTop20'>   <div item='codeAnswer' style='float:left;'></div>   <div item='verificationAction' style='float:left;'></div>   <div item='resendVerificationAction' style='float:left;display:none;'></div></td></tr>"),t+="<tr><td styles='formTableValueTop20' item='loginAction'></td></tr></table><table width='100%' bordr='0' cellpadding='0' cellspacing='0' styles='formTable'>",this.signUpMode&&"disable"!==this.signUpMode?t+="<tr><td><div item='signUpAction'></div><div item='forgetPassword'></div></td></tr>":t+="<tr><td><div styles='signUpAction'></div><div item='forgetPassword'></div></td></tr>",t+="<tr><td  styles='formTableValue' item='errorArea'></td></tr><tr><td  styles='formTableValue' item='oauthArea'></td></tr></table>",this.formTableArea.set("html",t),new Element("div",{styles:this.css.formFooter,text:layout.config.footer||layout.config.systemName}).inject(this.formTableArea,"after"),this.captchaLogin&&this.setCaptchaPic(),this.errorArea=this.formTableArea.getElement("[item=errorArea]"),this.oauthArea=this.formTableArea.getElement("[item=oauthArea]"),MWF.xDesktop.requireApp("Template","MForm",function(){this.form=new MForm(this.formTableArea,this.data,{style:this.options.popupStyle,verifyType:"single",isEdited:this.isEdited||this.isNew,itemTemplate:{credential:{text:this.lp.userName,defaultValue:this.lp.userName,className:"inputUser",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourUserName,event:{focus:function(t){this.lp.userName===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){""===t.getValue()&&t.setValue(this.lp.userName),t.warningStatus||t.getElements()[0].setStyles(this.css.inputUser)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputUser)}.bind(this)},password:{text:this.lp.password,type:"password",defaultValue:"password",className:"inputPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourPassword,event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this)},captchaAnswer:{tType:"number",text:this.lp.verificationCode,defaultValue:this.lp.verificationCode,className:"inputVerificationCode",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputPicVerificationCode,event:{focus:function(t){this.lp.verificationCode===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){""===t.getValue()&&t.setValue(this.lp.verificationCode),t.warningStatus||t.getElements()[0].setStyles(this.css.inputVerificationCode)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputVerificationCode)}.bind(this)},changeCaptchaAction:{value:this.lp.changeVerification,type:"innerText",className:"verificationChange",event:{click:function(){this.setCaptchaPic()}.bind(this)}},codeAnswer:{text:this.lp.verificationCode,defaultValue:this.lp.inputVerificationCode,className:"inputVerificationCode2",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputVerificationCode,event:{focus:function(t){this.lp.inputVerificationCode===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){""===t.getValue()&&t.setValue(this.lp.inputVerificationCode),t.warningStatus||t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this)},verificationAction:{value:this.lp.sendVerification,type:"button",className:"inputSendVerification",event:{click:function(){this.sendVerificationAction()}.bind(this)}},resendVerificationAction:{value:this.lp.resendVerification,type:"button",className:"inputResendVerification"},loginAction:{value:this.lp.loginAction,type:"button",className:"inputLogin",event:{click:function(){this.ok()}.bind(this)}},passwordAction:{value:this.lp.passwordLogin,type:"innerText",className:"titleNode_active",event:{click:function(){this.codeLogin&&this.showPasswordLogin()}.bind(this)}},codeAction:{value:this.lp.codeLogin,type:"innerText",className:"titleNode_normal",event:{click:function(){this.showCodeLogin()}.bind(this)}},signUpAction:{value:this.lp.signUp,type:"innerText",className:"signUpAction",event:{click:function(){this.gotoSignup()}.bind(this)}},forgetPassword:{value:this.lp.forgetPassword,type:"innerText",className:"forgetPassword",event:{click:function(){this.gotoResetPassword()}.bind(this)}}}},this.app,this.css),this.form.load()}.bind(this),!0),this.bindLogin){this.bindLoginContainer=new Element("div",{styles:this.css.bindLoginContainer}).inject(this.formContentNode);var e="<div item='bindLoginTitle' styles='bindTitleNode'></div><div styles='bindBodyArea'><div item='bindPicArea' styles='bindPicArea'></div><div styles='bindSepArea'></div><div styles='bindExampleArea'></div></div><div styles='bindTipArea'>   <div styles='bindTipIconArea'></div>   <div styles='bindTipTextArea'>       "+this.lp.userAppCameraHtml+"       <div>"+this.lp.loginToPage+"</div></div>";this.bindLoginContainer.set("html",e),this.isShowEnable=!0,this.bindBodyArea=this.bindLoginContainer.getElement("[styles='bindBodyArea']"),this.bindLoginContainer.addEvent("mousemove",function(t){this.bindBodyArea.isOutside(t)?this.hideExampleArea(t):this.showExampleArea(t)}.bind(this)),this.bindPicArea=this.bindLoginContainer.getElement("[item='bindPicArea']"),this.setBindPic(),this.bindExampleArea=this.bindLoginContainer.getElement("[styles='bindExampleArea']"),this.bindSepArea=this.bindLoginContainer.getElement("[styles='bindSepArea']"),this.bindLoginContainer.getElement("[styles='bindTipLinkArea']").addEvent("click",function(){layout.config.appUrl?window.open(layout.config.appUrl,"_blank"):window.open(this.lp.o2downloadLink,"_blank")}.bind(this)),MWF.xDesktop.requireApp("Template","MForm",function(){this.bindform=new MForm(this.bindLoginContainer,{},{style:"o2platform",verifyType:"single",isEdited:this.isEdited||this.isNew,itemTemplate:{bindLoginTitle:{value:this.lp.bingLoginTitle,type:"innerText"}}},this.app,this.css),this.bindform.load()}.bind(this),!0)}this.loadOauthContent()},_beforeFormNodeSize:function(){!this.isPlusOauthSize&&this.oauthListNode&&(this.options.height=parseInt(this.options.height)+this.oauthArea.getSize().y,this.isPlusOauthSize=!0),(this.oauthListNode||!this.captchaLogin&&!this.bindLogin)&&(this.options.height=this.options.height-60),this.oauthListNode&&this.captchaLogin&&(this.options.height=this.options.height+60)},loadOauthContent:function(){this.actions.listOauthServer(function(t){this.oauthList=t.data||[],this.oauthList.length>0&&(this.oauthArea.getChildren().length||(this.oauthListNode=new Element("div",{styles:this.css.oauthListNode}).inject(this.oauthArea)),this.oauthList.each(function(t){"@O2"===t.displayName?t.qywx=!0:"@O2"===t.displayName&&(t.dingding=!0),this.loadOauthItem(t)}.bind(this)))}.bind(this),null,!1)},loadOauthItem:function(t){var e=0==t.icon.indexOf("http")?t.icon:"data:image/png;base64,"+t.icon,i=new Element("div",{styles:this.css.oauthItemNode,events:{click:function(){var t="../x_desktop/oauth.html?oauth="+encodeURIComponent(this.name);this.qywx&&(t+="&qywx="+this.qywx),this.dingding&&(t+="&dingding="+this.dingding),window.location=t}.bind(t)}}).inject(this.oauthListNode);new Element("img",{styles:this.css.oauthItemIconNode,src:e}).inject(i),new Element("div",{styles:this.css.oauthItemTextNode,text:t.name}).inject(i)},showExampleArea:function(){if(!this.isHiddingExample&&!this.isShowingExample&&this.isShowEnable){this.isShowingExample=!0;var t=this.bindBodyArea.getPosition(this.bindBodyArea.getParent()).x,e=(this.bindBodyArea.getParent().getSize().x-400)/2;this.intervalId=setInterval(function(){t>e?(this.bindBodyArea.setStyle("margin-left",t-5+"px"),t-=5):(clearInterval(this.intervalId),this.bindBodyArea.setStyle("width","400px"),this.bindSepArea.setStyle("display",""),this.bindExampleArea.setStyle("display",""),this.isHidEnable=!0,this.isShowEnable=!1,this.isShowingExample=!1)}.bind(this),10)}},hideExampleArea:function(){if(!this.isShowingExample&&!this.isHiddingExample&&this.isHidEnable){this.isHiddingExample=!0;var t=this.bindBodyArea.getPosition(this.bindBodyArea.getParent()).x;this.bindSepArea.setStyle("display","none"),this.bindExampleArea.setStyle("display","none");var e=(this.bindBodyArea.getParent().getSize().x-200)/2;this.intervalId2=setInterval(function(){t<e?(this.bindBodyArea.setStyle("margin-left",t+5+"px"),t+=5):(clearInterval(this.intervalId2),this.bindBodyArea.setStyle("width","204px"),this.isHidEnable=!1,this.isShowEnable=!0,this.isHiddingExample=!1)}.bind(this),10)}},showPasswordLogin:function(){this.errorArea.empty(),this.loginType="captcha",this.form.getItem("passwordAction").setStyles(this.css.titleNode_active),this.form.getItem("codeAction").setStyles(this.css.titleNode_normal),this.formTableArea.getElement("[item='passwordTr']").setStyle("display","");var t=this.formTableArea.getElement("[item='captchaTr']");t&&t.setStyle("display",""),this.formTableArea.getElement("[item='codeTr']").setStyle("display","none")},showCodeLogin:function(){this.errorArea.empty(),this.loginType="code",this.form.getItem("passwordAction").setStyles(this.css.titleNode_normal),this.form.getItem("codeAction").setStyles(this.css.titleNode_active),this.formTableArea.getElement("[item='passwordTr']").setStyle("display","none");var t=this.formTableArea.getElement("[item='captchaTr']");t&&t.setStyle("display","none"),this.formTableArea.getElement("[item='codeTr']").setStyle("display","")},showBindCodeLogin:function(){this.errorArea.empty(),this.formTableContainer.setStyle("display","none"),this.bindLoginContainer.setStyle("display",""),this.bindLoginTipPic.setStyle("display","none"),this.bindLoginAction.setStyle("display","none"),this.backtoPasswordLoginTipPic.setStyle("display",""),this.backtoPasswordLoginAction.setStyle("display",""),this.checkBindStatus()},backtoPasswordLogin:function(){this.errorArea.empty(),this.bindStatusInterval&&clearInterval(this.bindStatusInterval),this.formTableContainer.setStyle("display",""),this.bindLoginContainer.setStyle("display","none"),this.bindLoginTipPic.setStyle("display",""),this.bindLoginAction.setStyle("display",""),this.backtoPasswordLoginTipPic.setStyle("display","none"),this.backtoPasswordLoginAction.setStyle("display","none")},setBindPic:function(){this.bindPicArea.empty(),this.actions.getLoginBind(function(t){this.bindMeta=t.data.meta,new Element("img",{src:"data:image/png;base64,"+t.data.image}).inject(this.bindPicArea)}.bind(this))},setCaptchaPic:function(){if(this.captchaLogin){var t=this.formTableArea.getElement("[item='captchaPic']");t.empty(),this.actions.getLoginCaptcha(120,50,function(e){this.captcha=e.data.id,new Element("img",{src:"data:image/png;base64,"+e.data.image,styles:this.css.verificationImage}).inject(t)}.bind(this))}},sendVerificationAction:function(){var t=!0,e=this.form.getItem("credential"),i=e.getValue();i&&""!==i.trim()?(this.actions.checkCredential(i,function(i){i.data.value||(t=!1,e.setWarning(this.lp.userNotExist,"invalid"))}.bind(this),function(i){t=!1;var s=JSON.parse(i.responseText);e.setWarning(s.message,"invalid")}.bind(this),!1),t&&(e.clearWarning("invalid"),this.actions.createCredentialCode(i,(function(t){}),function(e){var i=JSON.parse(e.responseText);this.setWarning(i.message),t=!1}.bind(this)),t&&(this.errorArea.empty(),this.form.getItem("verificationAction").container.setStyle("display","none"),this.setResendVerification()))):e.setWarning(this.lp.inputYourUserName,"empty")},setResendVerification:function(){var t=this.form.getItem("resendVerificationAction");t.container.setStyle("display",""),this.resendElement=t.getElements()[0],this.resendElement.set("text",this.lp.resendVerification+"(60)");var e=60;this.timer=setInterval(function(){e>0?this.resendElement.set("text",this.lp.resendVerification+"("+--e+")"):(this.form.getItem("verificationAction").container.setStyle("display",""),t.container.setStyle("display","none"),clearInterval(this.timer))}.bind(this),1e3)},gotoSignup:function(){this.explorer.openSignUpForm(),this.close()},gotoResetPassword:function(){this.explorer.openResetPasswordForm(),this.close()},gotoChangePassword:function(t){this.explorer.openChangePasswordForm(t,function(){this.explorer.loadLogin()}.bind(this)),this.close()},checkBindStatus:function(){this.bindStatusInterval=setInterval(function(){this.actions.checkBindStatus(this.bindMeta,function(t){t.data&&t.data.name&&"anonymous"!==t.data.name&&(this.fireEvent("queryOk"),this._close(),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode.destroy(),this.explorer&&this.explorer.view&&this.explorer.view.reload(),this.app&&this.app.notice(this.lp.loginSuccess,"success"),this.fireEvent("postOk",t))}.bind(this),function(t){}.bind(this))}.bind(this),3e3)},_close:function(){this.bindStatusInterval&&clearInterval(this.bindStatusInterval),this.timer&&clearInterval(this.timer)},ok:function(){this.fireEvent("queryOk"),this.errorArea.empty();var t=null,e=null;"captcha"===this.loginType?(this.form.getItem("password").options.notEmpty=!0,this.captchaLogin&&(t=this.form.getItem("captchaAnswer"))&&(t.options.notEmpty=!0),(e=this.form.getItem("codeAnswer"))&&(e.options.notEmpty=!1)):"code"===this.loginType&&(this.form.getItem("password").options.notEmpty=!1,this.captchaLogin&&(t=this.form.getItem("captchaAnswer"))&&(t.options.notEmpty=!1),(e=this.form.getItem("codeAnswer"))&&(e.options.notEmpty=!0));var i=this.form.getResult(!0,",",!0,!1,!0);i&&this._ok(i,function(t){if("error"===t.type)this.app&&this.app.notice(t.message,"error");else if(t.data.passwordExpired){var e=t.data.distinguishedName;this.explorer.logout(function(){this.gotoChangePassword({userName:e})}.bind(this))}else this._close(),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode.destroy(),this.explorer&&this.explorer.view&&this.explorer.view.reload(),this.app&&this.app.notice(this.lp.loginSuccess,"success"),this.fireEvent("postOk",t)}.bind(this))},setWarning:function(t){this.errorArea.empty(),new Element("div",{text:t,styles:this.css.warningMessageNode}).inject(this.errorArea)},_ok:function(t,e){var i=null;"captcha"===this.loginType?(i={credential:t.credential,password:t.password},this.captchaLogin&&(i.captchaAnswer=t.captchaAnswer,i.captcha=this.captcha),this.actions.loginByCaptcha(i,function(t){e&&e(t)}.bind(this),function(t){var e=JSON.parse(t.responseText);this.setWarning(e.message),this.setCaptchaPic(),this.form.getItem("captchaAnswer")&&this.form.getItem("captchaAnswer").setValue("")}.bind(this))):"code"===this.loginType&&(i={credential:t.credential,codeAnswer:t.codeAnswer},this.actions.loginByCode(i,function(t){e&&e(t)}.bind(this),function(t){var e=JSON.parse(t.responseText);this.setWarning(e.message)}.bind(this)))}}),MWF.xDesktop.Authentication.SignUpForm=new Class({Extends:MPopupForm,Implements:[Options,Events],options:{style:"default",popupStyle:"o2platformSignup",width:"910",height:"740",hasTop:!0,hasIcon:!1,hasTopIcon:!0,hasTopContent:!0,hasBottom:!1,title:"",draggable:!0,closeAction:!0},load:function(){this.options.title||this.setOptions({title:MWF.LP.authentication.SignUpFormTitle}),this._loadCss()},_createTableContent:function(){var t=this;this.actions=MWF.Actions.get("x_organization_assemble_personal");var e="code";this.actions.getRegisterMode(function(t){e=t.data.value}.bind(this),null,!1),this.formTopNode.setStyle("height","50px"),this.formTableContainer.setStyles({width:"890px","margin-top":"40px"});var i="<table width='100%' bordr='0' cellpadding='5' cellspacing='0' styles='formTable'><tr><td styles='formTableTitle' lable='name' width='200'></td>   <td styles='formTableValue' item='name' width='350'></td>   <td styles='formTableValue' item='nameTip'></td></tr><tr><td styles='formTableTitle' lable='password'></td>   <td styles='formTableValue' item='password'></td>   <td styles='formTableValue'><div item='passwordStrengthArea'></div></div><div item='passwordTip'></div></td></tr><tr><td styles='formTableTitle' lable='confirmPassword'></td>   <td styles='formTableValue' item='confirmPassword'></td>   <td styles='formTableValue' item='confirmPasswordTip'></td></tr><tr><td styles='formTableTitle' lable='genderType'></td>   <td styles='formTableValue' item='genderType'></td>   <td styles='formTableValue' item='genderTypeTip'></td></tr><tr><td styles='formTableTitle' lable='mail'></td>   <td styles='formTableValue' item='mail'></td>   <td styles='formTableValue' item='mailTip'></td></tr><tr><td styles='formTableTitle' lable='mobile'></td>   <td styles='formTableValue' item='mobile'></td>   <td styles='formTableValue' item='mobileTip'></td></tr>";i+="code"===e?"<tr><td styles='formTableTitle' lable='codeAnswer'></td>   <td styles='formTableValue'><div item='codeAnswer' style='float:left;'></div><div item='verificationAction' style='float:left;'></div><div item='resendVerificationAction' style='float:left;display:none;'></div></td>   <td styles='formTableValue' item='verificationCodeTip'></td></tr>":"<tr><td styles='formTableTitle' lable='captchaAnswer'></td>   <td styles='formTableValue'><div item='captchaAnswer' style='float:left;'></div><div item='captchaPic' style='float:left;'></div><div item='changeCaptchaAction' style='float:left;'></div></td>   <td styles='formTableValue' item='captchaAnswerTip'></td></tr>",i+="<tr><td styles='formTableTitle'></td>   <td styles='formTableValue' item='signUpAction'></td>   <td styles='formTableValue' item='signUpTip'></td></tr><tr><td></td>   <td><div item='hasAccountArea'></div><div item='gotoLoginAction'></div></td>   <td></td></tr></table>",this.formTableArea.set("html",i),"captcha"===e&&this.setCaptchaPic(),MWF.xDesktop.requireApp("Template","MForm",function(){this.form=new MForm(this.formTableArea,this.data,{style:this.options.popupStyle,verifyType:"batchSingle",isEdited:this.isEdited||this.isNew,onPostLoad:function(){var t=this.form,e=this.formTableArea;t.getItem("name").tipNode=e.getElement("[item='nameTip']"),t.getItem("password").tipNode=e.getElement("[item='passwordTip']"),t.getItem("confirmPassword").tipNode=e.getElement("[item='confirmPasswordTip']"),t.getItem("mail").tipNode=e.getElement("[item='mailTip']"),t.getItem("genderType").tipNode=e.getElement("[item='genderTypeTip']"),t.getItem("mobile").tipNode=e.getElement("[item='mobileTip']"),this.tipNode=e.getElement("[item='signUpTip']"),t.getItem("captchaAnswer")&&(t.getItem("captchaAnswer").tipNode=e.getElement("[item='captchaAnswerTip']")),t.getItem("codeAnswer")&&(t.getItem("codeAnswer").tipNode=e.getElement("[item='verificationCodeTip']"))}.bind(this),itemTemplate:{name:{text:this.lp.userName,defaultValue:this.lp.userName,className:"inputUser",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourUserName,validRule:{isInvalid:function(t,e){return this.checkUserName(t,e)}.bind(this)},validMessage:{isInvalid:this.lp.userExist},event:{focus:function(t){this.lp.userName===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this),blur:function(t){t.verify(!0)&&(t.warningStatus||t.getElements()[0].setStyles(this.css.inputUser))}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputUser)}.bind(this)},password:{text:this.lp.password,type:"password",className:"inputPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourPassword,validRule:{passwordIsWeak:function(t,e){return!this.getPasswordRule(e.getValue())}.bind(this)},validMessage:{passwordIsWeak:function(){return t.getPasswordRule(this.getValue())}},event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0)}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this)},confirmPassword:{text:this.lp.confirmPassword,type:"password",className:"inputComfirmPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputComfirmPassword,validRule:{passwordNotEqual:function(t,e){if(e.getValue()===this.form.getItem("password").getValue())return!0}.bind(this)},validMessage:{passwordNotEqual:this.lp.passwordNotEqual},event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this),blur:function(t){t.verify(!0)&&(t.warningStatus||t.getElements()[0].setStyles(this.css.inputComfirmPassword))}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputComfirmPassword)}.bind(this)},mail:{text:this.lp.mail,defaultValue:this.lp.inputYourMail,className:"inputMail",notEmpty:!1,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourMail,validRule:{isFormatInvalid:function(t,e){return!t||t===this.lp.inputYourMail||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)?(e.tipNode.empty(),e.warningStatus=!1,!0):(e.warningStatus=!0,!1)}.bind(this)},validMessage:{isFormatInvalid:this.lp.mailFormatError},event:{focus:function(t){this.lp.inputYourMail===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0),t.warningStatus||t.getElements()[0].setStyles(this.css.inputMail)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){}.bind(this),onUnempty:function(t){}.bind(this)},genderType:{text:this.lp.genderType,className:"inputGenderType",type:"select",selectValue:this.lp.genderTypeValue.split(","),selectText:this.lp.genderTypeText.split(","),notEmpty:!0,emptyTip:this.lp.selectGenderType,event:{focus:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0),t.warningStatus||t.getElements()[0].setStyles(this.css.inputGenderType)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputGenderType)}.bind(this)},mobile:{text:this.lp.mobile,defaultValue:this.lp.inputYourMobile,className:"inputMobile",tType:"number",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourMobile,validRule:{isInvalid:function(t,e){return this.checkMobile(t,e)}.bind(this)},validMessage:{isInvalid:this.lp.mobileIsRegisted},event:{focus:function(t){this.lp.inputYourMobile===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this),blur:function(t){t.verify(!0)&&(t.warningStatus||t.getElements()[0].setStyles(this.css.inputMobile))}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputMobile)}.bind(this)},captchaAnswer:{tType:"number",text:this.lp.verificationCode,defaultValue:this.lp.verificationCode,className:"inputVerificationCode",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputPicVerificationCode,event:{focus:function(t){this.lp.verificationCode===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0),t.warningStatus||t.getElements()[0].setStyles(this.css.inputVerificationCode)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputVerificationCode)}.bind(this)},changeCaptchaAction:{value:this.lp.changeVerification,type:"innerText",className:"verificationChange",event:{click:function(){this.setCaptchaPic()}.bind(this)}},codeAnswer:{text:this.lp.verificationCode,defaultValue:this.lp.inputVerificationCode,className:"inputVerificationCode2",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputVerificationCode,event:{focus:function(t){this.lp.inputVerificationCode===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0),t.warningStatus||t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this)},verificationAction:{value:this.lp.sendVerification,type:"button",className:"inputSendVerification",event:{click:function(){this.sendVerificationAction()}.bind(this)}},resendVerificationAction:{value:this.lp.resendVerification,type:"button",className:"inputResendVerification"},signUpAction:{value:this.lp.signUp,type:"button",className:"inputSignUp",event:{click:function(){this.ok()}.bind(this)}},hasAccountArea:{value:this.lp.hasAccount,type:"innerText",className:"hasCountArea"},gotoLoginAction:{value:this.lp.gotoLogin,type:"innerText",className:"gotoLoginAction",event:{click:function(){this.gotoLogin()}.bind(this)}}}},this.app,this.css),this.form.load()}.bind(this),!0)},checkMobile:function(t,e){var i=!0;return this.actions.checkRegisterMobile(t,function(){i=!0}.bind(this),function(t){if(404===t.status)e.options.validMessage.isInvalid=this.lp.pageNotFound,i=!1;else{var s=JSON.parse(t.responseText);e.options.validMessage.isInvalid=s.message,i=!1}}.bind(this),!1),i},checkUserName:function(t,e){var i=!0;return this.actions.checkRegisterName(t,function(){i=!0}.bind(this),function(t){if(404===t.status)e.options.validMessage.isInvalid=this.lp.pageNotFound,i=!1;else{var s=JSON.parse(t.responseText);e.options.validMessage.isInvalid=s.message,i=!1}}.bind(this),!1),i},setCaptchaPic:function(){var t=this.formTableArea.getElement("[item='captchaPic']");t.empty(),this.actions.getRegisterCaptcha(120,50,function(e){this.captcha=e.data.id,new Element("img",{src:"data:image/png;base64,"+e.data.image,styles:this.css.verificationImage}).inject(t)}.bind(this))},sendVerificationAction:function(){var t=!0,e=this.form.getItem("mobile");if(e.verify(!0)){if(e.clearWarning(),e.getElements()[0].setStyles(this.css.inputMobile),this.actions.createRegisterCode(e.getValue(),(function(t){}),function(e){var i=this.form.getItem("codeAnswer"),s=JSON.parse(e.responseText);404===e.status?(i.setWarning(s.message,this.lp.pageNotFound),t=!1):(i.setWarning(s.message,"invalid"),t=!1)}.bind(this),!1),!t)return!1;this.form.getItem("verificationAction").container.setStyle("display","none"),this.setResendVerification()}},setResendVerification:function(){var t=this.form.getItem("resendVerificationAction");t.container.setStyle("display",""),this.resendElement=t.getElements()[0],this.resendElement.set("text",this.lp.resendVerification+"(60)");var e=60;this.timer=setInterval(function(){e>0?this.resendElement.set("text",this.lp.resendVerification+"("+--e+")"):(this.form.getItem("verificationAction").container.setStyle("display",""),t.container.setStyle("display","none"),clearInterval(this.timer))}.bind(this),1e3)},getPasswordRule:function(t){var e="";return this.actions.checkRegisterPassword(t,function(t){e=t.data.value||""}.bind(this),null,!1),e},gotoLogin:function(){this.explorer.openLoginForm({},(function(){window.location.reload()})),this.close()},setWarning:function(t){this.tipNode.empty(),new Element("div",{text:t,styles:this.css.warningMessageNode}).inject(this.tipNode)},setNotice:function(t){this.tipNode.empty(),new Element("div",{text:t,styles:this.css.noticeMessageNode}).inject(this.tipNode)},ok:function(){this.tipNode.empty(),this.fireEvent("queryOk");var t=this.form.getResult(!0,",",!0,!1,!0);t&&this._ok(t,function(t){"error"===t.type?this.app&&this.app.notice(t.message,"error"):(this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode.destroy(),this.setNotice(this.lp.registeSuccess),this.app&&this.app.notice(this.lp.registeSuccess,"success"),this.fireEvent("postOk",t),this.gotoLogin())}.bind(this))},_ok:function(t,e){t.captcha=this.captcha,this.actions.register(t,function(t){e&&e(t)}.bind(this),function(t){if(404===t.status)this.setWarning(this.lp.pageNotFound);else{var e=JSON.parse(t.responseText);this.setWarning(e.message)}}.bind(this))}}),MWF.xDesktop.Authentication.ResetPasswordForm=new Class({Extends:MPopupForm,Implements:[Options,Events],options:{style:"default",popupStyle:"o2platformSignup",width:"710",height:"450",hasTop:!0,hasIcon:!1,hasTopIcon:!0,hasTopContent:!0,hasBottom:!1,title:"",draggable:!0,closeAction:!0},load:function(){this.options.title||this.setOptions({title:MWF.LP.authentication.ResetPasswordFormTitle}),this._loadCss()},_createTopContent:function(){this.actions=MWF.Actions.get("x_organization_assemble_personal"),this.actions.getRegisterMode(function(t){this.signUpMode=t.data.value}.bind(this),null,!1),this.signUpMode&&"disable"!==this.signUpMode&&(this.gotoSignupNode=new Element("div",{styles:this.css.formTopContentCustomNode,text:this.lp.signUp}).inject(this.formTopContentNode),this.gotoSignupNode.addEvent("click",function(){this.gotoSignup()}.bind(this)),new Element("div",{styles:this.css.formTopContentSepNode}).inject(this.formTopContentNode)),this.gotoLoginNode=new Element("div",{styles:this.css.formTopContentCustomNode,text:this.lp.loginAction}).inject(this.formTopContentNode),this.gotoLoginNode.addEvent("click",function(){this.gotoLogin()}.bind(this))},_createTableContent:function(){this.formTableContainer.setStyles(this.css.formTableContainer2),this.loadSteps(),this.loadStepForm_1(),this.loadStepForm_2(),this.loadStepForm_3()},reset:function(){this.formTableArea.empty(),this._createTableContent()},loadSteps:function(){var t=new Element("div",{styles:this.css.stepsContainer}).inject(this.formTableArea);this.step_1=new Element("div",{styles:this.css.step_1_active,text:this.lp.shotMessageCheck}).inject(t),this.stepLink_1=new Element("div",{styles:this.css.stepLink_1}).inject(this.step_1),this.step_2=new Element("div",{styles:this.css.step_2,text:this.lp.setMewPassword}).inject(t),this.stepLink_2=new Element("div",{styles:this.css.stepLink_2}).inject(this.step_2),this.step_3=new Element("div",{styles:this.css.step_3,text:this.lp.completed}).inject(t)},loadStepForm_1:function(){this.stepNode_1=new Element("div",{html:"<table width='100%' bordr='0' cellpadding='5' cellspacing='0' styles='formTable'><tr><td styles='formTableTitle' lable='name' width='80'></td>   <td styles='formTableValue' item='name' width='350'></td></tr><tr><td styles='formTableTitle' lable='codeAnswer'></td>   <td styles='formTableValue'>       <div item='codeAnswer' style='float:left;'></div>       <div item='verificationAction' style='float:left;'></div>       <div item='resendVerificationAction' style='float:left;display:none;'></div></td>   </tr><tr><td styles='formTableTitle'></td>   <td styles='formTableValue' item='nextStep'></td></tr></table>",styles:{display:""}}).inject(this.formTableArea),MWF.xDesktop.requireApp("Template","MForm",function(){this.stepForm_1=new MForm(this.stepNode_1,{},{style:this.options.popupStyle,verifyType:"single",isEdited:this.isEdited||this.isNew,itemTemplate:{name:{text:this.lp.userName,defaultValue:this.lp.userName,className:"inputUser",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourUserName,validRule:{isInvalid:function(t,e){return this.checkUserName(t,e)}.bind(this)},validMessage:{isInvalid:this.lp.userNotExist},event:{focus:function(t){this.lp.userName===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){""===t.getValue()&&t.setValue(this.lp.userName),t.warningStatus||t.getElements()[0].setStyles(this.css.inputUser)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.gotoStep(2)}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputUser)}.bind(this)},codeAnswer:{text:this.lp.verificationCode,defaultValue:this.lp.inputVerificationCode,className:"inputVerificationCode2",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputVerificationCode,event:{focus:function(t){this.lp.inputVerificationCode===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){""===t.getValue()&&t.setValue(this.lp.inputVerificationCode),t.warningStatus||t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.gotoStep(2)}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputVerificationCode2)}.bind(this)},verificationAction:{value:this.lp.sendVerification,type:"button",className:"inputSendVerification",event:{click:function(){this.sendVerificationAction()}.bind(this)}},resendVerificationAction:{value:this.lp.resendVerification,type:"button",className:"inputResendVerification"},nextStep:{value:this.lp.nextStep,type:"button",className:"inputSignUp",event:{click:function(){this.gotoStep(2)}.bind(this)}}}},this.app,this.css),this.stepForm_1.load()}.bind(this),!0)},loadStepForm_2:function(){var t=this;html="<table width='100%' bordr='0' cellpadding='5' cellspacing='0' styles='formTable'><tr><td styles='formTableTitle' lable='password' width='80'></td>   <td styles='formTableValue' item='password' width='350'></td>   <td styles='formTableValue'><div item='passwordStrengthArea'></div></td></tr><tr><td styles='formTableTitle' lable='confirmPassword'></td>   <td styles='formTableValue' item='confirmPassword'></td>   <td styles='formTableValue'></td></tr><tr><td styles='formTableTitle'></td>   <td styles='formTableValue' item='nextStep'></td>   <td styles='formTableValue'></td></tr></table>",this.stepNode_2=new Element("div",{html:html,styles:{display:"none"}}).inject(this.formTableArea),MWF.xDesktop.requireApp("Template","MForm",function(){this.stepForm_2=new MForm(this.stepNode_2,{},{style:this.options.popupStyle,verifyType:"single",isEdited:this.isEdited||this.isNew,itemTemplate:{password:{text:this.lp.setNewPassword,type:"password",className:"inputPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourPassword,attr:{placeholder:this.lp.inputYourPassword},validRule:{passwordIsWeak:function(t,e){return!this.getPasswordRule(e.getValue())}.bind(this)},validMessage:{passwordIsWeak:function(){return t.getPasswordRule(this.getValue())}},event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.verify(!0)}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this)},confirmPassword:{text:this.lp.confirmNewPassword,type:"password",className:"inputComfirmPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputComfirmPassword,attr:{placeholder:this.lp.inputComfirmPassword},validRule:{passwordNotEqual:function(t,e){if(e.getValue()===this.stepForm_2.getItem("password").getValue())return!0}.bind(this)},validMessage:{passwordNotEqual:this.lp.passwordNotEqual},event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputComfirmPassword)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.gotoStep(3)}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputComfirmPassword)}.bind(this)},nextStep:{value:this.lp.nextStep,type:"button",className:"inputSignUp",event:{click:function(){this.gotoStep(3)}.bind(this)}}}},this.app,this.css),this.stepForm_2.load()}.bind(this),!0)},loadStepForm_3:function(){this.stepNode_3=new Element("div",{styles:this.css.stepFormResult}).inject(this.formTableArea)},createSetForm_3:function(t,e){var i=null;t?(this.stepNode_3.setStyles(this.css.stepFormResult),this.stepNode_3.setStyle("display",""),new Element("div",{styles:this.css.resetPasswordSuccess,text:this.lp.resetPasswordSuccess}).inject(this.stepNode_3),i=new Element("div",{styles:this.css.resetPasswordResultArea}).inject(this.stepNode_3),new Element("div",{styles:this.css.resetPasswordResultWord,text:this.lp.resetPasswordSuccessWord}).inject(i),new Element("div",{styles:this.css.resetPasswordResultAction,text:this.lp.gotoLogin}).inject(i).addEvent("click",function(){this.gotoLogin()}.bind(this))):(this.stepNode_3.setStyles(this.css.stepFormResult_fail),this.stepNode_3.setStyle("display",""),new Element("div",{styles:this.css.resetPasswordFail,text:e+this.lp.resetPasswordFail}).inject(this.stepNode_3),i=new Element("div",{styles:this.css.resetPasswordResultArea}).inject(this.stepNode_3),new Element("div",{styles:this.css.resetPasswordResultWord,text:this.lp.resetPasswordFailWord}).inject(i),new Element("div",{styles:this.css.resetPasswordResultAction,text:this.lp.backtoModify}).inject(i).addEvent("click",function(){this.reset()}.bind(this)))},gotoStep:function(t){var e=this["stepForm_"+(t-1)];if(e.clearWarning(),e.getResult(!0,",",!0,!1,!0)){var i;for(i=1;i<=t;i++)this["step_"+i].setStyles(this.css["step_"+i+"_active"]),i!==t&&this["stepLink_"+i]&&this["stepLink_"+i].setStyles(this.css["stepLink_"+i+"_active"]);for(i=t+1;i<=3;i++)this["step_"+i].setStyles(this.css["step_"+i]),3!==i&&this["stepLink_"+i].setStyles(this.css["stepLink_"+i]);for(i=1;i<=3;i++)i===t?this["stepNode_"+i].setStyle("display",""):this["stepNode_"+i].setStyle("display","none");if(3===t){var s={credential:this.stepForm_1.getItem("name").getValue(),codeAnswer:this.stepForm_1.getItem("codeAnswer").getValue(),password:this.stepForm_2.getItem("password").getValue()};this.actions.resetPassword(s,function(){this.createSetForm_3(!0)}.bind(this),function(t){var e=JSON.parse(t.responseText);this.createSetForm_3(!1,e.message)}.bind(this),!1)}}},checkMobile:function(t){var e=!0;return this.actions.checkRegisterMobile(t,function(){e=!0}.bind(this),function(){e=!1}.bind(this),!1),e},checkUserName:function(t,e){var i=!1;return this.actions.checkCredentialOnResetPassword(t,function(t){t.data&&(i=t.data.value)}.bind(this),function(t){if(404===t.status)e.options.validMessage.isInvalid=this.lp.pageNotFound,i=!1;else{var s=JSON.parse(t.responseText);e.options.validMessage.isInvalid=s.message,i=!1}}.bind(this),!1),i},sendVerificationAction:function(){var t=!0,e=this.stepForm_1.getItem("name");if(this.stepForm_1.clearWarning(),e.verify(!0)){if(this.actions.createCodeOnResetPassword(e.getValue(),(function(t){}),function(i){var s=JSON.parse(i.responseText);e.setWarning(s.message,"invalid"),t=!1}.bind(this),!1),!t)return!1;this.stepForm_1.getItem("verificationAction").container.setStyle("display","none"),this.setResendVerification()}},setResendVerification:function(){var t=this.stepForm_1.getItem("resendVerificationAction");t.container.setStyle("display",""),this.resendElement=t.getElements()[0],this.resendElement.set("text",this.lp.resendVerification+"(60)");var e=60;this.timer=setInterval(function(){e>0?this.resendElement.set("text",this.lp.resendVerification+"("+--e+")"):(this.stepForm_1.getItem("verificationAction").container.setStyle("display",""),t.container.setStyle("display","none"),clearInterval(this.timer))}.bind(this),1e3)},getPasswordRule:function(t){var e="";return this.actions.checkRegisterPassword(t,function(t){e=t.data.value||""}.bind(this),null,!1),e},gotoLogin:function(){this.explorer.openLoginForm({},(function(){window.location.reload()})),this.close()},gotoSignup:function(){this.explorer.openSignUpForm(),this.close()}}),MWF.xDesktop.Authentication.ChangePasswordForm=new Class({Extends:MPopupForm,Implements:[Options,Events],options:{style:"default",popupStyle:"o2platform",width:"650",height:"480",hasTop:!0,hasIcon:!1,hasTopIcon:!0,hasTopContent:!0,hasBottom:!1,hasScroll:!1,hasMark:!1,title:"",draggable:!0,closeAction:!0,userName:""},load:function(){this.options.title||this.setOptions({title:MWF.LP.authentication.ChangePasswordFormTitle}),this._loadCss()},_createTableContent:function(){var t=this;this.actions=MWF.Actions.get("x_organization_assemble_personal");this.formTableArea.set("html","<table width='100%' bordr='0' cellpadding='0' cellspacing='0' styles='formTable'><tr><td styles='formTableValueTop20' item='password'></td></tr><tr><td styles='formTableValueTop20' item='newPassword'></td><tr><td styles='formTableValue'><div item='passwordTip'></div></td></tr><tr><td styles='formTableValueTop20' item='confirmPassword'></td><tr><td styles='formTableValueTop20' item='submitAction'></td></tr><tr><td><div item='forgetPassword'></div><div item='gotoLoginAction'></div></td></tr><tr><td  styles='formTableValue' item='errorArea'></td></tr></table>"),this.errorArea=this.formTableArea.getElement("[item=errorArea]"),MWF.xDesktop.requireApp("Template","MForm",function(){this.form=new MForm(this.formTableArea,this.data,{style:this.options.popupStyle,verifyType:"single",isEdited:this.isEdited||this.isNew,onPostLoad:function(){var t=this.form;t.getItem("password").tipNode=this.errorArea,t.getItem("newPassword").tipNode=this.errorArea,t.getItem("confirmPassword").tipNode=this.errorArea}.bind(this),itemTemplate:{password:{text:this.lp.oldPassword,type:"password",className:"inputPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourOldPassword,attr:{placeholder:this.lp.oldPassword},event:{focus:function(t){"password"===t.getValue()&&t.setValue(""),t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this)},newPassword:{text:this.lp.newPassword,type:"password",className:"inputPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputYourNewPassword,attr:{placeholder:this.lp.newPassword},validRule:{passwordIsWeak:function(t,e){return!this.getPasswordRule(e.getValue())}.bind(this)},validMessage:{passwordIsWeak:function(){return t.getPasswordRule(this.getValue())}},event:{focus:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputPassword)}.bind(this)},confirmPassword:{text:this.lp.confirmNewPassword,type:"password",className:"inputComfirmPassword",notEmpty:!0,defaultValueAsEmpty:!0,emptyTip:this.lp.inputComfirmPassword,attr:{placeholder:this.lp.confirmPassword},validRule:{passwordNotEqual:function(t,e){if(e.getValue()===this.form.getItem("newPassword").getValue())return!0}.bind(this)},validMessage:{passwordNotEqual:this.lp.passwordNotEqual},event:{focus:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputActive)}.bind(this),blur:function(t){t.warningStatus||t.getElements()[0].setStyles(this.css.inputComfirmPassword)}.bind(this),keyup:function(t,e){13===e.event.keyCode&&this.ok()}.bind(this)},onEmpty:function(t){t.getElements()[0].setStyles(this.css.inputEmpty)}.bind(this),onUnempty:function(t){t.getElements()[0].setStyles(this.css.inputComfirmPassword)}.bind(this)},forgetPassword:{value:this.lp.forgetPassword,type:"innerText",className:"forgetPassword",event:{click:function(){this.gotoResetPassword()}.bind(this)}},gotoLoginAction:{value:this.lp.loginAction,type:"innerText",className:"signUpAction",event:{click:function(){this.gotoLogin()}.bind(this)}},passwordTip:{type:"innerText",className:"forgetPassword",defaultValue:layout.config.passwordRegexHint||""},submitAction:{value:this.lp.submitAction,type:"button",className:"inputLogin",event:{click:function(){this.ok()}.bind(this)}}}},this.app,this.css),this.form.load()}.bind(this),!0)},gotoLogin:function(){this.explorer.openLoginForm({},(function(){window.location.reload()})),this.close()},getPasswordRule:function(t){var e="";return this.actions.checkRegisterPassword(t,function(t){e=t.data.value||""}.bind(this),null,!1),e},gotoResetPassword:function(){this.explorer.openResetPasswordForm(),this.close()},ok:function(){this.fireEvent("queryOk"),this.errorArea.empty();var t=this.form.getResult(!0,",",!0,!1,!0);t&&this._ok(t,function(t){"error"===t.type?this.app&&this.app.notice(t.message,"error"):(this._close(),this.formMaskNode&&this.formMaskNode.destroy(),this.formAreaNode.destroy(),this.explorer&&this.explorer.view&&this.explorer.view.reload(),this.app&&this.app.notice(this.lp.changePasswordSuccess,"success"),this.fireEvent("postOk",t))}.bind(this))},setWarning:function(t){this.errorArea.empty(),new Element("div",{text:t,styles:this.css.warningMessageNode}).inject(this.errorArea)},_ok:function(t,e){var i={userName:this.options.userName,oldPassword:t.password,newPassword:t.newPassword,confirmPassword:t.confirmPassword,isEncrypted:"n"};o2.Actions.load("x_organization_assemble_personal").ResetAction.setPasswordAnonymous(i,function(t){e&&e(t)}.bind(this),function(t){var e=JSON.parse(t.responseText);this.setWarning(e.message)}.bind(this))}}),MWF.require("MWF.widget.Dialog",null,!1),MWF.xDesktop.Window=new Class({Extends:MWF.widget.Dialog,Implements:[Options,Events],options:{style:"default",title:"window",width:"800",height:"600",top:"10",left:"10",fromTop:"0",fromLeft:"0",mark:!1,html:"",text:"",url:"",content:null,isMax:!0,isClose:!0,isResize:!0,isMove:!0,buttons:null,buttonList:null},initialize:function(t,e){var i=layout.desktop.desktopNode.getPosition();this.options.top=parseFloat(this.options.top)+i.y,this.options.fromTop=parseFloat(this.options.fromTop)+i.y,this.app=t,this.parent(e),this.isHide=!1,this.isMax=!1},changeStyle:function(){var t=this.getNodeStyleStatus();this.cssPath=MWF.defaultPath+"/widget/$Dialog/"+this.options.style+"/css.wcss",this._loadCss(),this.getContentUrl(),new Request.HTML({url:this.contentUrl,method:"GET",async:!1,onSuccess:function(e){var i=e[0],s=i.getElement(".MWF_dialod_title"),o=i.getElement(".MWF_dialod_title_center"),n=i.getElement(".MWF_dialod_title_refresh"),a=i.getElement(".MWF_dialod_title_text"),r=i.getElement(".MWF_dialod_title_action"),h=i.getElement(".MWF_dialod_under"),l=i.getElement(".MWF_dialod_content"),c=i.getElement(".MWF_dialod_bottom"),d=i.getElement(".MWF_dialod_bottom_resize"),p=i.getElement(".MWF_dialod_button");this.title&&s&&(this.title.clearStyles(),this.title.set("style",s.get("style"))),this.titleCenter&&o&&(this.titleCenter.clearStyles(),this.titleCenter.set("style",o.get("style"))),this.titleRefresh&&n&&(this.titleRefresh.clearStyles(),this.titleRefresh.set("style",n.get("style"))),this.titleText&&a&&(this.titleText.clearStyles(),this.titleText.set("style",a.get("style"))),this.titleAction&&r&&(this.titleAction.clearStyles(),this.titleAction.set("style",r.get("style"))),this.under&&h&&(this.under.clearStyles(),this.under.set("style",h.get("style"))),this.content&&l&&(this.content.clearStyles(),this.content.set("style",l.get("style"))),this.bottom&&c&&(this.bottom.clearStyles(),this.bottom.set("style",c.get("style"))),this.resizeNode&&d&&(this.resizeNode.clearStyles(),this.resizeNode.set("style",d.get("style"))),this.button&&p&&(this.button.clearStyles(),this.button.set("style",p.get("style"))),this.setNodeStyleStatus(t),this.node.setStyles(this.css.to),this.spacer.setStyles(this.css.spacerTo),this.closeActionNode&&this.closeActionNode.setStyles(this.css.closeActionNode),this.maxActionNode&&this.maxActionNode.setStyles(this.css.maxActionNode),this.minActionNode&&this.minActionNode.setStyles(this.css.minActionNode),this.restoreActionNode&&this.restoreActionNode.setStyles(this.css.restoreActionNode),this.app==this.app.desktop.currentApp?(this.node.setStyles(this.css.current),this.spacer.setStyles(this.css.spacerCurrent)):(this.node.setStyles(this.css.uncurrent),this.spacer.setStyles(this.css.spacerUncurrent)),this.setContentSize()}.bind(this)}).send()},setNodeStyleStatus:function(t){this.css.to.height=t.nodeTo.height,this.css.to.width=t.nodeTo.width,this.css.to.top=t.nodeTo.top,this.css.to.left=t.nodeTo.left,this.css.to["z-index"]=t.nodeTo["z-index"],this.css.from.top=t.nodeFrom.top,this.css.from.left=t.nodeFrom.left,this.css.from["z-index"]=t.nodeFrom["z-index"],this.css.spacerTo.height=t.spacerTo.height,this.css.spacerTo.width=t.spacerTo.width,this.css.spacerTo.top=t.spacerTo.top,this.css.spacerTo.left=t.spacerTo.left,this.css.spacerTo["z-index"]=t.spacerTo["z-index"],this.css.spacerFrom.top=t.spacerFrom.top,this.css.spacerFrom.left=t.spacerFrom.left,this.css.spacerFrom["z-index"]=t.spacerFrom["z-index"]},getNodeStyleStatus:function(){return{nodeTo:{height:this.css.to.height,width:this.css.to.width,top:this.css.to.top,left:this.css.to.left,"z-index":this.css.to["z-index"]},nodeFrom:{top:this.css.from.top,left:this.css.from.left,"z-index":this.css.from["z-index"]},spacerTo:{height:this.css.spacerTo.height,width:this.css.spacerTo.width,top:this.css.spacerTo.top,left:this.css.spacerTo.left,"z-index":this.css.spacerTo["z-index"]},spacerFrom:{top:this.css.spacerFrom.top,left:this.css.spacerFrom.left,"z-index":this.css.spacerFrom["z-index"]}}},reStyle:function(t){t&&this.setOptions(t);var e=null;MWF.xDesktop.zIndexPool&&(e=MWF.xDesktop.zIndexPool.applyZindex()),this.css.to.height=this.options.height+"px",this.css.to.width=this.options.width+"px",this.css.to.top=this.options.top+"px",this.css.to.left=this.options.left+"px",this.css.from.top=this.options.fromTop+"px",this.css.from.left=this.options.fromLeft+"px",e&&(this.css.from["z-index"]=e+1,this.css.to["z-index"]=e+1),this.node&&this.node.set("styles",this.css.from),this.css.spacerTo.height=this.options.height+"px",this.css.spacerTo.width=this.options.width+"px",this.css.spacerTo.top=this.options.top+"px",this.css.spacerTo.left=this.options.left+"px",this.css.spacerFrom.top=this.options.fromTop+"px",this.css.spacerFrom.left=this.options.fromLeft+"px",e&&(this.css.spacerFrom["z-index"]=e,this.css.spacerTo["z-index"]=e),this.spacer&&this.spacer.set("styles",this.css.spacerFrom)},setCurrent:function(){if(MWF.xDesktop.zIndexPool&&this.node.getStyle("z-index").toFloat()+1<MWF.xDesktop.zIndexPool.zIndex){var t=MWF.xDesktop.zIndexPool.applyZindex();this.css.spacerTo["z-index"]=t,this.css.spacerFrom["z-index"]=t,this.spacer&&this.spacer.setStyle("z-index",t),this.css.to["z-index"]=t+1,this.css.from["z-index"]=t+1,this.node.setStyle("z-index",t+1)}this.node.setStyles(this.css.current),this.spacer&&this.spacer.setStyles(this.css.spacerCurrent)},setUncurrent:function(){this.node.setStyles(this.css.uncurrent),this.spacer&&this.spacer.setStyles(this.css.spacerUncurrent)},setTitleEvent:function(){this.node.addEvent("mousedown",function(){this.app.setCurrent()}.bind(this)),this.containerDrag=new Drag(this.title,{handle:this.title,onStart:function(t,e){this.containerDrag.stop();var i=this.node.clone(!1).inject($(document.body)),s=this.node.getSize();i.setStyles({opacity:.7,border:"2px dashed #999","z-index":this.node.getStyle("z-index"),width:s.x,height:s.y,"background-color":"#CCC",position:"absolute"}),i.position({relativeTo:this.node,position:"upperLeft",edge:"upperLeft"});var o=new Drag.Move(i,{onStart:function(){this.node.fade("out"),this.spacer.fade("out")}.bind(this),onDrop:function(t,e,i){this.node.fade("in"),this.spacer.fade(this.css.spacerTo.opacity),this.node.position({relativeTo:t,position:"upperLeft",edge:"upperLeft"});var s=this.node.getPosition();this.spacer.setStyles({top:s.y,left:s.x}),this.css.spacerTo.left=s.x,this.css.spacerTo.top=s.y,this.css.to.left=s.x,this.css.to.top=s.y,t.destroy(),this.fireEvent("moveDrop",[i])}.bind(this),onCancel:function(t){t.destroy(),o=null}});o.start(e)}.bind(this)}),this.options.isResize&&this.node.makeResizable({handle:this.resizeNode||this.bottom,limit:{x:[200,null],y:[200,null]},onDrag:function(){var t=this.node.getComputedSize();this.spacer&&(this.spacer.setStyles({width:t.width,height:t.height}),this.css.spacerTo.width=t.width,this.css.spacerTo.height=t.height),this.css.to.width=t.width,this.css.to.height=t.height,this.setContentSize(t.height,t.width),this.fireEvent("resize")}.bind(this),onComplete:function(){this.fireEvent("resizeCompleted")}.bind(this)})},getContentUrl:function(){layout.desktop.windowCss?this.contentUrl=MWF.defaultPath+"/xDesktop/$Window/desktop_default/dialog.html":this.contentUrl=MWF.defaultPath+"/xDesktop/$Window/"+this.options.style+"/dialog.html"},_loadCss:function(){this.app.desktop.windowCss?this.css=this.app.desktop.windowCss:(this.path=MWF.defaultPath+"/xDesktop/$Window/",this.cssPath=MWF.defaultPath+"/xDesktop/$Window/"+this.options.style+"/css.wcss",new Request.JSON({url:this.cssPath,secure:!1,async:!1,method:"get",noCache:!0,onSuccess:function(t,e){this.css=t}.bind(this),onError:function(t,e){alert(t)}}).send())},getSpacer:function(){this.spacer||(this.spacer=new Element("div",{styles:this.css.spacerFrom}).inject(this.options.container||$(document.body)))},showNoAnimation:function(t,e){t?this.showMaxIm():e?(this.showIm(),this.hideIm()):this.showIm()},showMaxIm:function(t){this.querySetMaxStyle(),this.getSpacer(),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var e,i=this.getMaxSize(),s=Object.clone(this.css.spacerTo),o=Object.clone(this.css.to);s.top=i.position.y,s.left=i.position.x,s.width=i.spacer.x,s.height=i.spacer.y,o.top=i.position.y,o.left=i.position.x,o.width=i.node.x,o.height=i.node.y,e=i.contentSize,this.fireEvent("queryShow")&&(this.fireEvent("queryMax"),this.node.setStyles(o),this.spacer.setStyles(s),this.content.setStyles(e),this.titleText&&this.getTitle(),this.isMax=!0,this.isHide=!1,this.containerDrag&&this.containerDrag.detach(),this.postSetMaxStyle(),t&&t(),this.fireEvent("postShow"),this.fireEvent("postMax"),this.maxActionNode&&this.maxActionNode.setStyles(this.css.restoreActionNode))},showIm:function(){this.options.mark&&this._markShow(),this.getSpacer(),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var t=this.getContentSize(this.css.to.height.toFloat(),this.css.to.width.toFloat());this.fireEvent("queryShow")&&(this.spacer.setStyles(this.css.spacerTo),this.app.desktop.currentApp!=this.app&&this.spacer.setStyles(this.css.spacerUncurrent),this.content.setStyles(t),this.node.setStyles(this.css.to),this.titleText&&this.getTitle(),this.isHide=!1,this.containerDrag&&this.containerDrag.attach(),this.fireEvent("postShow"))},show:function(){this.options.mark&&this._markShow(),this.morph||(this.morph=new Fx.Morph(this.node,{duration:100,link:"chain"})),this.morph.setOptions({duration:50}),this.getSpacer(),this.spacerMorph||(this.spacerMorph=new Fx.Morph(this.spacer,{duration:100,link:"chain"})),this.spacerMorph.setOptions({duration:50}),this.contentMorph||(this.contentMorph=new Fx.Morph(this.content,{duration:50,link:"chain"})),this.contentMorph.setOptions({duration:50}),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var t=this.getContentSize(this.css.to.height.toFloat(),this.css.to.width.toFloat());if(this.fireEvent("queryShow")){var e=!1,i=!1,s=!1;this.spacerMorph.start(this.css.spacerTo).chain(function(){this.app.desktop.currentApp!=this.app&&this.spacer.setStyles(this.css.spacerUncurrent),i=!0,o()}.bind(this)),this.contentMorph.start(t).chain(function(){s=!0,o()}.bind(this)),this.morph.start(this.css.to).chain(function(){e=!0,o()}.bind(this));var o=function(){e&&i&&s&&(this.titleText&&this.getTitle(),this.isHide=!1,this.containerDrag&&this.containerDrag.attach(),this.fireEvent("postShow"))}.bind(this)}},restore:function(t){this.querySetRestoreStyle(),this.options.mark&&this._markShow(),this.morph||(this.morph=new Fx.Morph(this.node,{duration:100,link:"chain"})),this.morph.setOptions({duration:50}),this.getSpacer(),this.spacerMorph||(this.spacerMorph=new Fx.Morph(this.spacer,{duration:100,link:"chain"})),this.spacerMorph.setOptions({duration:50}),this.contentMorph||(this.contentMorph=new Fx.Morph(this.content,{duration:50,link:"chain"})),this.contentMorph.setOptions({duration:50}),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var e=this.getContentSize(this.css.to.height.toFloat(),this.css.to.width.toFloat());if(this.fireEvent("queryRestore")){var i=!1,s=!1,o=!1;this.spacerMorph.start(this.css.spacerTo).chain(function(){this.app.desktop.currentApp!=this.app&&this.spacer.setStyles(this.css.spacerUncurrent),s=!0,n()}.bind(this)),this.contentMorph.start(e).chain(function(){o=!0,n()}.bind(this)),this.morph.start(this.css.to).chain(function(){this.app.desktop.currentApp!=this.app&&this.node.setStyles(this.css.uncurrent),i=!0,n()}.bind(this));var n=function(){i&&s&&o&&(this.titleText&&this.getTitle(),this.isHide=!1,this.isMax=!1,this.containerDrag&&this.containerDrag.attach(),this.postSetRestoreStyle(),t&&t(),this.fireEvent("resize"),this.fireEvent("postRestore"))}.bind(this);this.maxActionNode&&this.maxActionNode.setStyles(this.css.maxActionNode)}},querySetRestoreStyle:function(){this.css.windowTitleRestore&&this.title.setStyles(this.css.windowTitleRestore),this.css.titleRefresh&&this.titleRefresh.setStyles(this.css.titleRefresh),this.css.windowTitleTextRestore&&this.titleText.setStyles(this.css.windowTitleTextRestore),this.css.windowTitleActionRestore&&this.titleAction.setStyles(this.css.windowTitleActionRestore),this.closeActionNode&&this.css.closeActionNode&&this.closeActionNode.setStyles(this.css.closeActionNode),this.maxActionNode&&this.css.maxActionNode&&this.maxActionNode.setStyles(this.css.maxActionNode),this.minActionNode&&this.css.minActionNode&&this.minActionNode.setStyles(this.css.minActionNode)},postSetRestoreStyle:function(){this.css.windowNodeRestore&&this.node.setStyles(this.css.windowNodeRestore)},restoreIm:function(t){this.querySetRestoreStyle(),this.getSpacer(),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var e=this.getContentSize(this.css.to.height.toFloat(),this.css.to.width.toFloat());this.fireEvent("queryRestore")&&(this.node.setStyles(this.css.to),this.spacer.setStyles(this.css.spacerTo),this.content.setStyles(e),this.titleText&&this.getTitle(),this.isHide=!1,this.isMax=!1,this.containerDrag&&this.containerDrag.attach(),this.postSetRestoreStyle(),t&&t(),this.fireEvent("resize"),this.fireEvent("postRestore"),this.maxActionNode&&this.maxActionNode.setStyles(this.css.maxActionNode))},hideIm:function(t,e,i){this.getSpacer(),t&&(this.css.from.left=t,this.css.spacerFrom.left=t),e&&(this.css.from.top=e,this.css.spacerFrom.top=e),this.fireEvent("queryHide")&&(this.titleText&&this.titleText.set("text",""),this.button&&this.button.set("html",""),this.spacer.setStyles(this.css.spacerFrom),this.node.setStyles(this.css.from),this._markHide(),this.isHide=!0,this.node.setStyle("display","none"),this.spacer.setStyle("display","none"),i&&i(),this.fireEvent("postHide"))},hide:function(t,e,i){if(this.morph||(this.morph=new Fx.Morph(this.node,{duration:100,link:"chain"})),this.morph.setOptions({duration:100}),this.getSpacer(),this.spacerMorph||(this.spacerMorph=new Fx.Morph(this.spacer,{duration:100,link:"chain"})),this.spacerMorph.setOptions({duration:100}),t&&(this.css.from.left=t,this.css.spacerFrom.left=t),e&&(this.css.from.top=e,this.css.spacerFrom.top=e),this.fireEvent("queryHide")){this.titleText&&this.titleText.set("text",""),this.button&&this.button.set("html","");var s=!1,o=!1;this.spacerMorph.start(this.css.spacerFrom).chain(function(){o=!0,n()}.bind(this)),this.morph.start(this.css.from).chain(function(){s=!0,n()}.bind(this));var n=function(){s&&o&&(this._markHide(),this.isHide=!0,this.node.setStyle("display","none"),this.spacer.setStyle("display","none"),i&&i(),this.fireEvent("postHide"))}.bind(this)}},_hideIm:function(){this.node.setStyle("display","none"),this.spacer.setStyle("display","none")},_showIm:function(){this.node.setStyle("display","block"),this.spacer.setStyle("display","block")},_fadeOut:function(){this.node.fade("out"),this.spacer.fade("out")},_fadeIn:function(){this.node.fade("in"),this.spacer.fade("in")},close:function(t){this.morph||(this.morph=new Fx.Morph(this.node,{duration:100,link:"chain"})),this.morph.setOptions({duration:100}),this.getSpacer(),this.spacerMorph||(this.spacerMorph=new Fx.Morph(this.spacer,{duration:100,link:"chain"})),this.spacerMorph.setOptions({duration:100}),this.fireEvent("queryClose")&&(this.spacer.destroy(),this.spacer=null,this._markHide(),this.node.destroy(),this.node=null,t&&t(),this.fireEvent("postClose"),o2.release(this))},getAction:function(){this.titleAction.setStyles(this.css.titleAction);var t=this;this.closeActionNode=new Element("div",{styles:this.css.closeActionNode,events:{mouseover:function(e){this.setStyles(t.css.titleActionOver),e.stopPropagation()},mouseout:function(e){this.setStyles(t.css.titleActionOut),e.stopPropagation()},mousedown:function(e){this.setStyles(t.css.titleActionDown),e.stopPropagation()},mouseup:function(e){this.setStyles(t.css.titleActionOver),e.stopPropagation()},click:function(t){this.app.close(),t.stopPropagation()}.bind(this)}}).inject(this.titleAction),0!=this.options.isMax&&(this.maxActionNode=new Element("div",{styles:this.css.maxActionNode,events:{mouseover:function(){this.setStyles(t.css.titleActionOver)},mouseout:function(){this.setStyles(t.css.titleActionOut)},mousedown:function(){this.setStyles(t.css.titleActionDown)},mouseup:function(){this.setStyles(t.css.titleActionOver)},click:function(){this.app.maxOrRestoreSize()}.bind(this)}}).inject(this.titleAction)),this.options.isResize&&this.title.addEvent("dblclick",this.app.maxOrRestoreSize.bind(this.app)),this.minActionNode=new Element("div",{styles:this.css.minActionNode,events:{mouseover:function(){this.setStyles(t.css.titleActionOver)},mouseout:function(){this.setStyles(t.css.titleActionOut)},mousedown:function(){this.setStyles(t.css.titleActionDown)},mouseup:function(){this.setStyles(t.css.titleActionOver)},click:function(){this.app.minSize()}.bind(this)}}).inject(this.titleAction),0!=this.options.isRefresh&&this.titleRefresh.addEvents({mouseover:function(){this.setStyles(t.css.titleActionOver)},mouseout:function(){this.setStyles(t.css.titleActionOut)},mousedown:function(){this.setStyles(t.css.titleActionDown)},mouseup:function(){this.setStyles(t.css.titleActionOver)},click:function(t){this.app.refresh()}.bind(this),dblclick:function(t){t.stopPropagation()}.bind(this)})},maxOrRestoreSize:function(t){this.isMax?this.restoreSize(t):this.maxSize(t)},restoreSize:function(t){this.restore(t)},maxSize:function(t){this.querySetMaxStyle(),this.morph||(this.morph=new Fx.Morph(this.node,{duration:50,link:"chain"})),this.morph.setOptions({duration:50}),this.getSpacer(),this.spacerMorph||(this.spacerMorph=new Fx.Morph(this.spacer,{duration:50,link:"chain"})),this.spacerMorph.setOptions({duration:50}),this.contentMorph||(this.contentMorph=new Fx.Morph(this.content,{duration:50,link:"chain"})),this.contentMorph.setOptions({duration:50}),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var e,i=this.getMaxSize(),s=Object.clone(this.css.spacerTo),o=Object.clone(this.css.to);if(s.top=i.position.y,s.left=i.position.x,s.width=i.spacer.x,s.height=i.spacer.y,o.top=i.position.y,o.left=i.position.x,o.width=i.node.x,o.height=i.node.y,e=i.contentSize,this.fireEvent("queryMax")){var n=!1,a=!1,r=!1;this.spacerMorph.start(s).chain(function(){this.app.desktop.currentApp!=this.app&&this.spacer.setStyles(this.css.spacerUncurrent),a=!0,h()}.bind(this)),this.contentMorph.start(e).chain(function(){r=!0,h()}.bind(this)),this.morph.start(o).chain(function(){this.app.desktop.currentApp!=this.app&&this.node.setStyles(this.css.uncurrent),n=!0,h()}.bind(this));var h=function(){n&&a&&r&&(this.titleText&&this.getTitle(),this.isMax=!0,this.isHide=!1,this.containerDrag&&this.containerDrag.detach(),this.postSetMaxStyle(),t&&t(),this.fireEvent("resize"),this.fireEvent("postMax"))}.bind(this);this.maxActionNode&&this.maxActionNode.setStyles(this.css.restoreActionNode)}},querySetMaxStyle:function(){this.css.windowTitleMax&&this.title.setStyles(this.css.windowTitleMax),this.css.windowTitleRefreshMax&&this.titleRefresh.setStyles(this.css.windowTitleRefreshMax),this.css.windowTitleTextMax&&this.titleText.setStyles(this.css.windowTitleTextMax),this.css.windowTitleActionMax&&this.titleAction.setStyles(this.css.windowTitleActionMax),this.closeActionNode&&this.css.windowActionNodeMax&&this.closeActionNode.setStyles(this.css.windowActionNodeMax),this.maxActionNode&&this.css.windowActionNodeMax&&this.maxActionNode.setStyles(this.css.windowActionNodeMax),this.minActionNode&&this.css.windowActionNodeMax&&this.minActionNode.setStyles(this.css.windowActionNodeMax)},postSetMaxStyle:function(){this.css.windowNodeMax&&this.node.setStyles(this.css.windowNodeMax)},maxSizeIm:function(t){this.querySetMaxStyle(),this.getSpacer(),this.spacer.setStyle("display","block"),this.node.setStyle("display","block");var e,i=this.getMaxSize(),s=Object.clone(this.css.spacerTo),o=Object.clone(this.css.to);s.top=i.position.y,s.left=i.position.x,s.width=i.spacer.x,s.height=i.spacer.y,o.top=i.position.y,o.left=i.position.x,o.width=i.node.x,o.height=i.node.y,e=i.contentSize,this.fireEvent("queryMax")&&(this.node.setStyles(o),this.spacer.setStyles(s),this.content.setStyles(e),this.titleText&&this.getTitle(),this.isMax=!0,this.isHide=!1,this.containerDrag&&this.containerDrag.detach(),this.postSetMaxStyle(),t&&t(),this.fireEvent("resize"),this.fireEvent("postMax"),this.maxActionNode&&this.maxActionNode.setStyles(this.css.restoreActionNode))},getMaxSize:function(){var t=layout.desktop.desktopNode.getSize(),e=layout.desktop.desktopNode.getPosition(),i=this.spacer.getStyle("padding-top").toFloat(),s=this.spacer.getStyle("padding-bottom").toFloat(),o=this.spacer.getStyle("padding-left").toFloat(),n=this.spacer.getStyle("padding-right").toFloat();spacerHeight=t.y-i-s,spacerWidth=t.x-o-n,i=this.node.getStyle("padding-top").toFloat(),s=this.node.getStyle("padding-bottom").toFloat(),o=this.node.getStyle("padding-left").toFloat(),n=this.node.getStyle("padding-right").toFloat(),nodeHeight=t.y-i-s,nodeWidth=t.x-o-n;var a=this.getContentSize(nodeHeight,nodeWidth);return{node:{x:nodeWidth,y:nodeHeight},spacer:{x:spacerWidth,y:spacerHeight},position:{x:e.x,y:e.y},contentSize:a}}}),MWF.xDesktop.WindowTransparent=new Class({Implements:[Options,Events],options:{style:"default"},initialize:function(t,e){this.setOptions(e);layout.desktop.desktopNode.getPosition();this.app=t,this.fireEvent("queryLoad"),this.isMax=!1,this.isHide=!1,this.css={to:{width:"0",height:"0",left:"0",top:"0"}};var i=null;MWF.xDesktop.zIndexPool&&(i=MWF.xDesktop.zIndexPool.applyZindex()),this.node=new Element("div",{styles:{width:"0px",height:"0px",top:"0px",left:"0px",position:"absolute","z-index":i||100}}).inject(this.options.container||$(document.body)),this.content=new Element("div",{styles:{width:"100%",height:"100%"}}).inject(this.node),this.fireEvent("postLoad")},show:function(){this.fireEvent("queryShow"),this.node.setStyle("display","block"),this.isHide=!1,this.fireEvent("postShow")},hide:function(){this.fireEvent("queryHide"),this.node.setStyle("display","none"),this.isHide=!0,this.fireEvent("postHide")},restore:function(t){this.fireEvent("queryRestore"),this.node.setStyle("display","block"),this.isHide=!1,this.fireEvent("postRestore"),t&&t()},restoreSize:function(t){this.restore(t)},close:function(t){this.fireEvent("queryClose"),this.node.destroy(),this.node=null,this.content=null,t&&t(),this.fireEvent("postClose")},maxOrRestoreSize:function(t){this.isMax?this.restoreSize(t):this.maxSize(t)},maxSize:function(t){this.fireEvent("queryMax"),this.node.setStyle("display","block"),this.isHide=!1,this.fireEvent("resize"),this.fireEvent("postMax"),t&&t()},restoreIm:function(){this.restore()},maxSizeIm:function(){this.maxSize()},setCurrent:function(){if(MWF.xDesktop.zIndexPool&&this.node.getStyle("z-index").toFloat()+1<MWF.xDesktop.zIndexPool.zIndex){var t=MWF.xDesktop.zIndexPool.applyZindex();this.node.setStyle("z-index",t)}},_fadeOut:function(){this.node.fade("out"),this.spacer&&this.spacer.fade("out")},_fadeIn:function(){this.node.fade("in"),this.spacer&&this.spacer.fade("in")},setUncurrent:function(){},reStyle:function(){},changeStyle:function(){}}),MWF.xApplication.Common=MWF.xApplication.Common||{options:{multitask:!1,executable:!0}},MWF.require("MWF.xDesktop.Window",null,!1),Events.implement({fireEvent:function(t,e,i){if(this.options&&this.options.name&&MWF.xDesktop&&MWF.xDesktop.$globalEvents&&MWF.xDesktop.$globalEvents[this.options.name]){var s=MWF.xDesktop.$globalEvents[this.options.name][t];s&&s.each((function(t){i?t.delay(i,this,e):t.apply(this,e)}),this)}t=t.replace(/^on([A-Z])/,(function(t,e){return e.toLowerCase()}));var o=this.$events[t];return o?(e=Array.convert(e),o.each((function(t){i?t.delay(i,this,e):t.apply(this,e)}),this),this):this}}),MWF.xApplication.Common.Main=new Class({Extends:MWF.widget.Common,Implements:[Options,Events],options:{desktopReload:!0,style:"default",name:"Common",icon:"",title:"",event:null,width:"800",height:"600",isResize:!0,isMax:!0,setCurrent:!0,isRefresh:!1,isWindowRefresh:!0},initialize:function(t,e){this.setOptions(e),this.desktop=t,this.path="../x_component_"+this.options.name.replace(/\./g,"_")+"/$Main/",this.options.icon=this.path+this.options.style+"/"+this.options.icon,this.cssPath=this.path+this.options.style+"/css.wcss",this.options.mvcStyle&&(this.stylePath=this.path+this.options.style+"/"+this.options.mvcStyle),this.options.mvcStyle||this._loadCss()},fireAppEvent:function(t){this.fireEvent(t),this[("on-"+t).camelCase()]&&this[("on-"+t).camelCase()]()},loadNoAnimation:function(t,e,i){this.fireAppEvent("queryLoad"),this.inBrowser?this.loadInBrowser(t):"Homepage"===layout.viewMode?this.loadWindowFlat(t):this.loadWindow(t,!1,e,i)},load:function(t,e){this.fireAppEvent("queryLoad"),this.inBrowser?this.loadInBrowser(e):"Default"===layout.viewMode?this.loadWindowFlat(t):this.loadWindow(t)},loadApplication:function(t){t&&t()},loadWindow:function(t,e,i,s){this.fireAppEvent("queryLoadWindow");var o={style:"desktop_"+this.desktop.options.style,title:this.options.title,isResize:this.options.isResize,isMax:this.options.isMax,isRefresh:this.options.isWindowRefresh,container:this.desktop.node,onPostShow:function(){t&&this.setCurrent(),this.fireAppEvent("postLoadWindow"),this.fireAppEvent("queryLoadApplication"),this.options.title&&this.setTitle(this.options.title),this.stylePath?this.content.loadCss(this.stylePath,this.loadWindowApplication.bind(this)):this.loadWindowApplication()}.bind(this),onResize:function(){this.window.options.title=this.options.title,this.window.getTitle(),this.fireAppEvent("resize")}.bind(this),onResizeCompleted:function(){this.fireAppEvent("resizeCompleted")}.bind(this),onMoveDrop:function(t){"firefox"==Browser.name?(t.event.clientX<0||t.event.clientY<0)&&this.openInNewBrowser():(t.event.x<0||t.event.y<0)&&this.openInNewBrowser()}.bind(this)};this.options.event&&(o.fromTop=this.options.event.page.y,o.fromLeft=this.options.event.page.x),o.width=this.options.width||o.width,o.height=this.options.height||o.height,this.window=new MWF.xDesktop.Window(this,o),this.fireAppEvent("loadWindow"),this.content=this.window.content,!1===e?this.window.showNoAnimation(i,s):this.window.show()},loadWindowApplication:function(){this.setContentEvent(),this.loadApplication(function(){this.fireAppEvent("postLoadApplication")}.bind(this)),this.fireAppEvent("postLoad")},loadWindowFlat:function(t){this.window={app:this,isHide:!1,isMax:!0,maxSize:function(){},restore:function(){},setCurrent:function(){this.window.node.removeClass("layout_component_node_hide"),this.window.node.addClass("layout_component_node_show")}.bind(this),setUncurrent:function(){this.window.node.addClass("layout_component_node_hide"),this.window.node.removeClass("layout_component_node_show")}.bind(this),hide:function(){},maxOrRestoreSize:function(){},restoreSize:function(){},close:function(t){this.content.destroy(),t&&t()}.bind(this)},this.window.node=new Element("div.layout_component_node").inject(layout.desktop.contentNode),this.window.content=new Element("div.layout_component_content").inject(this.window.node),this.content=this.window.content,this.resizeFun=function(){this.fireAppEvent("resize")}.bind(this),layout.desktop.addEvent("resize",this.resizeFun),t?this.setCurrent():this.setUncurrent(),this.fireAppEvent("postLoadWindow"),this.fireAppEvent("queryLoadApplication"),this.options.title&&this.setTitle(this.options.title),this.stylePath?this.content.loadCss(this.stylePath,this.loadWindowApplication.bind(this)):this.loadWindowApplication()},loadInBrowser:function(t){this.window={isHide:!1,isMax:!0,maxSize:function(){},restore:function(){},setCurrent:function(){},setUncurrent:function(){},hide:function(){},maxOrRestoreSize:function(){},restoreSize:function(){},close:function(){}},this.window.titleText=$(document.head).getElement("title");try{this.window.titleText.set("text",this.options.title)}catch(t){}t&&"element"===o2.typeOf(t)&&(this.window.content=t),this.window.content||(this.window.content=$("appContent")||$("layout")),this.window.content||(this.window.content=new Element("div",{styles:{width:0,height:0}}).inject(document.body)),this.content=this.window.content,window.addEvent("resize",function(){this.fireAppEvent("resize")}.bind(this)),window.addEventListener("beforeunload",function(t){this.fireAppEvent("queryClose")}.bind(this)),layout.mobile&&window.addEventListener("pagehide",function(t){this.fireAppEvent("queryClose")}.bind(this)),this.fireAppEvent("postLoadWindow"),this.fireAppEvent("queryLoadApplication"),this.setContentEvent(),this.options.title&&this.setTitle(this.options.title),this.stylePath&&o2.loadCss(this.stylePath),this.loadApplication(function(){this.fireAppEvent("postLoadApplication")}.bind(this)),this.fireAppEvent("postLoad")},openInNewBrowser:function(t){this.desktop.openBrowserApp=this.options.name,this.desktop.openBrowserStatus=this.recordStatus?this.recordStatus():null;var e=this.desktop.openBrowserStatus?JSON.encode(this.desktop.openBrowserStatus):"",i="../x_desktop/app.html?app="+this.options.name+"&status="+e;window.open(o2.filterUrl(i),"_blank"),this.inBrowser||t||this.close()},openInNewWindow:function(){this.desktop.openBrowserApp=this.options.name,this.desktop.openBrowserStatus=this.recordStatus?this.recordStatus():null,window.open(o2.filterUrl("../x_desktop/app.html"),"_blank"),this.inBrowser||this.close()},setContentEvent:function(){},setCurrent:function(){if(this.desktop.currentApp==this)return!0;this.desktop.currentApp&&this.desktop.currentApp.setUncurrent(),this.window.setCurrent(),this.window.isHide?this.window.isMax?this.window.maxSize(function(){this.fireAppEvent("current")}.bind(this)):this.window.restore(function(){this.fireAppEvent("current")}.bind(this)):this.fireAppEvent("current"),this.taskitem&&this.taskitem.selected(),this.desktop.currentApp=this,this.desktop.appCurrentList.erase(this),this.desktop.appCurrentList.push(this)},setUncurrent:function(){this.desktop.currentApp==this?(this.window.setUncurrent(),this.taskitem.unSelected(),this.desktop.currentApp=null,this.fireAppEvent("uncurrent")):(this.window.setUncurrent(),this.taskitem.unSelected())},minSize:function(){this.fireAppEvent("queryMinSize");var t=this.taskitem.node.getPosition();this.setUncurrent(),this.window.hide(t.x,t.y,function(){this.fireAppEvent("postMinSize")}.bind(this))},_minSize:function(){var t=this.taskitem.node.getPosition();this.setUncurrent(),this.window.hide(t.x,t.y)},maxOrRestoreSize:function(){var t=!0;this.window.isMax&&(t=!1),this.fireAppEvent(t?"queryMaxSize":"queryRestoreSize"),this.window.maxOrRestoreSize(function(){this.fireAppEvent(t?"postMaxSize":"postRestoreSize")}.bind(this))},maxSize:function(t){this.window.isMax?t&&t():(this.fireAppEvent("queryMaxSize"),this.window.maxSize(function(){this.fireAppEvent("postMaxSize"),t&&t()}.bind(this)))},_maxSize:function(t){this.window.maxSize()},restoreSize:function(t){this.fireAppEvent("queryRestoreSize"),this.window.restoreSize(function(){this.fireAppEvent("postRestoreSize"),t&&t()}.bind(this))},_restoreSize:function(t){this.window.restoreSize()},refresh:function(){this.desktop.refreshApp(this)},close:function(t){this.inBrowser?(window.open("","_self").close(),window.close()):(this.fireAppEvent("queryClose"),this.setUncurrent(),this.window.close(function(){t||this.taskitem.destroy(),this.window=null,this.taskitem=null,this.resizeFun&&layout.desktop.removeEvent("resize",this.resizeFun),this.desktop.closeApp(this,t),this.fireAppEvent("postClose"),o2.release(this)}.bind(this)))},setTitle:function(t){try{this.taskitem&&(this.taskitem.textNode.set("text",t),this.taskitem.node.set("title",t+(this.appId?"-"+this.appId:"")),this.taskitem.setTaskitemSize()),this.options.title=t,this.window.titleText.set("text",t)}catch(t){}},loading:function(){},unLoading:function(){},onQueryLoad:function(){},onQueryLoadWindow:function(){},onLoadWindow:function(){},onPostLoadWindow:function(){},onQueryLoadApplication:function(){},onPostLoadApplication:function(){},onPostLoad:function(){},onResize:function(){},onQueryClose:function(){},onPostClose:function(){},onQueryMinSize:function(){},onPostMinSize:function(){},onQueryMaxSize:function(){},onPostMaxSize:function(){},onQueryRestoreSize:function(){},onPostRestoreSize:function(){},dialog:function(t){MWF.require("MWF.xDesktop.Dialog",function(){t.markNode=this.content,new MWF.xDesktop.Dialog(t).show()}.bind(this))},notice:function(t,e,i,s,o){if(window.mBox){s||(s={x:"right",y:"top"}),i||(i=this.content),i||(i=this.window.content),e||(e="ok");var n=i||layout.layout.contentNode;layout.mobile&&(n=$(document.body));var a=o;a||(a={x:10,y:(s.y.toString().toLowerCase(),10)}),new mBox.Notice({type:e,position:s,move:!1,target:n,delayClose:"error"==e?1e4:5e3,offset:a,content:t})}},confirm:function(t,e,i,s,o,n,a,r,h,l,c){MWF.require("MWF.xDesktop.Dialog",function(){var d=layout.mobile?$(document.body):this.content||$(document.body),p=d.getSize(),u=0,m=0;if(layout.mobile)parseFloat(o)>p.x?(o=p.x-40,u=40):u=(p.x-parseFloat(o))/2,m=parseFloat(n)>p.y?0:(p.y-parseFloat(n))/2;else{var f;if("element"==typeOf(e))u=(f=e.getPosition(d)).x,m=f.y;else if("firefox"==Browser.name?(u=parseFloat(e.event.clientX||e.event.x),m=parseFloat(e.event.clientY||e.event.y)):(u=parseFloat(e.event.x),m=parseFloat(e.event.y)),e.target)u=(f=e.target.getPosition(d)).x,m=f.y;u+parseFloat(o)>p.x&&(u-=parseFloat(o)),u<0&&(u=0),m+parseFloat(n)>p.y&&(m-=parseFloat(n)),m<0&&(m=0),u-=20}var g="",y="";"object"==typeOf(s).toLowerCase()?(g=s.text,y=s.html):g=s;var A=new MWF.xDesktop.Dialog({title:i,style:c||"o2",top:m,left:u,fromTop:m,fromLeft:u,width:o,height:n,text:g,html:y,container:d,mark:!!l,maskNode:l||d,buttonList:[{type:"ok",text:MWF.LP.process.button.ok,action:a},{type:"cancel",text:MWF.LP.process.button.cancel,action:r}]});switch(t.toLowerCase()){case"success":A.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"error":A.content.setStyle("background-image","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABsVJREFUeNqkWFtsFGUU/nZn2r21IqX3llp6AQmkWDVGAgIlGI0EeMAHffAFa998MCQaE8JDxZCgSHzQKIm3qPHFGC7GW0xqkIgIKhhEwFJaKSDQUtplu73s7vidmX/q32F2uw2TnOzMv2fO+f5z/8fci7yvWAZYRXo4CCwLAM1cq+HvXRYwQrrM/7rTwB+TwC/dwKG3uU75mVxCO7T7wExgKHiBATzJ2411wMoy3pSQ5gg6UiFpgpQgDZNukK6TLgBHuf7lAPD5q8DfXMpQl5U3mA4P4ztAO3+2tADLCQSV+VsR/5L+If0G/EqgH78EvKtwT1lqr0en6SfoLaCe1niB7nj+CQIuV+uZWYApV8RNPPAVcP/rQMtF4I03gbNcpjdvt5KxQXs4SKKflxBI54PAs20EElNvZTQJucjLFyUtpZwioJVurFtMD/4MXBXWDUqnL5jHHYt0PgQ8da/4UFMwThpTz0HF7wfEj0/kSKwVAwsZU5U1wKkTwOBBj7GD08xE17QSSJPanVCKlCSNkM5s2mT/JtV6epZ8InclsH4R9TjYRKWPZQixnch2POJsZNpOb5HOb9yIi5s3I5XJIHb2rL2LoBZL+fBZKhOZaS3LgPgh4HcnYZ34scFI+goQxsj8iA+QHipItrejrKwMiaVLMZJIIEpFAaUkH76AFrEVfLxEzzEej/0FXFOGc8CQ8bmFTOE6DciEUnCBCsapoLGxETU1NYhGo7i+YAHiSlFauWMmvqAGKOzcVzDlh2mdo2o/loCJkeEVRnldSMsGUdCrKaiqqkJxcTEikQgKCgpsRbJzk4oukm8iB1+CfEUKkLtZub/CZOsFvht0Qi1lrAfW0WwvN3gyI7J1K+7ZswfNzc0oLS1FKBRCMBiEaZoIh8OOovp6jI6NYXLLFjQ1NdlAxCKGYaCwsBAlJSWoJ08lwQZTKaSPHJmSL9YZZWZx438eZ8yLMwwWtWeYaqvv9oBJ8UWDyovWrUMgEPi/ZPPeBWT/rlhhx0h1dbUNRABPpSrvBVhixw4kd+26rRyMOq3jCl31kzya0vSiKgW91/DOnbZJ53V22iAsy5pSIopra2vtNflP3KIDcTcwuH074pQT8JEvelkMF4kjpBuY0n1Dbjj7XDcpSCCU+gCKxWK+77hABghkOAsQuUIOivmq3xrSm2qMLJZxrwEKlGJQ5QGUC8gVBSSYQ67hoCidAiPzSCCHZSxVlXopeHhiAk30v8RBtivFQO3etg1Du3fbbihQKe0L3MmqmGrYwaAMRuPKMl6aVCkeJ11jRvSuWYO+vj4kk0lf4bIu/wuf8MfV+5NZ5I87RhhVuAKmTGhsbHPCWSwiwoYoOMQ60tDQgPLycjvNfWOA6/J/Op3GefJzsMLcAwfs6PSz0JhTXAfcBDNlVCS0xaYHSEql3jCBRLSC5k3faV1XZZnwySWABmUqJKCo8oUOaNTZbL9SlzE4Niwh8lURLf/TyoQzAZFgdcmvDklhjKsKXKAqsF5rZEztAboOAz+KA4xHmeo0+tNFqky7VMkKfJ+nAnuV2rtn1pS0td32n16B67kpRjZuqQrs6pB5mW37s5OswoLNaOTUdRfQRjPWGhrqOF80aYVSTwXWgfQQSL8URiqa6wGkV+B+ZuAlTwUWF/VxyPoUeD/uTH5x4xhjiNapoHXWhj3l+ubhw0hTkbtz3SXdBNJHIJgFn+Vx0Tlg37eOi+RAkTTk+MDueY1WWc64qQ5oZpSXhpSiedrOz1HBBVWZZ8Pn0phzcjj9DfBBvz1r4aYkrz3PvEhZq9lIyfgY3RXwzrY3lKKytWtxhgp6fHaaL5+AoU8stulPvgB+UFZJuPOMPaF/D5wgoGq6q9XMosianER3FiD58iWcDNr/GvCegwtDbjeywShAGQ5Y3aYzZC00PELsDkxFmOGokosv6cy/XV8DHyr3XFfL1rSBnL/WNqKUcw3rQWWhD6A7oaSTPV1dwEecX07CmX1v6W3Re4iz5IAl5xqCiTIMW0zJ5DsAkXKOLxbHy/1iEQ3IiHdYmAbGdZccsBhDXXKcoMAyWqjCynJwywVCqjgbz2kJVokR5RoXyKRkctYTpQ5Iepica+Q4QesMU0GUoCozPjGS0QZ5t9uzJ51ioO6T9FVZc1XFiLgm5X6ROJjvJ5EOZ4iXwaeIs2Elz1WreExtlVFRJjQZjGQekTFAuq80PRazbp6JTtOyxy87FX9EkYCY8H6v6fDMNzNdagayQYXVZ5mIei7UmrHrnQlFSZXJY9qnECuXIjMPMJZ2lHIPj6aaGg0FNOD5CJHWjtl5f0n5T4ABAFHaXG6UVjGNAAAAAElFTkSuQmCC)");break;case"info":A.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"warn":A.content.setStyle("background-image","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABgtJREFUeNqsWG2IlFUUft6vmdlZd539GFdTY5VMomy1oBJUSPLXkmQt5I8gCIMK+iH0K4ooEvtTRP7JX9JKWCC1mUUkIkQKSoaZH60t2pboOK37Mc6Ozsw779t57t5xx5ndnTvhC4d373nnnnPuOeee85y1Jr+G6dNcCrBB6AnbQo9tY4UFLLYstIYhMsK/IjRULOF0voATx87jp60fICPygzmFbpn+26pnzK0ilrk2+kTp5kgC6+w4YDfJxpiQJ+QAYUmoKHQLCG4K5YDsCI7fzOPgcBr7172BP0VUILrC/22MnHSbvF6KLcRap1WMmGfsRQRZ2Z8BJv7BybEs9t6/DbuFXaj2VKUx7ize6BZvbHcdvB67D5bdrD/ocwUiruiLZPFGSbziiHci4iVPpEn41MM9pPZWPBofwiOX9uDh05fwkSgf5Dln8lKNZwo+HnRsvBVbjK1eJ39RdWIxJCfhGB0HxjNTBtGQhHiuPQHEY9MG3X5EbXEESA3i4KmL2Ln5Xfwi3CINmjVM9IjnYGeTGOJ2zOx+SU5cE8Hp/DMIopvgxFejlDsFO38IC6ID6JIDRCMz7/WvA1cG8d2PJ/H2y5/gLA2a9ndVmBia2CIxpL3yJ1XG5MUzTh8S3e/B9Zo09x74xSeRS7vyfT+i3sx7KXfRCvSuz2NUltuFJmhj+btdmazMEa+NsZidfIYlsQXzE51oa2tDV1eXenNNPr/PtZ/ylybxwtEP8Ypw4pU22OXrq27NvZIh4dzCeI07lvQiHo8jFovBdV315pp8fp9rP+VTT/cCPL/jRawSTqScma4OT1+sA2vtqN4w552V03meMsKyprLblowlj2s/qC+DepJLsWpjD56T5aDOnRI908yC5jTVOVEl1THWhKhPwrVx/UNYqL0DmyU+0iyVNWooKKxjTGgmh/o6k+h5tRcbhBNTDla9JtKAV+6SZ5RBondZF9YwOkKOq5qeZ6CkUpmJMQYP9Xa0YqX8ySRxXdV9bXMBloShnLg134RvhQ3IEr2tTViqc8ZxNQwwFuCJANsqiOJ4jSHke40cTPQ2RdFZNsYmHrEaiHVEmqI/drTGO+paC5/fTWVRghTaZl1ibJvAqG6hqqygIsG+/iXCID8VFk1ck+9Z5rKoV8BYThc9yyVCE2A0nyDJKOmEoiP98GV7mNwKO7EOwfjPwL9fKL7q2CUzWTRGANiILgghjRkKfTwAyxw4cWt4pR+F4X72NAn2FIxQzg4aECMtcmISl3WzDFxi1sDH046hZ4JQ45kbgmeyFXhGUGB7i8YzhgcTvbg2jiHCKPrTJXgmE56ZgKIoH5XGn/YEz3QLnpm/GrcmTiE9dkiOOaBuU9QzN+bsMM7dNoYo/qk1OC597vEahDbDU5BtuVbBMysr8ExS45lBV74LnjHwMhFjahRndn2rUN9NhsrmOEEUX/LNbgB/F13yLBJtyTvwDNfkNyLnj8s4dv5vBbQmVdcmWuc4IYl0MjC44jz0guWb0NLSojAMoQTfXJPvGNQs6hGvnNt7GIeFkyGk4hcVGM41HCcEZIV1ix53jJ+QieDOWKi18CN2fWOo58QF/PD5ETVPZXTO3IZ8Aeea9Dj2FOt4R7WDq1L0SlVFT9bke3WMofzf/8I3fTvwlXAYomy5IChj9AxT4FyTmsBBPyyXoVpSRe9qP8LfXkNw7ZAaIfnmmnwbs++l3AspHPl4APuEw2I3pr0S1owqMsO4B97BYz3L8eaiFvR6uHsPceWFNI7s/h6f7TqgblBq1umgPCRwwOJcc3EEe3NsOXN4yYRUkRQ5vw5j4P19+FQbkha6Ud04aiZK8Y6lS2ALxwmi+GQcqxyGKDT3RCBSSkKpLM4xWXWOjGi6UXeirDKI1yXOcYIonuC5s1lQoTbKKlPZCdYUBZpSGZxhHeH11bdmVOdIrnLWNv4vhPzQ1sBnHlE8wTMxK6EiERqBEfEIYQC7L5seew1LPCurLmgZTdl6/4UwaWmWzq2IRvHNGrNGNLmYdpCvb0dBl/hJXdAKJrOF1eClsHX4XP12NM+qGFJKmnz9NgYV/wkwAMYATK0QLuhAAAAAAElFTkSuQmCC)")}A.show(),h&&h(A)}.bind(this))},dlg:function(t,e,i,s,o,n,a,r,h){MWF.require("MWF.xDesktop.Dialog",function(){var l=this.content.getSize(),c=e?MWF.getEPointer(e):MWF.getCenter({x:o,y:n},this.content,this.content),d=c.x||0,p=c.y||0;d+parseFloat(o)>l.x&&(d-=parseFloat(o)),d<0&&(d=0),p+parseFloat(n)>l.y&&(p-=parseFloat(n)),p<0&&(p=0);var u="",m="";"object"===typeOf(s).toLowerCase()?(u=s.text,m=s.html):u=s;var f=new MWF.xDesktop.Dialog({title:i,style:h||"o2",top:p,left:d-20,fromTop:p,fromLeft:d-20,width:o,height:n,text:u,html:m,container:this.content,mark:!!r,maskNode:r||this.content,buttonList:a});switch(t.toLowerCase()){case"success":f.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"error":f.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"info":f.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"warn":f.content.setStyle("background-image","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABgtJREFUeNqsWG2IlFUUft6vmdlZd539GFdTY5VMomy1oBJUSPLXkmQt5I8gCIMK+iH0K4ooEvtTRP7JX9JKWCC1mUUkIkQKSoaZH60t2pboOK37Mc6Ozsw779t57t5xx5ndnTvhC4d373nnnnPuOeee85y1Jr+G6dNcCrBB6AnbQo9tY4UFLLYstIYhMsK/IjRULOF0voATx87jp60fICPygzmFbpn+26pnzK0ilrk2+kTp5kgC6+w4YDfJxpiQJ+QAYUmoKHQLCG4K5YDsCI7fzOPgcBr7172BP0VUILrC/22MnHSbvF6KLcRap1WMmGfsRQRZ2Z8BJv7BybEs9t6/DbuFXaj2VKUx7ize6BZvbHcdvB67D5bdrD/ocwUiruiLZPFGSbziiHci4iVPpEn41MM9pPZWPBofwiOX9uDh05fwkSgf5Dln8lKNZwo+HnRsvBVbjK1eJ39RdWIxJCfhGB0HxjNTBtGQhHiuPQHEY9MG3X5EbXEESA3i4KmL2Ln5Xfwi3CINmjVM9IjnYGeTGOJ2zOx+SU5cE8Hp/DMIopvgxFejlDsFO38IC6ID6JIDRCMz7/WvA1cG8d2PJ/H2y5/gLA2a9ndVmBia2CIxpL3yJ1XG5MUzTh8S3e/B9Zo09x74xSeRS7vyfT+i3sx7KXfRCvSuz2NUltuFJmhj+btdmazMEa+NsZidfIYlsQXzE51oa2tDV1eXenNNPr/PtZ/ylybxwtEP8Ypw4pU22OXrq27NvZIh4dzCeI07lvQiHo8jFovBdV315pp8fp9rP+VTT/cCPL/jRawSTqScma4OT1+sA2vtqN4w552V03meMsKyprLblowlj2s/qC+DepJLsWpjD56T5aDOnRI908yC5jTVOVEl1THWhKhPwrVx/UNYqL0DmyU+0iyVNWooKKxjTGgmh/o6k+h5tRcbhBNTDla9JtKAV+6SZ5RBondZF9YwOkKOq5qeZ6CkUpmJMQYP9Xa0YqX8ySRxXdV9bXMBloShnLg134RvhQ3IEr2tTViqc8ZxNQwwFuCJANsqiOJ4jSHke40cTPQ2RdFZNsYmHrEaiHVEmqI/drTGO+paC5/fTWVRghTaZl1ibJvAqG6hqqygIsG+/iXCID8VFk1ck+9Z5rKoV8BYThc9yyVCE2A0nyDJKOmEoiP98GV7mNwKO7EOwfjPwL9fKL7q2CUzWTRGANiILgghjRkKfTwAyxw4cWt4pR+F4X72NAn2FIxQzg4aECMtcmISl3WzDFxi1sDH046hZ4JQ45kbgmeyFXhGUGB7i8YzhgcTvbg2jiHCKPrTJXgmE56ZgKIoH5XGn/YEz3QLnpm/GrcmTiE9dkiOOaBuU9QzN+bsMM7dNoYo/qk1OC597vEahDbDU5BtuVbBMysr8ExS45lBV74LnjHwMhFjahRndn2rUN9NhsrmOEEUX/LNbgB/F13yLBJtyTvwDNfkNyLnj8s4dv5vBbQmVdcmWuc4IYl0MjC44jz0guWb0NLSojAMoQTfXJPvGNQs6hGvnNt7GIeFkyGk4hcVGM41HCcEZIV1ix53jJ+QieDOWKi18CN2fWOo58QF/PD5ETVPZXTO3IZ8Aeea9Dj2FOt4R7WDq1L0SlVFT9bke3WMofzf/8I3fTvwlXAYomy5IChj9AxT4FyTmsBBPyyXoVpSRe9qP8LfXkNw7ZAaIfnmmnwbs++l3AspHPl4APuEw2I3pr0S1owqMsO4B97BYz3L8eaiFvR6uHsPceWFNI7s/h6f7TqgblBq1umgPCRwwOJcc3EEe3NsOXN4yYRUkRQ5vw5j4P19+FQbkha6Ud04aiZK8Y6lS2ALxwmi+GQcqxyGKDT3RCBSSkKpLM4xWXWOjGi6UXeirDKI1yXOcYIonuC5s1lQoTbKKlPZCdYUBZpSGZxhHeH11bdmVOdIrnLWNv4vhPzQ1sBnHlE8wTMxK6EiERqBEfEIYQC7L5seew1LPCurLmgZTdl6/4UwaWmWzq2IRvHNGrNGNLmYdpCvb0dBl/hJXdAKJrOF1eClsHX4XP12NM+qGFJKmnz9NgYV/wkwAMYATK0QLuhAAAAAAElFTkSuQmCC)")}f.show()}.bind(this))},alert:function(t,e,i,s,o,n){MWF.require("MWF.widget.Dialog",function(){var a=$(document.body).getSize(),r=0,h=0;if("center"===e){var l=o2.getCenterPosition(this.content,o,n);r=l.x,h=l.y}else r=parseFloat(e.event.x),h=parseFloat(e.event.y),"firefox"==Browser.name&&(r=parseFloat(e.event.clientX),h=parseFloat(e.event.clientY)),r-=parseFloat(o)/2,h-=parseFloat(n)/2;r+parseFloat(o)>a.x&&(r-=parseFloat(o)),r<0&&(r=0),h+parseFloat(n)>a.y&&(h-=parseFloat(n)),h<0&&(h=0);var c="",d="";"object"==typeOf(s).toLowerCase()?(c=s.text,d=s.html):c=s;var p=new MWF.DL({title:i,style:"o2",top:h,left:r,fromTop:h,fromLeft:r,width:o,height:n,text:c,html:d,maskNode:this.content,container:this.content,buttonList:[{text:MWF.LP.process.button.ok,action:function(){this.close()}}]});switch(t.toLowerCase()){case"success":p.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"error":p.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"info":p.content.setStyle("background-image","url(data:image/png;base64,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)");break;case"warn":p.content.setStyle("background-image","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABgtJREFUeNqsWG2IlFUUft6vmdlZd539GFdTY5VMomy1oBJUSPLXkmQt5I8gCIMK+iH0K4ooEvtTRP7JX9JKWCC1mUUkIkQKSoaZH60t2pboOK37Mc6Ozsw779t57t5xx5ndnTvhC4d373nnnnPuOeee85y1Jr+G6dNcCrBB6AnbQo9tY4UFLLYstIYhMsK/IjRULOF0voATx87jp60fICPygzmFbpn+26pnzK0ilrk2+kTp5kgC6+w4YDfJxpiQJ+QAYUmoKHQLCG4K5YDsCI7fzOPgcBr7172BP0VUILrC/22MnHSbvF6KLcRap1WMmGfsRQRZ2Z8BJv7BybEs9t6/DbuFXaj2VKUx7ize6BZvbHcdvB67D5bdrD/ocwUiruiLZPFGSbziiHci4iVPpEn41MM9pPZWPBofwiOX9uDh05fwkSgf5Dln8lKNZwo+HnRsvBVbjK1eJ39RdWIxJCfhGB0HxjNTBtGQhHiuPQHEY9MG3X5EbXEESA3i4KmL2Ln5Xfwi3CINmjVM9IjnYGeTGOJ2zOx+SU5cE8Hp/DMIopvgxFejlDsFO38IC6ID6JIDRCMz7/WvA1cG8d2PJ/H2y5/gLA2a9ndVmBia2CIxpL3yJ1XG5MUzTh8S3e/B9Zo09x74xSeRS7vyfT+i3sx7KXfRCvSuz2NUltuFJmhj+btdmazMEa+NsZidfIYlsQXzE51oa2tDV1eXenNNPr/PtZ/ylybxwtEP8Ypw4pU22OXrq27NvZIh4dzCeI07lvQiHo8jFovBdV315pp8fp9rP+VTT/cCPL/jRawSTqScma4OT1+sA2vtqN4w552V03meMsKyprLblowlj2s/qC+DepJLsWpjD56T5aDOnRI908yC5jTVOVEl1THWhKhPwrVx/UNYqL0DmyU+0iyVNWooKKxjTGgmh/o6k+h5tRcbhBNTDla9JtKAV+6SZ5RBondZF9YwOkKOq5qeZ6CkUpmJMQYP9Xa0YqX8ySRxXdV9bXMBloShnLg134RvhQ3IEr2tTViqc8ZxNQwwFuCJANsqiOJ4jSHke40cTPQ2RdFZNsYmHrEaiHVEmqI/drTGO+paC5/fTWVRghTaZl1ibJvAqG6hqqygIsG+/iXCID8VFk1ck+9Z5rKoV8BYThc9yyVCE2A0nyDJKOmEoiP98GV7mNwKO7EOwfjPwL9fKL7q2CUzWTRGANiILgghjRkKfTwAyxw4cWt4pR+F4X72NAn2FIxQzg4aECMtcmISl3WzDFxi1sDH046hZ4JQ45kbgmeyFXhGUGB7i8YzhgcTvbg2jiHCKPrTJXgmE56ZgKIoH5XGn/YEz3QLnpm/GrcmTiE9dkiOOaBuU9QzN+bsMM7dNoYo/qk1OC597vEahDbDU5BtuVbBMysr8ExS45lBV74LnjHwMhFjahRndn2rUN9NhsrmOEEUX/LNbgB/F13yLBJtyTvwDNfkNyLnj8s4dv5vBbQmVdcmWuc4IYl0MjC44jz0guWb0NLSojAMoQTfXJPvGNQs6hGvnNt7GIeFkyGk4hcVGM41HCcEZIV1ix53jJ+QieDOWKi18CN2fWOo58QF/PD5ETVPZXTO3IZ8Aeea9Dj2FOt4R7WDq1L0SlVFT9bke3WMofzf/8I3fTvwlXAYomy5IChj9AxT4FyTmsBBPyyXoVpSRe9qP8LfXkNw7ZAaIfnmmnwbs++l3AspHPl4APuEw2I3pr0S1owqMsO4B97BYz3L8eaiFvR6uHsPceWFNI7s/h6f7TqgblBq1umgPCRwwOJcc3EEe3NsOXN4yYRUkRQ5vw5j4P19+FQbkha6Ud04aiZK8Y6lS2ALxwmi+GQcqxyGKDT3RCBSSkKpLM4xWXWOjGi6UXeirDKI1yXOcYIonuC5s1lQoTbKKlPZCdYUBZpSGZxhHeH11bdmVOdIrnLWNv4vhPzQ1sBnHlE8wTMxK6EiERqBEfEIYQC7L5seew1LPCurLmgZTdl6/4UwaWmWzq2IRvHNGrNGNLmYdpCvb0dBl/hJXdAKJrOF1eClsHX4XP12NM+qGFJKmnz9NgYV/wkwAMYATK0QLuhAAAAAAElFTkSuQmCC)")}p.content.setStyle("overflow","auto"),p.show()}.bind(this))}});
//# sourceMappingURL=$all.min.js.map