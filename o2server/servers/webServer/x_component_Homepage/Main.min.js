MWF.xApplication.Homepage.options.multitask=!1,o2.requireApp("Homepage","TaskContent",null,!1),MWF.xApplication.Homepage.Main=new Class({Extends:MWF.xApplication.Common.Main,Implements:[Options,Events],options:{style1:"default",style:"default",mvcStyle:"style.css",name:"Homepage",icon:"icon.png",width:"1200",height:"800",isResize:!0,isMax:!0,title:MWF.xApplication.Homepage.LP.title,minHeight:700},onQueryLoad:function(){this.lp=MWF.xApplication.Homepage.LP,this.viewPath=this.path+this.options.style+"/view.html"},loadApplication:function(t){this.content.loadHtml(this.viewPath,{bind:{lp:this.lp},module:this},function(){this.options.isRefresh?this.loadApp(t):this.maxSize(function(){this.loadApp(t)}.bind(this))}.bind(this))},loadApp:function(t){this.initNodeSize(),this.taskLoaded=!1,this.inforLoaded=!1,this.meetingLoaded=!1,this.fileLoaded=!1,this.calenderLoaded=!1,this.loadTaskContent(function(){this.taskLoaded=!0,this.checkAppLoaded(t)}.bind(this)),this.loadInforContent(function(){this.inforLoaded=!0,this.checkAppLoaded(t)}.bind(this)),this.loadMeetingContent(function(){this.meetingLoaded=!0,this.checkAppLoaded(t)}.bind(this)),this.loadFileContent(function(){this.fileLoaded=!0,this.checkAppLoaded(t)}.bind(this)),this.loadCalendarContent(function(){this.calenderLoaded=!0,this.checkAppLoaded(t)}.bind(this))},checkAppLoaded:function(t){this.taskLoaded&&this.inforLoaded&&this.meetingLoaded&&this.fileLoaded&&this.calenderLoaded&&t&&t()},initNodeSize:function(){this.resizeNodeSize(),this.addEvent("resize",this.resizeNodeSize.bind(this))},resizeNodeSize:function(){var t=this.content.getSize(),e=this.node.getEdgeHeight(),i=t.y-e;i<this.options.minHeight&&(i=this.options.minHeight),this.node.setStyle("height",i+"px");var n=i-this.calendarContentNode.getEdgeHeight(),o=this.ltlLayout.getSize().y-this.taskContentNode.getEdgeHeight();this.calendarContentNode.setStyle("height",n+"px"),this.taskContentNode.setStyle("height",o+"px"),this.meetingContentNode.setStyle("height",o+"px"),this.inforContentNode.setStyle("height",o+"px"),this.fileContentNode.setStyle("height",o+"px")},loadTaskContent:function(t){this.taskContent=new MWF.xApplication.Homepage.TaskContent(this,this.taskContentNode,{onLoad:function(){t&&t()}})},loadInforContent:function(t){o2.requireApp("Homepage","InforContent",function(){this.inforContent=new MWF.xApplication.Homepage.InforContent(this,this.inforContentNode,{onLoad:function(){t&&t()}})}.bind(this))},loadMeetingContent:function(t){o2.requireApp("Homepage","MeetingContent",function(){this.inforContent=new MWF.xApplication.Homepage.MeetingContent(this,this.meetingContentNode,{onLoad:function(){t&&t()}})}.bind(this))},loadFileContent:function(t){o2.requireApp("Homepage","FileContent",function(){this.inforContent=new MWF.xApplication.Homepage.FileContent(this,this.fileContentNode,{onLoad:function(){t&&t()}})}.bind(this))},loadCalendarContent:function(t){o2.requireApp("Homepage","CalendarContent",function(){this.inforContent=new MWF.xApplication.Homepage.CalendarContent(this,this.calendarContentNode,{onLoad:function(){t&&t()}})}.bind(this))}});