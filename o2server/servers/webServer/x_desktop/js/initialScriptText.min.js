bind={};var library={version:"4.0",defineProperties:Object.defineProperties||function(t,e){function i(e){function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){return"function"==typeof t}if("object"!=typeof e||null===e)throw new TypeError("bad desc");var r={};if(i(e,"enumerable")&&(r.enumerable=!!t.enumerable),i(e,"configurable")&&(r.configurable=!!t.configurable),i(e,"value")&&(r.value=t.value),i(e,"writable")&&(r.writable=!!e.writable),i(e,"get")){var o=e.get;if(!n(o)&&void 0!==o)throw new TypeError("bad get");r.get=o}if(i(e,"set")){var s=e.set;if(!n(s)&&void 0!==s)throw new TypeError("bad set");r.set=s}if(("get"in r||"set"in r)&&("value"in r||"writable"in r))throw new TypeError("identity-confused descriptor");return r}if("object"!=typeof t||null===t)throw new TypeError("bad obj");e=Object(e);for(var n=Object.keys(e),r=[],o=0;o<n.length;o++)r.push([n[o],i(e[n[o]])]);for(o=0;o<r.length;o++)Object.defineProperty(t,r[o][0],r[o][1]);return t},typeOf:function(t){if(null==t)return"null";if(null!=t.$family)return t.$family();if(t.constructor==Array)return"array";if(t.nodeName){if(1==t.nodeType)return"element";if(3==t.nodeType)return/\S/.test(t.nodeValue)?"textnode":"whitespace"}else if("number"==typeof t.length&&t.callee)return"arguments";return typeof t},JSONDecode:function(string,secure){return string&&"string"==library.typeOf(string)?eval("("+string+")"):null},JSONEncode:function(t){switch(t&&t.toJSON&&(t=t.toJSON()),library.typeOf(t)){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var e=[],i=0;i<t.length;i++){(n=library.JSONEncode(t[i]))&&e.push(n)}return"["+e+"]";case"object":case"hash":e=[];for(key in t){var n;(n=library.JSONEncode(t[key]))&&e.push(library.JSONEncode(key)+":"+n)}return"{"+e+"}";case"number":case"boolean":return""+t;case"null":return"null"}return null}};!function(){var t={indexOf:{value:function(t,e){for(var i=this.length>>>0,n=e<0?Math.max(0,i+e):e||0;n<i;n++)if(this[n]===t)return n;return-1}}};library.defineProperties(Array.prototype,t)}();var wrapWorkContext={getTask:function(){return JSON.parse(workContext.getTaskOrTaskCompleted())},getWork:function(){return JSON.parse(workContext.getWork())},getActivity:function(){return JSON.parse(workContext.getActivity())},getTaskList:function(){return JSON.parse(workContext.getTaskList())},getTaskCompletedList:function(){return JSON.parse(workContext.getTaskCompletedList())},getReadList:function(){return JSON.parse(workContext.getReadList())},getReadCompletedList:function(){return JSON.parse(workContext.getReadCompletedList())},getJobTaskList:function(){return JSON.parse(workContext.getJobTaskList())},getJobTaskCompletedList:function(){return JSON.parse(workContext.getJobTaskCompletedList())},getJobReadList:function(){return JSON.parse(workContext.getJobReadList())},getJobReadCompletedList:function(){return JSON.parse(workContext.getJobReadCompletedList())},getTaskListByJob:function(){return JSON.parse(workContext.getJobTaskList())},getTaskCompletedListByJob:function(){return JSON.parse(workContext.getJobTaskCompletedList())},getReadListByJob:function(){return JSON.parse(workContext.getJobReadList())},getReadCompletedListByJob:function(){return JSON.parse(workContext.getJobReadCompletedList())},getReviewList:function(){return JSON.parse(workContext.getReviewList())},getWorkLogList:function(){return JSON.parse(workContext.getWorkLogList())},getAttachmentList:function(){return JSON.parse(workContext.getAttachmentList())},getRouteList:function(){return JSON.parse(workContext.getRouteList())},setTitle:function(t){workContext.setTitle(t)},getControl:function(){return null},getInquiredRouteList:function(){return null}},includedScripts=[],_self=this,include=function(name,callback){if(-1==includedScripts.indexOf(name)){var json=JSON.parse(_self.workContext.getScript(name,includedScripts));if(includedScripts=includedScripts.concat(json.importedList),json.text){var f=eval("(function(){return function(){\n"+json.text+"\n}})();");returnValue=f.apply(bind),callback&&callback.apply(bind)}}},define=function(t,e,i){var n=!0;!1===i&&(n=!1);var r={};r[t]={value:e,configurable:n},library.defineProperties(bind,r)},Dict=function(t){var e=_self.dictionary;this.name=t,this.get=function(t){return JSON.parse(e.select(this.name,t))},this.set=function(t,i){try{return e.update(this.name,library.JSONEncode(i),t),!0}catch(t){return!1}},this.add=function(t,i){try{return e.insert(this.name,library.JSONEncode(i),t),!0}catch(t){return!1}}};"undefined"==typeof JSON&&(JSON={}),JSON.validate=function(t){return t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t)},JSON.encode=JSON.stringify?function(t){return JSON.stringify(t)}:function(t){switch(t&&t.toJSON&&(t=t.toJSON()),typeof t){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var e=[],i=0;i<t.length;i++){(n=JSON.encode(t[i]))&&e.push(n)}return"["+e+"]";case"object":case"hash":e=[];for(key in t){var n;(n=JSON.encode(t[key]))&&e.push(JSON.encode(key)+":"+n)}return"{"+e+"}";case"number":case"boolean":return""+t;case"null":return"null"}return null},JSON.decode=function(string,secure){if(!string||"string"!=typeof string)return null;if(secure||JSON.secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")};var body={set:function(t){"string"==typeof t?jaxrsBody&&jaxrsBody.set(t):jaxrsBody&&jaxrsBody.set(JSON.encode(t))}},getNameFlag=function(t){var e=library.typeOf(t);if("array"===e){var i=[];return t.forEach((function(t){i.push("object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t)})),i}return["object"===e?t.distinguishedName||t.id||t.unique||t.name:t]},_org={oGroup:this.organization.group(),oIdentity:this.organization.identity(),oPerson:this.organization.person(),oPersonAttribute:this.organization.personAttribute(),oRole:this.organization.role(),oUnit:this.organization.unit(),oUnitAttribute:this.organization.unitAttribute(),oUnitDuty:this.organization.unitDuty(),group:function(){return this.oGroup},identity:function(){return this.oIdentity},person:function(){return this.oPerson},personAttribute:function(){return this.oPersonAttribute},role:function(){return this.oRole},unit:function(){return this.oUnit},unitAttribute:function(){return this.oUnitAttribute},unitDuty:function(){return this.oUnitDuty},getObject:function(t,e){var i=[];if(!e||!e.length)return null;for(var n=0;n<e.length;n++){var r=t.getObject(e[n]);r&&i.push(JSON.parse(r.toString()))}return i},getGroup:function(t){var e=this.oGroup.listObject(getNameFlag(t)),i=e&&e.length?JSON.parse(e.toString()):null;return i&&1===i.length?i[0]:i},listSubGroup:function(t,e){var i=null;return i=e?this.oGroup.listWithGroupSubNested(getNameFlag(t)):this.oGroup.listWithGroupSubDirect(getNameFlag(t)),this.getObject(this.oGroup,i)},listSupGroup:function(t,e){var i=null;return i=e?this.oGroup.listWithGroupSupNested(getNameFlag(t)):this.oGroup.listWithGroupSupDirect(getNameFlag(t)),this.getObject(this.oGroup,i)},listGroupWithPerson:function(t){var e=this.oGroup.listWithPerson(getNameFlag(t));return this.getObject(this.oGroup,e)},groupHasRole:function(t,e){return nameFlag="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,this.oGroup.hasRole(nameFlag,getNameFlag(e))},getRole:function(t){var e=this.oRole.listObject(getNameFlag(t)),i=e&&e.length?JSON.parse(e.toString()):null;return i&&1===i.length?i[0]:i},listRoleWithPerson:function(t){var e=this.oRole.listWithPerson(getNameFlag(t));return this.getObject(this.oRole,e)},personHasRole:function(t,e){return nameFlag="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,this.oPerson.hasRole(nameFlag,getNameFlag(e))},getPerson:function(t){var e=this.oPerson.listObject(getNameFlag(t)),i=e&&e.length?JSON.parse(e.toString()):null;return i&&1===i.length?i[0]:i},listSubPerson:function(t,e){var i=null;return i=e?this.oPerson.listWithPersonSubNested(getNameFlag(t)):this.oPerson.listWithPersonSubDirect(getNameFlag(t)),this.getObject(this.oPerson,i)},listSupPerson:function(t,e){var i=null;return i=e?this.oPerson.listWithPersonSupNested(getNameFlag(t)):this.oPerson.listWithPersonSupDirect(getNameFlag(t)),this.getObject(this.oPerson,i)},listPersonWithGroup:function(t){var e=this.oPerson.listWithGroup(getNameFlag(t));return this.getObject(this.oPerson,e)},listPersonWithRole:function(t){var e=this.oPerson.listWithRole(getNameFlag(t));return this.getObject(this.oPerson,e)},listPersonWithIdentity:function(t){var e=this.oPerson.listWithIdentity(getNameFlag(t));return this.getObject(this.oPerson,e)},getPersonWithIdentity:function(t){var e=this.oPerson.listWithIdentity(getNameFlag(t)),i=this.getObject(this.oPerson,e);return i&&i.length?i[0]:null},listPersonWithUnit:function(t,e){var i=null;return i=e?this.oPerson.listWithUnitSubNested(getNameFlag(t)):this.oPerson.listWithUnitSubDirect(getNameFlag(t)),this.getObject(this.oPerson,i)},appendPersonAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oPersonAttribute.appendWithPersonWithName(n,e,i)},setPersonAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oPersonAttribute.setWithPersonWithName(n,e,i)},getPersonAttribute:function(t,e){var i="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,n=this.oPersonAttribute.listAttributeWithPersonWithName(i,e),r=[];if(n&&n.length)for(var o=0;o<n.length;o++)r.push(n[o].toString());return r},listPersonAttributeName:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oPersonAttribute.listNameWithPerson(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o].toString())}return i},getIdentity:function(t){var e=this.oIdentity.listObject(getNameFlag(t)),i=e&&e.length?JSON.parse(e.toString()):null;return i&&1===i.length?i[0]:i},listIdentityWithPerson:function(t){var e=this.oIdentity.listWithPerson(getNameFlag(t));return this.getObject(this.oIdentity,e)},listIdentityWithUnit:function(t,e){var i=null;return i=e?this.oIdentity.listWithUnitSubNested(getNameFlag(t)):this.oIdentity.listWithUnitSubDirect(getNameFlag(t)),this.getObject(this.oIdentity,i)},getUnit:function(t){var e=this.oUnit.listObject(getNameFlag(t)),i=e&&e.length?JSON.parse(e.toString()):null;return i&&1===i.length?i[0]:i},listSubUnit:function(t,e){var i=null;return i=e?this.oUnit.listWithUnitSubNested(getNameFlag(t)):this.oUnit.listWithUnitSubDirect(getNameFlag(t)),this.getObject(this.oUnit,i)},listSupUnit:function(t,e){var i=null;return i=e?this.oUnit.listWithUnitSupNested(getNameFlag(t)):this.oUnit.listWithUnitSupDirect(getNameFlag(t)),this.getObject(this.oUnit,i)},getUnitByIdentity:function(t,e){var i,n="current";e&&("string"===library.typeOf(e)&&(n="type"),"number"===library.typeOf(e)&&(n="level"));var r=getNameFlag(t)[0];switch(n){case"current":i=this.oUnit.getWithIdentity(r);break;case"type":i=this.oUnit.getWithIdentityWithType(r,e);break;case"level":i=this.oUnit.getWithIdentityWithLevel(r,e)}var o=this.getObject(this.oUnit,[i]);return o&&1===o.length?o[0]:o},listAllSupUnitWithIdentity:function(t){var e=this.oUnit.listWithIdentitySupNested(getNameFlag(t));return this.getObject(this.oUnit,e)},listUnitWithPerson:function(t){var e=this.oUnit.listWithPerson(getNameFlag(t));return this.getObject(this.oUnit,e)},listAllSupUnitWithPerson:function(t){var e=this.oUnit.listWithPersonSupNested(getNameFlag(t));return this.getObject(this.oUnit,e)},listUnitWithAttribute:function(t,e){var i=this.oUnit.listWithUnitAttribute(t,e);return this.getObject(this.oUnit,i)},listUnitWithDuty:function(t,e){var i="object"===library.typeOf(e)?e.distinguishedName||e.id||e.unique||e.name:e,n=this.oUnit.listWithUnitDuty(t,i);return this.getObject(this.oUnit,n)},getDuty:function(t,e){var i="object"===library.typeOf(e)?e.distinguishedName||e.id||e.unique||e.name:e,n=this.oUnitDuty.listIdentityWithUnitWithName(i,t);return this.getObject(this.oIdentity,n)},listDutyNameWithIdentity:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitDuty.listNameWithIdentity(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o].toString())}return i},listDutyNameWithUnit:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitDuty.listNameWithUnit(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o].toString())}return i},listUnitAllDuty:function(t){for(var e=getNameFlag(t)[0],i=this.oUnitDuty.listNameWithUnit(e),n=[],r=0;r<i.length;r++)v=this.oUnitDuty.listIdentityWithUnitWithName(e,i[r]),n.push({name:i[r],identityList:this.getObject(this.oIdentity,v)});return n},appendUnitAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oUnitAttribute.appendWithUnitWithName(n,e,i)},setUnitAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oUnitAttribute.setWithUnitWithName(n,e,i)},getUnitAttribute:function(t,e){var i="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,n=this.oUnitAttribute.listAttributeWithUnitWithName(i,e),r=[];if(n&&n.length)for(var o=0;o<n.length;o++)r.push(n[o].toString());return r},listUnitAttributeName:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitAttribute.listNameWithUnit(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o])}return i},listUnitAllAttribute:function(t){for(var e=getNameFlag(t)[0],i=this.oUnitAttribute.listNameWithUnit(e),n=[],r=0;r<i.length;r++)v=this.getUnitAttribute(e,i[r]),n.push({name:i[r],valueList:v});return n}};bind.applications=this.applications;var restfulAcpplication=this.applications,_Action=function(t,e){this.actions=e,this.root=t;var i=function(t,e,i){var n=this;return function(){var r,o,s,a=e.length-1,u=arguments.length,l=arguments,c={};return"function"===typeOf(l[0])?(a=-1,r=u>++a?l[a]:null,o=u>++a?l[a]:null,e.each((function(t,e){c[t]=u>++a?l[a]:null})),!t.method||"post"!==t.method.toLowerCase()&&"put"!==t.method.toLowerCase()||(s=u>++a?l[a]:null)):(e.each((function(t,e){c[t]=u>e?l[e]:null})),!t.method||"post"!==t.method.toLowerCase()&&"put"!==t.method.toLowerCase()||(s=u>++a?l[a]:null),r=u>++a?l[a]:null,o=u>++a?l[a]:null),n.invoke({name:i,data:s,parameter:c,success:r,failure:o})}},n=function(t,e){var n=t.uri,r=new RegExp("{.+?}","g"),o=n.match(r),s=[];o&&(s=o.map((function(t){return t.substring(1,t.length-1)}))),this[e]=i.call(this,t,s,e)};Object.keys(this.actions).forEach((function(t){var e=this.actions[t];e.uri&&(this[t]||n.call(this,e,t))}),this),this.invoke=function(t){if(this.actions[t.name]){var e=this.actions[t.name].uri,i=this.actions[t.name].method||"get";t.parameter&&Object.keys(t.parameter).forEach((function(i){var n=t.parameter[i];e=e.replace("{"+i+"}",n)}));var n=null;try{switch(i.toLowerCase()){case"get":n=bind.applications.getQuery(this.root,e);break;case"post":n=bind.applications.postQuery(this.root,e,JSON.stringify(t.data));break;case"put":n=bind.applications.putQuery(this.root,e,JSON.stringify(t.data));break;case"delete":n=bind.applications.deleteQuery(this.root,e);break;default:n=bind.applications.getQuery(this.root,e)}if(n&&"success"===n.getType().toString()){var r=JSON.parse(n.toString());t.success&&t.success(r)}else t.failure&&t.failure(n?JSON.parse(n.toString()):null)}catch(e){t.failure&&t.failure(e)}}}};_Action.applications=this.applications;var _Actions={loadedActions:{},load:function(t){if(this.loadedActions[t])return this.loadedActions[t];var e=bind.applications.describeApi(t),i=JSON.parse(e.toString());if(i&&i.jaxrs){var n={};return i.jaxrs.each(function(e){if(e.methods&&e.methods.length){var i={};e.methods.each(function(t){var e={uri:"/"+t.uri};t.method&&(e.method=t.method),t.enctype&&(e.enctype=t.enctype),i[t.name]=e}.bind(this)),n[e.name]=new bind.Action(t,i)}}.bind(this)),this.loadedActions[t]=n,n}return null}};bind.Actions=_Actions;try{oPrint=oPrint}catch(t){oPrint=print}print=function(t,e){var i=new Date,n=(e||"PRINT").toUpperCase();oPrint(i.format("db")+"."+i.getMilliseconds()+" "+n+" [Script] "+t)},bind.print=print,echo=print,bind.echo=print,bind.library=library,bind.data=this.data,bind.workContext=wrapWorkContext,bind.service=this.webservicesClient,bind.org=_org,bind.Action=_Action,bind.include=include,bind.define=define,bind.Dict=Dict,bind.form=null,bind.body={set:function(t){"string"==typeof t&&body.set(t),"object"==typeof t&&body.set(JSON.encode(t))}},bind.headers={put:function(t,e){try{if("object"==typeof t)for(var i=Object.keys(t),n=0;n<i.length;n++)jaxrsHead&&jaxrsHead.put(i[n],t[i[n]]);else jaxrsHead&&jaxrsHead.put(t,e)}catch(t){}},remove:function(t){try{jaxrsHead&&jaxrsHead.remove(t)}catch(t){}}},bind.parameters={add:function(t){try{parameters&&parameters.add(t)}catch(t){}},put:function(t,e){try{if("object"==typeof t)for(var i=Object.keys(t),n=0;n<i.length;n++)parameters&&parameters.put(i[n],t[i[n]]);else parameters&&parameters.put(t,e)}catch(t){}},remove:function(t){try{parameters&&parameters.remove(t)}catch(t){}}},bind.response=function(){var t=this;if(this.jaxrsResponse){if(this.jaxrsResponse.get()){var e=this.jaxrsResponse.get();return JSON.validate(e)?{status:this.jaxrsResponse.status,value:JSON.decode(e),get:function(){JSON.decode(e)}}:{status:this.jaxrsResponse.status,value:e,get:function(){return e}}}return{status:this.jaxrsResponse.status,value:this.jaxrsResponse.value,get:function(){return t.jaxrsResponse.value}}}return{get:function(){return t.jaxwsResponse||null}}}.apply(this),bind.assginData={data:null,get:function(){return this.data=JSON.decode(assignData.get()),this.data},set:function(t){assignData.set(JSON.encode(t||this.data))}},bind.assignData=bind.assginData,bind.expire={setHour:function(t){try{expire.setHour(t)}catch(t){}},setWorkHour:function(t){try{expire.setWorkHour(t)}catch(t){}},setDate:function(t){try{expire.setDate(t)}catch(t){}}},bind.request={getBody:function(){try{return JSON.parse(serviceValue)}catch(t){return null}}};