function getServiceAddress(e,n){if(window.layout.config=e,e.configMapping&&(e.configMapping[window.location.host]||e.configMapping[window.location.hostname])){var r=e.configMapping[window.location.host]||e.configMapping[window.location.hostname];r.servers?(window.layout.serviceAddressList=r.servers,r.center&&(center="array"===o2.typeOf(r.center)?r.center[0]:r.center),window.layout.centerServer=center,n&&n()):(r.center&&(layout.config.center="array"===o2.typeOf(r.center)?r.center:[r.center]),getServiceAddressConfigArray(layout.config,n))}else"object"==typeOf(e.center)?getServiceAddressConfigObject(n):"array"==typeOf(e.center)&&getServiceAddressConfigArray(e,n)}function chooseCenter(e){for(var n=window.location.host,r=null,o=0;o<e.center.length;o++){var t=e.center[o];if(t.webHost==n){r=t;break}}return r}function getServiceAddressConfigArray(e,n){var r=[];e.center.each(function(e){r.push(getServiceAddressConfigObject(function(){r.each((function(e){e.res&&e.res.isRunning&&e.res.isRunning()&&e.res.cancel()})),n&&n()}.bind(this),e))}.bind(this))}function getServiceAddressConfigObject(e,n){var r=n,o=r.host||window.location.hostname,t=r.port,i="",c=window.location.protocol;i=t&&"80"!=t?c+"//"+o+":"+t+"/x_program_center/jaxrs/distribute/assemble/source/{source}":c+"//"+o+"/x_program_center/jaxrs/distribute/assemble/source/{source}";var s=window.location.hostname;return i=i.replace(/{source}/g,s),MWF.restful("get",i,null,function(r){window.layout.serviceAddressList=r.data,window.layout.centerServer=n,e&&e()}.bind(this))}window.layout=window.layout||{};