bind={};var library={version:"4.0",defineProperties:Object.defineProperties||function(t,e){function i(e){function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){return"function"==typeof t}if("object"!=typeof e||null===e)throw new TypeError("bad desc");var r={};if(i(e,"enumerable")&&(r.enumerable=!!t.enumerable),i(e,"configurable")&&(r.configurable=!!t.configurable),i(e,"value")&&(r.value=t.value),i(e,"writable")&&(r.writable=!!e.writable),i(e,"get")){var o=e.get;if(!n(o)&&void 0!==o)throw new TypeError("bad get");r.get=o}if(i(e,"set")){var s=e.set;if(!n(s)&&void 0!==s)throw new TypeError("bad set");r.set=s}if(("get"in r||"set"in r)&&("value"in r||"writable"in r))throw new TypeError("identity-confused descriptor");return r}if("object"!=typeof t||null===t)throw new TypeError("bad obj");e=Object(e);for(var n=Object.keys(e),r=[],o=0;o<n.length;o++)r.push([n[o],i(e[n[o]])]);for(o=0;o<r.length;o++)Object.defineProperty(t,r[o][0],r[o][1]);return t},typeOf:function(t){if(null==t)return"null";if(null!=t.$family)return t.$family();if(t.constructor==Array)return"array";if(t.nodeName){if(1==t.nodeType)return"element";if(3==t.nodeType)return/\S/.test(t.nodeValue)?"textnode":"whitespace"}else if("number"==typeof t.length&&t.callee)return"arguments";return typeof t},JSONDecode:function(string,secure){return string&&"string"==library.typeOf(string)?eval("("+string+")"):null},JSONEncode:function(t){switch(t&&t.toJSON&&(t=t.toJSON()),library.typeOf(t)){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var e=[],i=0;i<t.length;i++){(n=library.JSONEncode(t[i]))&&e.push(n)}return"["+e+"]";case"object":case"hash":e=[];for(key in t){var n;(n=library.JSONEncode(t[key]))&&e.push(library.JSONEncode(key)+":"+n)}return"{"+e+"}";case"number":case"boolean":return""+t;case"null":return"null"}return null}};!function(){var t={indexOf:{value:function(t,e){for(var i=this.length>>>0,n=e<0?Math.max(0,i+e):e||0;n<i;n++)if(this[n]===t)return n;return-1}}};library.defineProperties(Array.prototype,t)}();var wrapWorkContext={getTask:function(){return library.JSONDecode(workContext.getCurrentTaskCompleted())},getWork:function(){return library.JSONDecode(workContext.getWork())},getActivity:function(){return library.JSONDecode(workContext.getActivity())},getTaskList:function(){return library.JSONDecode(workContext.getTaskList())},getTaskCompletedList:function(){return library.JSONDecode(workContext.getTaskCompletedList())},getReadList:function(){return library.JSONDecode(workContext.getReadList())},getReadCompletedList:function(){return library.JSONDecode(workContext.getReadCompletedList())},getReviewList:function(){return library.JSONDecode(workContext.getReviewList())},getWorkLogList:function(){return library.JSONDecode(workContext.getWorkLogList())},getAttachmentList:function(){return library.JSONDecode(workContext.getAttachmentList())},getRouteList:function(){return library.JSONDecode(workContext.getRouteList())},setTitle:function(t){workContext.setTitle(t)},getControl:function(){return null},getInquiredRouteList:function(){return null}},includedScripts=[],_self=this,include=function(t,e){if(-1==includedScripts.indexOf(t)){var i=library.JSONDecode(_self.workContext.getScript(t,includedScripts));includedScripts=includedScripts.concat(i.importedList),i.text&&(MWF.Macro.exec(i.data.text,bind),e&&e.apply(bind))}},define=function(t,e,i){var n=!0;!1===i&&(n=!1);var r={};r[t]={value:e,configurable:n},library.defineProperties(bind,r)},Dict=function(t){var e=_self.dictionary;this.name=t,this.get=function(t){return library.JSONDecode(e.select(this.name,t))},this.set=function(t,i){try{return e.update(this.name,library.JSONEncode(i),t),!0}catch(t){return!1}},this.add=function(t,i){try{return e.insert(this.name,library.JSONEncode(i),t),!0}catch(t){return!1}}};"undefined"==typeof JSON&&(JSON={}),JSON.validate=function(t){return t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t)},JSON.encode=JSON.stringify?function(t){return JSON.stringify(t)}:function(t){switch(t&&t.toJSON&&(t=t.toJSON()),typeof t){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var e=[],i=0;i<t.length;i++){(n=JSON.encode(t[i]))&&e.push(n)}return"["+e+"]";case"object":case"hash":e=[];for(key in t){var n;(n=JSON.encode(t[key]))&&e.push(JSON.encode(key)+":"+n)}return"{"+e+"}";case"number":case"boolean":return""+t;case"null":return"null"}return null},JSON.decode=function(string,secure){if(!string||"string"!=typeof string)return null;if(secure||JSON.secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")};var body={set:function(t){"string"==typeof t?jaxrsBody&&jaxrsBody.set(t):jaxrsBody&&jaxrsBody.set(JSON.encode(t))}},getNameFlag=function(t){var e=library.typeOf(t);if("array"===e){var i=[];return t.forEach((function(t){i.push("object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t)})),i}return["object"===e?t.distinguishedName||t.id||t.unique||t.name:t]},org={oGroup:this.organization.group(),oIdentity:this.organization.identity(),oPerson:this.organization.person(),oPersonAttribute:this.organization.personAttribute(),oRole:this.organization.role(),oGroup:this.organization.group(),oUnit:this.organization.unit(),oUnitAttribute:this.organization.unitAttribute(),oUnitDuty:this.organization.unitDuty(),group:function(){return this.oGroup},identity:function(){return this.oIdentity},person:function(){return this.oPerson},personAttribute:function(){return this.oPersonAttribute},role:function(){return this.oRole},group:function(){return this.oGroup},unit:function(){return this.oUnit},unitAttribute:function(){return this.oUnitAttribute},unitDuty:function(){return this.oUnitDuty},getObject:function(t,e){var i=[];if(!e||!e.length)return null;for(var n=0;n<e.length;n++){var r=this.o.getObject(e[n]);r&&i.push(r)}return i},getGroup:function(t){var e=this.oGroup.listObject(getNameFlag(t));return e&&e.length||(e=null),e&&1===e.length?e[0]:e},listSubGroup:function(t,e){var i=null;if(e)i=this.oGroup.listWithGroupSubNested(getNameFlag(t));else i=this.oGroup.listWithGroupSubDirect(getNameFlag(t));return this.getObject(this.oGroup,i)},listSupGroup:function(t,e){var i=null;if(e)i=this.oGroup.listWithGroupSupNested(getNameFlag(t));else i=this.oGroup.listWithGroupSupDirect(getNameFlag(t));return this.getObject(this.oGroup,i)},listGroupWithPerson:function(t){var e=this.oGroup.listWithPerson(getNameFlag(t));return this.getObject(this.oGroup,e)},groupHasRole:function(t,e){return nameFlag="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,this.oGroup.hasRole(nameFlag,getNameFlag(e))},getRole:function(t){var e=this.oRole.listObject(getNameFlag(t));return e&&e.length||(e=null),e&&1===e.length?e[0]:e},listRoleWithPerson:function(t){var e=this.oRole.listWithPerson(getNameFlag(t));return this.getObject(this.oRole,e)},personHasRole:function(t,e){return nameFlag="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t,this.oPerson.hasRole(nameFlag,getNameFlag(e))},getPerson:function(t){var e=this.oPerson.listObject(getNameFlag(t));return e&&e.length||(e=null),e&&1===e.length?e[0]:e},listSubPerson:function(t,e){var i=null;if(e)i=this.oPerson.listWithPersonSubNested(getNameFlag(t));else i=this.oPerson.listWithPersonSubDirect(getNameFlag(t));return this.getObject(this.oPerson,i)},listSupPerson:function(t,e){var i=null;if(e)i=this.oPerson.listWithPersonSupNested(getNameFlag(t));else i=this.oPerson.listWithPersonSupDirect(getNameFlag(t));return this.getObject(this.oPerson,i)},listPersonWithGroup:function(t){var e=this.oPerson.listWithGroup(getNameFlag(t));return e&&e.length||(e=null),e},listPersonWithRole:function(t){var e=this.oPerson.listWithRole(getNameFlag(t));return this.getObject(this.oPerson,e)},listPersonWithIdentity:function(t){var e=this.oPerson.listWithIdentity(getNameFlag(t));return this.getObject(this.oPerson,e)},getPersonWithIdentity:function(t){var e=this.oPerson.listWithIdentity(getNameFlag(t)),i=this.getObject(this.oPerson,e);return i&&i.length?i[0]:null},listPersonWithUnit:function(t,e){var i=null;if(e)i=this.oPerson.listWithUnitSubNested(getNameFlag(t));else i=this.oPerson.listWithUnitSubDirect(getNameFlag(t));return this.getObject(this.oPerson,i)},appendPersonAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oPersonAttribute.appendWithPersonWithName(n,e,i)},setPersonAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oPersonAttribute.setWithPersonWithName(n,e,i)},getPersonAttribute:function(t,e){var i="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oPersonAttribute.listAttributeWithPersonWithName(i,e)},listPersonAttributeName:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oPersonAttribute.listNameWithPerson(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o])}return i},listPersonAllAttribute:function(t){},getIdentity:function(t){var e=this.oIdentity.listObject(getNameFlag(t));return e&&e.length||(e=null),e&&1===e.length?e[0]:e},listIdentityWithPerson:function(t){var e=this.oIdentity.listWithPerson(getNameFlag(t));return this.getObject(this.oIdentity,e)},listIdentityWithUnit:function(t,e){var i=null;if(e)i=this.oIdentity.listWithUnitSubNested(getNameFlag(t));else i=this.oIdentity.listWithUnitSubDirect(getNameFlag(t));return this.getObject(this.oIdentity,i)},getUnit:function(t){var e=this.oUnit.listObject(getNameFlag(t));return e&&e.length||(e=null),e&&1===e.length?e[0]:e},listSubUnit:function(t,e){var i=null;if(e)i=this.oUnit.listWithUnitSubNested(getNameFlag(t));else i=this.oUnit.listWithUnitSubDirect(getNameFlag(t));return this.getObject(this.oUnit,i)},listSupUnit:function(t,e){var i=null;if(e)i=this.oUnit.listWithUnitSupNested(getNameFlag(t));else i=this.oUnit.listWithUnitSupDirect(getNameFlag(t));return this.getObject(this.oUnit,i)},getUnitByIdentity:function(t,e){getOrgActions();var i,n="current";e&&("string"===library.typeOf(e)&&(n="type"),"number"===library.typeOf(e)&&(n="level"));var r=getNameFlag(t)[0];switch(n){case"current":i=this.oUnit.getWithIdentity(r);break;case"type":i=this.oUnit.getWithIdentityWithType(r,e);break;case"level":i=this.oUnit.getWithIdentityWithLevel(r,e)}return this.oUnit.getObject(i)},listAllSupUnitWithIdentity:function(t){var e=this.oUnit.listWithIdentitySupNested(getNameFlag(t));return this.getObject(this.oUnit,e)},listUnitWithPerson:function(t){var e=this.oUnit.listWithPerson(getNameFlag(t));return this.getObject(this.oUnit,e)},listAllSupUnitWithPerson:function(t){var e=this.oUnit.listWithPersonSupNested(getNameFlag(t));return this.getObject(this.oUnit,e)},listUnitWithAttribute:function(t,e){var i=this.oUnit.listWithUnitAttribute(t,e);return this.getObject(this.oUnit,i)},listUnitWithDuty:function(t,e){var i="object"===library.typeOf(e)?e.distinguishedName||e.id||e.unique||e.name:e,n=this.oUnit.listWithUnitDuty(t,i);return this.getObject(this.oUnit,n)},getDuty:function(t,e){var i="object"===library.typeOf(e)?e.distinguishedName||e.id||e.unique||e.name:e,n=this.oUnitDuty.listIdentityWithUnitWithName(i,t);return this.getObject(this.oIdentity,n)},listDutyNameWithIdentity:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitDuty.listNameWithIdentity(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o])}return i},listDutyNameWithUnit:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitDuty.listNameWithUnit(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o])}return i},listUnitAllDuty:function(t){},appendUnitAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oUnitAttribute.appendWithUnitWithName(n,e,i)},setUnitAttribute:function(t,e,i){var n="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oUnitAttribute.setWithUnitWithName(n,e,i)},getUnitAttribute:function(t,e){var i="object"===library.typeOf(t)?t.distinguishedName||t.id||t.unique||t.name:t;return this.oUnitAttribute.listAttributeWithUnitWithName(i,e)},listUnitAttributeName:function(t){for(var e=getNameFlag(t),i=[],n=0;n<e.length;n++){var r=this.oUnitAttribute.listNameWithUnit(e[n]);if(r&&r.length)for(var o=0;o<r.length;o++)-1==i.indexOf(r[o])&&i.push(r[o])}return i},listUnitAllAttribute:function(t){}},restfulAcpplication=this.applications,Action=function(){var t=[];return function(e,i){t[e]||(t[e]={}),Object.keys(i).forEach((function(n){t[e][n]=i[n]})),this.root=e,this.actions=t[e],this.invoke=function(t){if(this.actions[t.name]){var e=this.actions[t.name].uri,i=this.actions[t.name].method||"get";t.parameter&&Object.keys(t.parameter).forEach((function(i){var n=t.parameter[i];e=e.replace("{"+i+"}",n)}));var n=null;try{switch(i.toLowerCase()){case"get":n=restfulAcpplication.getQuery(this.root,e);break;case"post":n=restfulAcpplication.postQuery(this.root,e,JSON.stringify(t.data));break;case"put":n=restfulAcpplication.putQuery(this.root,e,JSON.stringify(t.data));break;case"delete":n=restfulAcpplication.deleteQuery(this.root,e);break;default:n=restfulAcpplication.getQuery(this.root,e)}if(n){var r=JSON.parse(n.toString());t.success&&t.success(r)}else t.failure&&t.failure()}catch(e){t.failure&&t.failure(e)}}}}}();Action.applications=this.applications;var Actions={get:function(t){return loadedActions[t]||(loadedActions[t]={root:t,get:function(t,e,i){return returnRes(estfulAcpplication.getQuery(this.root,t),e,i)},post:function(t,e,i,n){return returnRes(estfulAcpplication.postQuery(this.root,t,JSON.stringify(e)),i,n)},put:function(t,e,i,n){return returnRes(estfulAcpplication.putQuery(this.root,t,JSON.stringify(e)),i,n)},delete:function(t,e,i){return returnRes(estfulAcpplication.deleteQuery(this.root,t),e,i)}}),loadedActions[t]}};bind.library=library,bind.data=this.data,bind.workContext=wrapWorkContext,bind.service=this.webservicesClient,bind.org=org,bind.Action=Action,bind.Actions=Actions,bind.include=include,bind.define=define,bind.Dict=Dict,bind.form=null,bind.body={set:function(t){"string"==typeof t&&body.set(t),"object"==typeof t&&body.set(JSON.encode(t))}},bind.parameters=this.parameters||null,bind.response=function(){return this.jaxrsResponse?this.jaxrsResponse.get()?JSON.validate(this.jaxrsResponse.get())?{status:this.jaxrsResponse.status,value:JSON.decode(this.jaxrsResponse.get())}:{status:this.jaxrsResponse.status,value:this.jaxrsResponse.value}:{status:this.jaxrsResponse.status}:null}.apply(this),bind.assginData={data:null,get:function(){return this.data=JSON.decode(assginData.get()),this.data},set:function(t){assginData.set(JSON.encode(t||this.data))}},bind.expire={setHour:function(t){try{expire.setHour(t)}catch(t){}},setWorkHour:function(t){try{expire.setWorkHour(t)}catch(t){}},setDate:function(t){try{expire.setDate(t)}catch(t){}}};