MWF.xApplication.AppCenter=MWF.xApplication.AppCenter||{},MWF.xDesktop.requireApp("AppCenter","lp."+MWF.language,null,!1),MWF.xApplication.AppCenter.Main=new Class({Extends:MWF.xApplication.Common.Main,Implements:[Options,Events],options:{style:"default",name:"AppCenter",icon:"icon.png",width:"1000",height:"700",title:MWF.xApplication.AppCenter.LP.title},onQueryLoad:function(){this.lp=MWF.xApplication.AppCenter.LP,this.actions=MWF.Actions.get("x_program_center")},loadApplication:function(t){this.components=[],this.loadTitle(),this.contentNode=new Element("div",{styles:this.css.contentNode}).inject(this.content),this.contentModuleArea=new Element("div",{styles:this.css.contentModuleArea}).inject(this.contentNode),this.setContentSize(),this.addEvent("resize",this.setContentSize),this.loadModuleContent()},loadTitle:function(){this.titleBar=new Element("div",{styles:this.css.titleBar}).inject(this.content),MWF.AC.isProcessPlatformCreator()&&(this.createApplicationNode=new Element("div",{styles:this.css.createApplicationNode,title:this.lp.export}).inject(this.titleBar),this.createApplicationNode.addEvent("click",function(){this.createApplication()}.bind(this)),this.importApplicationNode=new Element("div",{styles:this.css.setupApplicationNode,title:this.lp.setup}).inject(this.titleBar),this.importApplicationNode.addEvent("click",function(){this.implodeLocal()}.bind(this))),this.taskTitleTextNode=new Element("div",{styles:this.css.titleTextNode,text:this.lp.title}).inject(this.titleBar)},implodeLocal:function(){if(this.uploadFileAreaNode){this.fileUploadNode&&this.fileUploadNode.destroy(),this.uploadFileAreaNode.empty();t='<input name="file" type="file" accept=".xapp"/>';this.uploadFileAreaNode.set("html",t),this.fileUploadNode=this.uploadFileAreaNode.getFirst(),this.fileUploadNode.addEvent("change",this.implodeLocalFile.bind(this))}else{this.uploadFileAreaNode=new Element("div");var t='<input name="file" type="file" accept=".xapp"/>';this.uploadFileAreaNode.set("html",t),this.fileUploadNode=this.uploadFileAreaNode.getFirst(),this.fileUploadNode.addEvent("change",this.implodeLocalFile.bind(this))}this.fileUploadNode.click()},implodeLocalFile:function(){var t=this.fileUploadNode.files;if(t.length){var e=t[0],i=this.titleBar.getPosition(this.content),s=this.contentNode.getSize(),n=.9*s.x;n>600&&(n=600);var o=.9*s.y,a=(s.x-n)/2,l=(s.y-o)/2,h=null;MWF.require("MWF.xDesktop.Dialog",function(){var t=new MWF.xDesktop.Dialog({title:this.lp.setupTitle,style:"appMarket",top:l+20,left:a,fromTop:i.y,fromLeft:i.x,width:n,height:o,html:"",maskNode:this.content,container:this.content,buttonList:[{text:this.lp.ok,action:function(){h&&h.setup(),this.close()}},{text:this.lp.cancel,action:function(){this.close()}}]});t.show(),h=new MWF.xApplication.AppCenter.Module.SetupLocal(e,t,this)}.bind(this))}},setContentSize:function(){var t=this.content.getSize(),e=this.titleBar.getSize(),i=t.y-e.y;this.contentNode.setStyles({height:i+"px",overflow:"auto"});for(var s=.98*t.x,n=(t.x/320).toInt(),o=320*n;o>s;)o=320*--n;this.contentModuleArea.setStyle("width",o+"px")},loadModuleContent:function(){this.actions.listStructure(function(t){this.moduleList=t.data,this.moduleList.length?this.moduleList.each(function(t){new MWF.xApplication.AppCenter.Module(this,t)}.bind(this)):this.createEmptyElement()}.bind(this))},createEmptyElement:function(){this.emptyNode=new Element("div",{styles:this.css.emptyNode}).inject(this.contentModuleArea),MWF.AC.isProcessPlatformCreator()?(this.emptyNode.set("text",this.lp.emptyModuleManagerInfo),this.emptyNode.addEvent("click",function(){this.createApplication()}.bind(this))):this.emptyNode.set("text",this.lp.emptyModuleInfo)},createApplication:function(t,e){e&&(this.curAppId=e),t&&(this.content=t),new MWF.xApplication.AppCenter.Exporter(this)}}),MWF.xApplication.AppCenter.Module=new Class({initialize:function(t,e){this.app=t,this.data=e,this.json=JSON.decode(this.data.data),this.json.structure=this.data.id,this.lp=this.app.lp,this.css=this.app.css,this.content=this.app.contentModuleArea,this.load()},load:function(){this.node=new Element("div",{styles:this.css.moduleNode}).inject(this.content),this.iconNode=new Element("div",{styles:this.css.moduleIconNode}).inject(this.node),this.contentNode=new Element("div",{styles:this.css.moduleContentNode}).inject(this.node),this.nameNode=new Element("div",{styles:this.css.moduleNameNode}).inject(this.contentNode),this.categoryNode=new Element("div",{styles:this.css.moduleCategoryNode}).inject(this.contentNode),this.descriptionNode=new Element("div",{styles:this.css.moduleDescriptionNode}).inject(this.contentNode),this.actionNode=new Element("div",{styles:this.css.moduleActionNode}).inject(this.contentNode),this.viewActionNode=new Element("div",{styles:this.css.moduleActionNode}).inject(this.contentNode),this.deleteActionNode=new Element("div",{styles:this.css.moduleDeleteActionNode}).inject(this.contentNode),this.deleteActionNode.set("text",this.lp.delete),this.nameNode.set("text",this.data.name),this.categoryNode.set("text",this.data.createTime),this.descriptionNode.set("text",this.data.description),this.actionNode.set("text",this.lp.output),this.viewActionNode.set("text",this.lp.outputView),this.viewActionNode.setStyle("margin-left","10px"),this.loadEvent()},loadEvent:function(){this.actionNode.addEvent("click",function(t){var e=this.app.actions.action.actions.download.uri;e=e.replace("{flag}",this.json.structure),window.open(o2.filterUrl(this.app.actions.action.address+e))}.bind(this)),this.viewActionNode.addEvent("click",function(t){this.outputApp(),t.stopPropagation()}.bind(this)),this.node.addEvent("click",function(){this.openApp()}.bind(this));var t=this;this.deleteActionNode.addEvent("click",function(e){this.app.confirm("warn",e,"tip","confirm delete?",300,120,(function(){this.structureRes=t.app.actions.removeStructure(t.json.structure,function(e){t.app.notice("success"),t.node.destroy()}.bind(this)),this.close()}),(function(){this.close()}),null)}.bind(this))},outputApp:function(){new MWF.xApplication.AppCenter.Exporter(this.app,this.json)},openApp:function(){}}),MWF.xApplication.AppCenter.Exporter=new Class({initialize:function(t,e){this.app=t,this.lp=this.app.lp,this.css=this.app.css,this.structure=null,this.dlg=null,this.selectData=e||{structure:"",name:"",description:"",processPlatformList:[],portalList:[],queryList:[],serviceModuleList:[],cmsList:[]},this.setp=1,this.load()},loadStructure:function(){this.structureRes=this.app.actions.outputStructure(function(t){if(this.app.curAppId){var e=t.data.cmsList,i=t.data.portalList,s=t.data.processPlatformList,n=t.data.queryList,o=t.data.serviceModuleList,a={portalList:[],cmsList:[],processPlatformList:[],queryList:[],serviceModuleList:[]};e.each(function(t){t.id===this.app.curAppId&&a.cmsList.push(t)}.bind(this)),i.each(function(t){t.id===this.app.curAppId&&a.portalList.push(t)}.bind(this)),s.each(function(t){t.id===this.app.curAppId&&a.processPlatformList.push(t)}.bind(this)),n.each(function(t){t.id===this.app.curAppId&&a.queryList.push(t)}.bind(this)),o.each(function(t){t.id===this.app.curAppId&&a.serviceModuleList.push(t)}.bind(this)),this.structure=a}else this.structure=t.data;this.createContent()}.bind(this))},showDlg:function(t){var e=this.app.createApplicationNode.getPosition(this.app.content),i=this.app.content.getSize(),s=.9*i.x;s>600&&(s=600);var n=.8*i.y,o=(i.x-s)/2,a=(i.y-n)/2;a<80&&(a=80);var l=this;MWF.require("MWF.xDesktop.Dialog",function(){this.dlg=new MWF.xDesktop.Dialog({title:this.lp.exportTitle,style:"appCenter",top:a+20,left:o,fromTop:e.y,fromLeft:e.x,width:s,height:n,html:"",maskNode:this.app.content,container:this.app.content,buttonList:[{text:this.lp.next,action:function(){l.next()}},{text:this.lp.prev,action:function(){l.prev()}},{text:this.lp.ok,action:function(){l.output()}},{text:this.lp.cancel,action:function(){this.close(),l.structureRes&&l.structureRes.res&&(l.structureRes.res.isRunning()&&l.structureRes.res.cancel(),l.structureRes=null)}}],onPostShow:function(){t&&t()}.bind(this),onPostClose:function(){l.app&&l.app.fireEvent("exporterClose"),MWF.release(l)}}),this.dlg.show()}.bind(this))},checkInput:function(){var t=this.moduleNameInput.get("value"),e=this.moduleCategoryInput.get("value"),i=this.moduleDescriptionInput.get("value");return t?this.selectData.processPlatformList.length||this.selectData.portalList.length||this.selectData.queryList.length||this.selectData.serviceModuleList.length||this.selectData.cmsList.length?(this.selectData.name=t,this.selectData.category=e,this.selectData.description=i,!0):(this.app.notice(this.lp.noModuleError,"error"),!1):(this.app.notice(this.lp.noNameError,"error"),!1)},next:function(){1==this.setp&&this.checkInput()&&this.showStatus()},prev:function(){2==this.step&&(this.statusContentNode&&(this.statusContentNode.destroy(),this.statusContentNode=null),this.contentNode.setStyle("display","block"),this.okBut.setStyle("display","none"),this.prevBut.setStyle("display","nonde"),this.nextBut.setStyle("display","inline"))},output:function(){2==this.step&&this.checkInput()&&MWF.require("o2.widget.Mask",function(){this.mask=new o2.widget.Mask,this.mask.loadNode(this.dlg.node),this.app.actions.output(this.selectData,function(t){var e=this.app.actions.action.actions.download.uri;e=e.replace("{flag}",t.data.flag),this.mask&&this.mask.hide(),this.dlg.close(),window.open(o2.filterUrl(this.app.actions.action.address+e)),this.app.fireEvent("exporterClose"),MWF.release(this)}.bind(this),function(t,e,i){if(0!=t.status){var s=i;if(t){var n=JSON.decode(t.responseText);s=n?n.message.trim()||"request json error":"request json error: "+t.responseText}MWF.xDesktop.notice("error",{x:"right",y:"top"},s)}this.mask&&this.mask.hide()}.bind(this))}.bind(this))},showStatus:function(){this.statusContentNode=new Element("div",{styles:this.css.moduleSelectContentAreaNode}).inject(this.contentNode,"after"),this.statusTitleNode=new Element("div",{styles:this.css.moduleSelectTitleNode,text:this.lp.selected}).inject(this.statusContentNode),this.statusInfoNode=new Element("div",{styles:this.css.moduleSelectContentNode}).inject(this.statusContentNode);var t=this.contentNode.getSize(),e=this.contentNode.getPosition(this.contentNode.getOffsetParent()),i={height:t.y+"px",width:t.x+"px",top:e.y+"px",left:e.x+"px","background-color":"#eeeeee"};this.statusContentNode.setStyles(i);var s=this.statusTitleNode.getSize(),n=t.y-s.y-20;this.statusInfoNode.setStyle("height",n+"px"),this.showStatusList(),this.contentNode.setStyle("display","none"),this.okBut.setStyle("display","inline"),this.prevBut.setStyle("display","inline"),this.nextBut.setStyle("display","none"),this.step=2},showStatusList:function(){this.showStatusItemList("processPlatformList",["processList","formList","applicationDictList","scriptList","fileList"]),this.showStatusItemList("portalList",["pageList","scriptList","widgetList","fileList"]),this.showStatusItemList("cmsList",["categoryInfoList","formList","appDictList","scriptList"]),this.showStatusItemList("queryList",["viewList","statList","revealList","tableList","statementList","importModelList"]),this.showStatusItemList("serviceModuleList",["agentList","invokeList"])},showStatusItemList:function(t,e){this.selectData[t].each(function(i){new Element("div",{styles:this.css.moduleStatusInforNode1,text:"["+this.lp[t]+"] "+(i.name||i.appName)}).inject(this.statusInfoNode),e.each(function(t){i[t]&&i[t].length&&i[t].each(function(e){new Element("div",{styles:this.css.moduleStatusInforNode2,text:"["+this.lp[t]+"] "+(e.name||e.categoryName)}).inject(this.statusInfoNode)}.bind(this))}.bind(this))}.bind(this))},load:function(){this.showDlg(function(){this.createLayout(),this.loadStructure()}.bind(this))},createLayout:function(){this.nextBut=this.dlg.button.getFirst("input"),this.prevBut=this.nextBut.getNext("input"),this.okBut=this.prevBut.getNext("input"),1==this.setp&&(this.okBut.setStyle("display","none"),this.prevBut.setStyle("display","none")),this.node=new Element("div",{styles:this.css.moduleSetupContentNode}).inject(this.dlg.content),this.titleNode=new Element("div",{styles:this.css.moduleSetupTitleNode}).inject(this.node);new Element("div",{styles:this.css.moduleIconNode}).inject(this.titleNode);var t=new Element("div",{styles:this.css.moduleSetupTitleContentNode}).inject(this.titleNode),e=new Element("div",{styles:this.css.moduleSetupNameNode}).inject(t),i=new Element("div",{styles:this.css.moduleSetupCategoryNode}).inject(t);i.hide();var s=new Element("div",{styles:this.css.moduleSetupDescriptionNode}).inject(t),n=(new Element("div",{styles:this.css.moduleInputTitleNode,text:this.lp.moduleName}).inject(e),new Element("div",{styles:this.css.moduleInputContentNode}).inject(e));this.moduleNameInput=new Element("input",{styles:this.css.moduleInputNode}).inject(n);new Element("div",{styles:this.css.moduleInputTitleNode,text:this.lp.moduleCategory}).inject(i);var o=new Element("div",{styles:this.css.moduleInputContentNode}).inject(i);this.moduleCategoryInput=new Element("input",{styles:this.css.moduleInputNode}).inject(o);new Element("div",{styles:this.css.moduleInputTitleNode,text:this.lp.moduleDescription}).inject(s);var a=new Element("div",{styles:this.css.moduleInputContentNode}).inject(s);this.moduleDescriptionInput=new Element("input",{styles:this.css.moduleInputNode}).inject(a),this.moduleNameInput.set("value",this.selectData.name),this.moduleCategoryInput.set("value",this.selectData.category),this.moduleDescriptionInput.set("value",this.selectData.description),this.contentNode=new Element("div",{styles:this.css.moduleSetupCompareContentNode}).inject(this.node),this.setListContentSize(),this.createLoading(this.contentNode)},setListContentSize:function(){var t=this.dlg.content.getSize().y-(this.titleNode.getSize().y+10)-10;this.contentNode.setStyle("height",t+"px")},createLoading:function(t){this.nextBut.setStyle("display","none"),this.loadingAreaNode=new Element("div",{styles:this.css.moduleLoadingAreaNode}).inject(t);new Element("img",{styles:this.css.moduleLoadingImgNode,src:this.app.path+this.app.options.style+"/icon/loading.gif"}).inject(this.loadingAreaNode)},clearLoading:function(){this.loadingAreaNode&&(this.loadingAreaNode.destroy(),this.loadingAreaNode=null),this.nextBut.setStyle("display","inline")},createContent:function(){this.clearLoading(),this.createListArea(),this.loadProcessList(),this.loadPortalList(),this.loadCMSList(),this.loadQueryList(),this.loadServiceList()},createListArea:function(){this.contentAreaNode=new Element("div").inject(this.contentNode),this.processAreaTitle=new Element("div.moduleSetupListAreaTitle",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.process}).inject(this.contentAreaNode),this.processAreaContent=new Element("div.",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.portalAreaTitle=new Element("div.moduleSetupListAreaTitle",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.portal}).inject(this.contentAreaNode),this.portalAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.cmsAreaTitle=new Element("div.moduleSetupListAreaTitle",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.cms}).inject(this.contentAreaNode),this.cmsAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.queryAreaTitle=new Element("div.moduleSetupListAreaTitle",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.query}).inject(this.contentAreaNode),this.queryAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.serviceAreaTitle=new Element("div.moduleSetupListAreaTitle",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.service}).inject(this.contentAreaNode),this.serviceAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.contentAreaNode.getElements(".moduleSetupListAreaTitle").each(function(t){var e=new Element("span",{text:"︽",style:"float:right;font-size:16px;padding-right:15px;cursor:pointer"}).inject(t);e.addEvent("click",function(){"︽"===e.get("text")?(t.getNext().hide(),e.set("text","︾")):(t.getNext().show(),e.set("text","︽"))}.bind(this))}.bind(this))},loadProcessList:function(){this.processListNodes=[],this.structure.processPlatformList.each(function(t){for(var e=null,i=0;i<this.selectData.processPlatformList.length;i++)if(this.selectData.processPlatformList[i].id==t.id){e=this.selectData.processPlatformList[i];break}this.processListNodes.push(new MWF.xApplication.AppCenter.Exporter.ProcessElement(this,this.processAreaContent,t,e))}.bind(this))},loadPortalList:function(){this.portalListNodes=[],this.structure.portalList.each(function(t){this.portalListNodes.push(new MWF.xApplication.AppCenter.Exporter.PortalElement(this,this.portalAreaContent,t))}.bind(this))},loadCMSList:function(){this.cmsListNodes=[],this.structure.cmsList.each(function(t){this.cmsListNodes.push(new MWF.xApplication.AppCenter.Exporter.CmsElement(this,this.cmsAreaContent,t))}.bind(this))},loadQueryList:function(){this.queryListNodes=[],this.structure.queryList.each(function(t){this.queryListNodes.push(new MWF.xApplication.AppCenter.Exporter.QueryElement(this,this.queryAreaContent,t))}.bind(this))},loadServiceList:function(){this.serviceListNodes=[],this.structure.serviceModuleList.each(function(t){this.serviceListNodes.push(new MWF.xApplication.AppCenter.Exporter.ServiceElement(this,this.serviceAreaContent,t))}.bind(this))}}),MWF.xApplication.AppCenter.Exporter.Element=new Class({initialize:function(t,e,i,s){this.exporter=t,this.app=this.exporter.app,this.data=i,this.lp=this.app.lp,this.css=this.app.css,this.content=e,this.initPostData(s),this.load()},initPostData:function(t){this.postData=t||{id:this.data.id,name:this.data.name||this.data.appName,alias:this.data.alias,description:this.data.description,processList:[],formList:[],applicationDictList:[],scriptList:[],fileList:[]}},load:function(){this.contentNode=new Element("div",{styles:this.css.moduleSetupListContentNode}).inject(this.content),this.iconNode=new Element("div",{styles:this.css.moduleSetupListIconNode}).inject(this.contentNode),this.actionNode=new Element("div",{styles:this.css.moduleSetupListActionNode}).inject(this.contentNode),this.inforNode=new Element("div",{styles:this.css.moduleSetupListInforNode}).inject(this.contentNode),this.nameNode=new Element("div",{styles:this.css.moduleSetupListNameNode}).inject(this.contentNode),this.nameNode.set(this.getNameContent()),this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat"),this.action=new Element("div",{styles:this.css.moduleSelectActionNode,text:this.lp.select}).inject(this.actionNode),this.setEvent(),this.checkSelect(this.postData)},setEvent:function(){this.contentNode.addEvents({mouseover:function(){this.contentNode.setStyles(this.css.moduleSetupListContentNode_over)}.bind(this),mouseout:function(){this.contentNode.setStyles(this.css.moduleSetupListContentNode)}.bind(this)}),this.iconNode.addEvent("click",this.selectAll.bind(this)),this.action.addEvent("click",function(){this.selectElements()}.bind(this)),this.nameNode.addEvent("click",function(){this.selectElements()}.bind(this))},selectAll:function(){var t=this.postData;t=(t.processList.length||t.formList.length||t.applicationDictList.length||t.scriptList.length||t.fileList.length)&&t.processList.length===this.data.processList.length&&t.formList.length===this.data.formList.length&&t.applicationDictList.length===this.data.applicationDictList.length&&t.scriptList.length===this.data.scriptList.length&&t.fileList.length===this.data.fileList.length?{processList:[],formList:[],applicationDictList:[],scriptList:[],fileList:[]}:{processList:this.data.processList,formList:this.data.formList,applicationDictList:this.data.applicationDictList,scriptList:this.data.scriptList,fileList:this.data.fileList},this.checkSelect(t)},getNameContent:function(){return{title:this.lp.name+": "+this.data.name+" "+this.lp.id+": "+this.data.id,text:this.data.name}},selectElements:function(){new MWF.xApplication.AppCenter.Exporter.Element.Selector(this,this.data)},checkSelect:function(t){this.postData.processList=t.processList,this.postData.formList=t.formList,this.postData.applicationDictList=t.applicationDictList,this.postData.scriptList=t.scriptList,this.postData.fileList=t.fileList,this.exporter.selectData.processPlatformList.erase(this.postData),t.processList.length||t.formList.length||t.applicationDictList.length||t.scriptList.length||t.fileList.length?(this.exporter.selectData.processPlatformList.push(this.postData),t.processList.length==this.data.processList.length&&t.formList.length==this.data.formList.length&&t.applicationDictList.length==this.data.applicationDictList.length&&t.scriptList.length==this.data.scriptList.length&&t.fileList.length==this.data.fileList.length?this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_all.png) center center no-repeat"):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_part.png) center center no-repeat")):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat")}}),MWF.xApplication.AppCenter.Exporter.ProcessElement=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element}),MWF.xApplication.AppCenter.Exporter.PortalElement=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element,initPostData:function(t){this.postData=t||{id:this.data.id,name:this.data.name||this.data.appName,alias:this.data.alias,description:this.data.description,pageList:[],scriptList:[],widgetList:[],fileList:[]}},selectAll:function(){var t=this.postData;t=(t.pageList.length||t.scriptList.length||t.widgetList.length||t.fileList.length)&&t.pageList.length===this.data.pageList.length&&t.scriptList.length===this.data.scriptList.length&&t.widgetList.length===this.data.widgetList.length&&t.fileList.length===this.data.fileList.length?{pageList:[],scriptList:[],widgetList:[],fileList:[]}:{pageList:this.data.pageList,scriptList:this.data.scriptList,widgetList:this.data.widgetList,fileList:this.data.fileList},this.checkSelect(t)},selectElements:function(){new MWF.xApplication.AppCenter.Exporter.Element.PortalSelector(this,this.data)},checkSelect:function(t){this.postData.pageList=t.pageList,this.postData.scriptList=t.scriptList,this.postData.widgetList=t.widgetList,this.postData.fileList=t.fileList,this.exporter.selectData.portalList.erase(this.postData),t.pageList.length||t.scriptList.length||t.widgetList.length||t.fileList.length?(this.exporter.selectData.portalList.push(this.postData),t.pageList.length==this.data.pageList.length&&t.scriptList.length==this.data.scriptList.length&&t.widgetList.length==this.data.widgetList.length&&t.fileList.length==this.data.fileList.length?this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_all.png) center center no-repeat"):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_part.png) center center no-repeat")):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat")}}),MWF.xApplication.AppCenter.Exporter.CmsElement=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element,getNameContent:function(){return{title:this.lp.name+": "+this.data.appName+" "+this.lp.id+": "+this.data.id,text:this.data.appName}},initPostData:function(t){this.postData=t||{id:this.data.id,name:this.data.name||this.data.appName,alias:this.data.alias,description:this.data.description,categoryInfoList:[],formList:[],appDictList:[],scriptList:[],fileList:[]}},selectElements:function(){new MWF.xApplication.AppCenter.Exporter.Element.CmsSelector(this,this.data)},selectAll:function(){var t=this.postData;t=(t.categoryInfoList.length||t.formList.length||t.appDictList.length||t.scriptList.length||t.fileList.length)&&t.categoryInfoList.length===this.data.categoryInfoList.length&&t.formList.length===this.data.formList.length&&t.appDictList.length===this.data.appDictList.length&&t.scriptList.length===this.data.scriptList.length&&t.fileList.length===this.data.fileList.length?{categoryInfoList:[],formList:[],appDictList:[],scriptList:[],fileList:[]}:{categoryInfoList:this.data.categoryInfoList,formList:this.data.formList,appDictList:this.data.appDictList,scriptList:this.data.scriptList,fileList:this.data.fileList},this.checkSelect(t)},checkSelect:function(t){this.postData.categoryInfoList=t.categoryInfoList,this.postData.formList=t.formList,this.postData.appDictList=t.appDictList,this.postData.scriptList=t.scriptList,this.postData.fileList=t.fileList,this.exporter.selectData.cmsList.erase(this.postData),t.categoryInfoList.length||t.formList.length||t.appDictList.length||t.scriptList.length||t.fileList.length?(this.exporter.selectData.cmsList.push(this.postData),t.categoryInfoList.length===this.data.categoryInfoList.length&&t.formList.length===this.data.formList.length&&t.appDictList.length===this.data.appDictList.length&&t.scriptList.length===this.data.scriptList.length&&t.fileList.length===this.data.fileList.length?this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_all.png) center center no-repeat"):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_part.png) center center no-repeat")):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat")}}),MWF.xApplication.AppCenter.Exporter.QueryElement=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element,initPostData:function(t){this.postData=t||{id:this.data.id,name:this.data.name||this.data.appName,alias:this.data.alias,description:this.data.description,viewList:[],statList:[],revealList:[],statementList:[],tableList:[],importModelList:[]}},selectElements:function(){new MWF.xApplication.AppCenter.Exporter.Element.QuerySelector(this,this.data)},selectAll:function(){var t=this.postData;t=(t.viewList.length||t.statList.length||t.revealList.length||t.statementList.length||t.tableList.length||t.importModelList.length)&&t.viewList.length===this.data.viewList.length&&t.statList.length===this.data.statList.length&&t.statementList.length===this.data.statementList.length&&t.tableList.length===this.data.tableList.length&&t.revealList.length===this.data.revealList.length&&t.importModelList.length===this.data.importModelList.length?{viewList:[],statList:[],revealList:[],statementList:[],tableList:[],importModelList:[]}:{viewList:this.data.viewList,statList:this.data.statList,revealList:this.data.revealList,statementList:this.data.statementList,tableList:this.data.tableList,importModelList:this.data.importModelList},this.checkSelect(t)},checkSelect:function(t){this.postData.viewList=t.viewList,this.postData.statList=t.statList,this.postData.revealList=t.revealList,this.postData.statementList=t.statementList,this.postData.tableList=t.tableList,this.postData.importModelList=t.importModelList,this.exporter.selectData.queryList.erase(this.postData),t.viewList.length||t.statList.length||t.revealList.length||t.statementList.length||t.tableList.length||t.importModelList.length?(this.exporter.selectData.queryList.push(this.postData),t.viewList.length==this.data.viewList.length&&t.statList.length==this.data.statList.length&&t.statementList.length==this.data.statementList.length&&t.tableList.length==this.data.tableList.length&&t.importModelList.length==this.data.importModelList.length&&t.revealList.length==this.data.revealList.length?this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_all.png) center center no-repeat"):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_part.png) center center no-repeat")):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat")}}),MWF.xApplication.AppCenter.Exporter.ServiceElement=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element,initPostData:function(t){this.postData=t||{id:this.data.id,name:this.data.name||this.data.appName,alias:this.data.alias,description:this.data.description,agentList:[],invokeList:[]}},selectElements:function(){new MWF.xApplication.AppCenter.Exporter.Element.ServiceSelector(this,this.data)},selectAll:function(){var t=this.postData;t=(t.agentList.length||t.invokeList.length)&&(t.agentList.length===this.data.agentList.length||t.invokeList.length===this.data.invokeList.length)?{agentList:[],invokeList:[]}:{agentList:this.data.agentList,invokeList:this.data.invokeList},this.checkSelect(t)},checkSelect:function(t){this.postData.agentList=t.agentList,this.postData.invokeList=t.invokeList,this.exporter.selectData.serviceModuleList.erase(this.postData),t.agentList.length||t.invokeList.length?(this.exporter.selectData.serviceModuleList.push(this.postData),t.agentList.length===this.data.agentList.length&&t.invokeList.length===this.data.invokeList.length?this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_all.png) center center no-repeat"):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_part.png) center center no-repeat")):this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/sel_none.png) center center no-repeat")}}),MWF.xApplication.AppCenter.Exporter.Element.Selector=new Class({initialize:function(t,e){this.element=t,this.app=this.element.app,this.data=e,this.lp=this.app.lp,this.css=this.app.css,this.content=this.element.contentNode,this.areaNode=this.element.exporter.contentNode,this.selectData=this.initData(),this.load()},initData:function(){return{processList:[],formList:[],applicationDictList:[],scriptList:[],fileList:[]}},load:function(){this.node=new Element("div",{styles:this.css.moduleSelectContentAreaNode}).inject(this.areaNode,"after"),this.titleNode=new Element("div",{styles:this.css.moduleSelectTitleNode,text:this.data.name}).inject(this.node);var t=this.content.getSize();this.node.setStyle("width",t.x+"px"),this.node.position({relativeTo:this.content,position:"topLeft",edge:"topLeft"}),this.element.exporter.dlg.button.setStyle("display","none"),this.show()},show:function(){var t=this.areaNode.getSize(),e=t.y+40,i=t.x,s=this.areaNode.getPosition(this.areaNode.getOffsetParent()),n={height:e+"px",width:i+"px",top:s.y+"px",left:s.x+"px","background-color":"#eeeeee"};this.morph=new Fx.Morph(this.node,{duration:100}),this.morph.start(n).chain(function(){this.loadContent()}.bind(this))},hide:function(){this.morph||(this.morph=new Fx.Morph(this.node,{duration:100})),this.areaNode.setStyle("display","block"),this.element.exporter.dlg.button.setStyle("display","block");var t=this.content.getSize(),e=t.y,i=t.x,s=this.content.getPosition(this.areaNode),n=this.node.getPosition(this.node.getOffsetParent()),o=n.x+s.x,a={height:e+"px",width:i+"px",top:n.y+s.y+"px",left:o+"px"};this.contentNode.destroy(),this.morph.start(a).chain(function(){this.node.destroy(),MWF.release(this)}.bind(this))},loadContent:function(){this.areaNode.setStyle("display","none"),this.contentNode=new Element("div",{styles:this.css.moduleSelectContentNode}).inject(this.node),this.buttonNode=new Element("div",{styles:this.css.moduleSelectButtonNode}).inject(this.node),this.cancelButton=new Element("div",{styles:this.css.moduleSelectButtonActionNode,text:this.lp.cancel}).inject(this.buttonNode),this.okButton=new Element("div",{styles:this.css.moduleSelectButtonActionNode,text:this.lp.ok}).inject(this.buttonNode),this.setContentHeight(),this.loadContentList(),this.cancelButton.addEvent("click",function(){this.hide()}.bind(this)),this.okButton.addEvent("click",function(){this.checkSelect()}.bind(this))},checkSelect:function(){this.selectData.processList=this.getCheckedList(this.listProcessContent),this.selectData.formList=this.getCheckedList(this.listFormContent),this.selectData.applicationDictList=this.getCheckedList(this.listDictContent),this.selectData.scriptList=this.getCheckedList(this.listScriptContent),this.selectData.fileList=this.getCheckedList(this.listFileContent),this.element.checkSelect(this.selectData),this.hide()},getCheckedList:function(t){var e=[];return t.getElements("input").each(function(t){t.checked&&e.push(t.retrieve("data"))}.bind()),e},setContentHeight:function(){var t=this.node.getSize(),e=this.titleNode.getSize(),i=this.buttonNode.getSize(),s=t.y-e.y-i.y;this.contentNode.setStyle("height",s+"px")},loadContentList:function(){this.contentAreaNode=new Element("div",{styles:{overflow:"hidden"}}).inject(this.contentNode),this.listProcessContent=this.listProcess("processList"),this.listFormContent=this.listProcess("formList"),this.listDictContent=this.listProcess("applicationDictList"),this.listScriptContent=this.listProcess("scriptList"),this.listFileContent=this.listProcess("fileList")},listProcess:function(t){var e=new Element("div",{styles:this.css.moduleSelectContentTitleNode}).inject(this.contentAreaNode),i=new Element("div",{styles:this.css.moduleSelectContentTitleButtonNode}).inject(e),s=new Element("div",{styles:this.css.moduleSelectContentTitleButtonActionNode,text:this.lp.inverse}).inject(i),n=new Element("div",{styles:this.css.moduleSelectContentTitleButtonActionNode,text:this.lp.selectAll}).inject(i),o=(new Element("div",{styles:this.css.moduleSelectContentTitleTextNode,text:this.lp[t]}).inject(e),new Element("div",{styles:this.css.moduleSelectContentListNode}).inject(this.contentAreaNode));return this.listProcessItems(t,o),s.addEvent("click",(function(){inputs=o.getElements("input"),inputs.each((function(t){t.set("checked",!t.get("checked"))}))})),n.addEvent("click",(function(){inputs=o.getElements("input"),inputs.each((function(t){t.set("checked",!0)}))})),o},listProcessItems:function(t,e){this.data[t].each(function(i){var s=new Element("div",{styles:this.css.moduleSelectContentListItemNode}).inject(e),n=!1,o=this.element.postData[t];if(o)for(var a=0;a<o.length;a++)if(o[a].id==i.id){n=!0;break}var l=new Element("input",{styles:{float:"left"},type:"checkbox",checked:n,value:i.id}).inject(s);new Element("div",{styles:{float:"left"},text:this.getItemName(i),events:{click:function(){l.click()}}}).inject(s),l.store("data",i)}.bind(this))},getItemName:function(t){return t.name}}),MWF.xApplication.AppCenter.Exporter.Element.ProcessSelector=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element.Selector}),MWF.xApplication.AppCenter.Exporter.Element.PortalSelector=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element.Selector,initData:function(){return{pageList:[],scriptList:[],widgetList:[],fileList:[]}},checkSelect:function(){this.selectData.pageList=this.getCheckedList(this.listPageContent),this.selectData.scriptList=this.getCheckedList(this.listScriptContent),this.selectData.widgetList=this.getCheckedList(this.listWidgetContent),this.selectData.fileList=this.getCheckedList(this.listFileContent),this.element.checkSelect(this.selectData),this.hide()},loadContentList:function(){this.contentAreaNode=new Element("div",{styles:{overflow:"hidden"}}).inject(this.contentNode),this.listPageContent=this.listProcess("pageList"),this.listScriptContent=this.listProcess("scriptList"),this.listWidgetContent=this.listProcess("widgetList"),this.listFileContent=this.listProcess("fileList")}}),MWF.xApplication.AppCenter.Exporter.Element.CmsSelector=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element.Selector,initData:function(){return{categoryInfoList:[],formList:[],appDictList:[],scriptList:[],fileList:[]}},checkSelect:function(){this.selectData.categoryInfoList=this.getCheckedList(this.listCategoryInfoContent),this.selectData.formList=this.getCheckedList(this.listFormContent),this.selectData.appDictList=this.getCheckedList(this.listDictContent),this.selectData.scriptList=this.getCheckedList(this.listScriptContent),this.selectData.fileList=this.getCheckedList(this.listFileContent),this.element.checkSelect(this.selectData),this.hide()},loadContentList:function(){this.contentAreaNode=new Element("div",{styles:{overflow:"hidden"}}).inject(this.contentNode),this.listCategoryInfoContent=this.listProcess("categoryInfoList"),this.listFormContent=this.listProcess("formList"),this.listDictContent=this.listProcess("appDictList"),this.listScriptContent=this.listProcess("scriptList"),this.listFileContent=this.listProcess("fileList")},getItemName:function(t){return t.name||t.categoryName}}),MWF.xApplication.AppCenter.Exporter.Element.QuerySelector=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element.Selector,initData:function(){return{viewList:[],statList:[],revealList:[],tableList:[],statementList:[],importModelList:[]}},checkSelect:function(){this.selectData.viewList=this.getCheckedList(this.listViewContent),this.selectData.statList=this.getCheckedList(this.listStatContent),this.selectData.revealList=this.getCheckedList(this.listRevealContent),this.selectData.statementList=this.getCheckedList(this.listStatementContent),this.selectData.tableList=this.getCheckedList(this.listTableContent),this.selectData.importModelList=this.getCheckedList(this.listImportModelContent),this.element.checkSelect(this.selectData),this.hide()},loadContentList:function(){this.contentAreaNode=new Element("div",{styles:{overflow:"hidden"}}).inject(this.contentNode),this.listViewContent=this.listProcess("viewList"),this.listStatContent=this.listProcess("statList"),this.listRevealContent=this.listProcess("revealList"),this.listTableContent=this.listProcess("tableList"),this.listStatementContent=this.listProcess("statementList"),this.listImportModelContent=this.listProcess("importModelList")}}),MWF.xApplication.AppCenter.Exporter.Element.ServiceSelector=new Class({Extends:MWF.xApplication.AppCenter.Exporter.Element.Selector,initData:function(){return{agentList:[],invokeList:[]}},checkSelect:function(){this.selectData.agentList=this.getCheckedList(this.listAgentContent),this.selectData.invokeList=this.getCheckedList(this.listInvokeContent),this.element.checkSelect(this.selectData),this.hide()},loadContentList:function(){this.contentAreaNode=new Element("div",{styles:{overflow:"hidden"}}).inject(this.contentNode),this.listAgentContent=this.listProcess("agentList"),this.listInvokeContent=this.listProcess("invokeList")},getItemName:function(t){return t.name}}),MWF.xApplication.AppCenter.Module.Setup=new Class({initialize:function(t,e){this.module=t,this.app=this.module.app,this.data=this.module.data,this.lp=this.module.lp,this.css=this.app.css,this.dlg=e,this.content=this.dlg.content,this.setupData={},this.compareData=null,this.load()},load:function(){this.node=new Element("div",{styles:this.css.moduleSetupContentNode}).inject(this.content),this.loadTitle(),this.loadContent()},loadTitle:function(){this.titleNode=new Element("div",{styles:this.css.moduleSetupTitleNode2}).inject(this.node),this.iconAreaNode=new Element("div",{styles:this.css.moduleSetupIconAreaNode}).inject(this.titleNode);var t=new Element("div",{styles:this.css.moduleSetupIconNode}).inject(this.iconAreaNode);this.data.icon&&(t.setStyle("background-image","url(data:image/png;base64,"+this.data.icon+")"),t.setStyle("background-size","cover"));var e=new Element("div",{styles:this.css.moduleSetupTitleContentNode2}).inject(this.titleNode),i=new Element("div",{styles:this.css.moduleSetupNameNode2}).inject(e),s=new Element("div",{styles:this.css.moduleSetupCategoryNode2}).inject(e),n=new Element("div",{styles:this.css.moduleSetupDescriptionNode2}).inject(e);i.set("text",this.data.name),s.set("text",this.data.category),n.set("text",this.data.description)},loadContent:function(){this.contentNode=new Element("div",{styles:this.css.moduleSetupCompareContentNode}).inject(this.node),this.createLoading(this.contentNode),this.loadCompare()},createLoading:function(t){this.dlg.button.setStyle("display","none"),this.loadingAreaNode=new Element("div",{styles:this.css.moduleLoadingAreaNode}).inject(t);new Element("img",{styles:this.css.moduleLoadingImgNode,src:this.app.path+this.app.options.style+"/icon/loading.gif"}).inject(this.loadingAreaNode)},clearLoading:function(){this.loadingAreaNode&&(this.loadingAreaNode.destroy(),this.loadingAreaNode=null),this.dlg.button.setStyle("display","block")},loadCompare:function(){this.app.actions.compareModule(this.data.id,function(t){this.clearLoading(),this.setupData.flag=t.data.flag,this.createListArea(),this.compareData=t.data,this.loadProcessList(),this.loadPortalList(),this.loadCMSList(),this.loadQueryList(),this.loadServiceList()}.bind(this))},createListArea:function(){this.contentAreaNode=new Element("div").inject(this.contentNode),this.contentInforNode=new Element("div",{styles:this.css.moduleSetupContentInforNode,text:this.lp.downloadInfor}).inject(this.contentAreaNode),this.processAreaTitle=new Element("div",{styles:this.css.moduleSetupListAreaTitleNode2,text:this.lp.process}).inject(this.contentAreaNode),this.processAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode}).inject(this.contentAreaNode),this.portalAreaTitle=new Element("div",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.portal}).inject(this.contentAreaNode),this.portalAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode2}).inject(this.contentAreaNode),this.cmsAreaTitle=new Element("div",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.cms}).inject(this.contentAreaNode),this.cmsAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode2}).inject(this.contentAreaNode),this.queryAreaTitle=new Element("div",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.query}).inject(this.contentAreaNode),this.queryAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode2}).inject(this.contentAreaNode),this.serviceAreaTitle=new Element("div",{styles:this.css.moduleSetupListAreaTitleNode,text:this.lp.service}).inject(this.contentAreaNode),this.serviceAreaContent=new Element("div",{styles:this.css.moduleSetupListAreaContentNode2}).inject(this.contentAreaNode)},loadProcessList:function(){this.processListNodes=[],this.compareData.processPlatformList.each(function(t){this.processListNodes.push(new MWF.xApplication.AppCenter.Module.Setup.ProcessElement(this,this.processAreaContent,t))}.bind(this))},loadPortalList:function(){this.portalListNodes=[],this.compareData.portalList.each(function(t){this.portalListNodes.push(new MWF.xApplication.AppCenter.Module.Setup.PortalElement(this,this.portalAreaContent,t))}.bind(this))},loadCMSList:function(){this.cmsListNodes=[],this.compareData.cmsList.each(function(t){this.cmsListNodes.push(new MWF.xApplication.AppCenter.Module.Setup.CmsElement(this,this.cmsAreaContent,t))}.bind(this))},loadQueryList:function(){this.queryListNodes=[],this.compareData.queryList.each(function(t){this.queryListNodes.push(new MWF.xApplication.AppCenter.Module.Setup.QueryElement(this,this.queryAreaContent,t))}.bind(this))},loadServiceList:function(){this.serviceListNodes=[],this.compareData.serviceModuleList.each(function(t){this.serviceListNodes.push(new MWF.xApplication.AppCenter.Module.Setup.ServiceElement(this,this.serviceAreaContent,t))}.bind(this))},setup:function(){this.setupData.flag=this.compareData.flag,this.setupData.processPlatformList=[],this.setupData.portalList=[],this.setupData.queryList=[],this.setupData.serviceModuleList=[],this.setupData.cmsList=[],this.getWriteData(this.processListNodes,this.setupData.processPlatformList),this.getWriteData(this.portalListNodes,this.setupData.portalList),this.getWriteData(this.cmsListNodes,this.setupData.cmsList),this.getWriteData(this.queryListNodes,this.setupData.queryList),this.getWriteData(this.serviceListNodes,this.setupData.serviceModuleList),this.contentAreaNode.setStyle("display","none"),this.createLoading(this.contentNode),this.app.actions.importModule(this.compareData.flag,this.setupData,function(){this.app.notice(this.module.data.name+" "+this.lp.setupSuccess,"success"),this.clearLoading()}.bind(this))},getWriteData:function(t,e){t.each(function(t){if(t.action){var i=t.action.options[t.action.selectedIndex].get("value");"ignore"!=i&&e.push({id:t.data.id,method:i})}else e.push({id:t.data.id})}.bind(this))}}),MWF.xApplication.AppCenter.Module.SetupLocal=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup,initialize:function(t,e,i){this.app=i,this.file=t,this.lp=this.app.lp,this.module={data:{name:this.lp.localApp,category:"",description:""}},this.data=this.module.data,this.css=this.app.css,this.dlg=e,this.content=this.dlg.content,this.setupData={},this.compareData=null,this.load()},loadCompare:function(){var t=new FormData;t.append("file",this.file),this.app.actions.compareUpload(t,this.file,function(t){this.clearLoading(),this.setupData.flag=t.data.flag,this.createListArea(),this.compareData=t.data,this.loadProcessList(),this.loadPortalList(),this.loadCMSList(),this.loadQueryList(),this.loadServiceList()}.bind(this))}}),MWF.xApplication.AppCenter.Module.Setup.Element=new Class({initialize:function(t,e,i){this.setup=t,this.app=this.setup.app,this.data=i,this.lp=this.app.lp,this.css=this.app.css,this.content=e,this.load()},load:function(){if(this.contentNode=new Element("div",{styles:this.css.moduleSetupListContentNode}).inject(this.content),this.iconNode=new Element("div",{styles:this.css.moduleSetupListIconNode}).inject(this.contentNode),this.actionNode=new Element("div",{styles:this.css.moduleSetupListActionNode}).inject(this.contentNode),this.inforNode=new Element("div",{styles:this.css.moduleSetupListInforNode}).inject(this.contentNode),this.nameNode=new Element("div",{styles:this.css.moduleSetupListNameNode}).inject(this.contentNode),this.nameNode.set(this.getNameContent()),this.data.exist){this.iconNode.setStyle("background","url("+this.app.path+this.app.options.style+"/icon/conflict.png) center center no-repeat"),this.contentNode.setStyle("color","#e86a58"),this.inforNode.set("text",this.lp.conflict),this.action=new Element("select",{styles:this.css.moduleSetupListActionSelectNode}).inject(this.actionNode);var t="<option value='cover' selected>"+this.lp.cover+"</option>";t+="<option value='create'>"+this.lp.create+"</option>",t+="<option value='ignore'>"+this.lp.ignore+"</option>",this.action.set("html",t)}else{this.action=new Element("select",{styles:this.css.moduleSetupListActionSelectNode}).inject(this.actionNode);t="<option value='ignore'>"+this.lp.ignore+"</option>";t+="<option value='create' selected>"+this.lp.create+"</option>",this.action.set("html",t)}},getNameContent:function(){return{title:this.lp.name+": "+this.data.name+" "+this.lp.id+": "+this.data.id,text:this.data.name}}}),MWF.xApplication.AppCenter.Module.Setup.ProcessElement=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup.Element}),MWF.xApplication.AppCenter.Module.Setup.PortalElement=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup.Element}),MWF.xApplication.AppCenter.Module.Setup.CmsElement=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup.Element}),MWF.xApplication.AppCenter.Module.Setup.QueryElement=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup.Element}),MWF.xApplication.AppCenter.Module.Setup.ServiceElement=new Class({Extends:MWF.xApplication.AppCenter.Module.Setup.Element});