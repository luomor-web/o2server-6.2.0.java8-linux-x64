MWF.xDesktop.requireApp("process.TaskCenter","TaskCompletedList",null,!1),MWF.xApplication.process.TaskCenter.ReadCompletedList=new Class({Extends:MWF.xApplication.process.TaskCenter.TaskCompletedList,_getCurrentPageData:function(t,e){this.app.getAction(function(){if(this.filterData){this.filterListNode.empty();var i={};Object.each(this.filterData,function(t,e){"key"!=e?t&&(i[this.app.options.filterMap[e]]||(i[this.app.options.filterMap[e]]=[]),i[this.app.options.filterMap[e]].push(t.value),this.createFilterItemNode(e,t)):i.key=t}.bind(this)),this.filterData.key&&this.createFilterItemNode("key",{name:this.filterData.key});var s=this.items.length?this.items[this.items.length-1].data.id:"(0)";this.app.action.listReadedFilter((function(e){t&&t(e)}),null,s,e||this.pageCount,i)}else{s=this.items.length?this.items[this.items.length-1].data.id:"(0)";this.app.action.listReadedNext((function(e){t&&t(e)}),null,s,e||this.pageCount)}}.bind(this))},_getApplicationCount:function(t){this.app.getAction(function(){this.app.action.listReadedApplication(function(e){t&&t(e)}.bind(this))}.bind(this))},_createItem:function(t){return new MWF.xApplication.process.TaskCenter.ReadCompletedList.Item(t,this)},_getFilterCount:function(t){this.app.action.listReadedFilterCount((function(e){t&&t(e)}))}}),MWF.xApplication.process.TaskCenter.ReadCompletedList.Item=new Class({Extends:MWF.xApplication.process.TaskCenter.TaskCompletedList.Item,setFlowChart:function(t){var e=0;return t.workLogTokenList={},t.workLogList.each(function(i){t.workLogTokenList[i.fromActivityToken]=i,i.taskCompletedList||(i.taskCompletedList=[]),i.taskList||(i.taskList=[]),(i.taskCompletedList.length||i.taskList.length)&&(this.createFlowInforWorklogNode(i.fromActivityName,i.taskCompletedList,i.taskList||[],e,!1),e++)}.bind(this)),e},_getSimpleJobByTaskComplete:function(t){this.list.app.action.getSimpleJobByReaded(function(e){t&&t(e.data)}.bind(this),null,this.data.id)}});