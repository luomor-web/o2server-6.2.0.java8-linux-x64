MWF.xApplication.Attendance=MWF.xApplication.Attendance||{},MWF.xApplication.Attendance.Actions=MWF.xApplication.Attendance.Actions||{},MWF.require("MWF.xDesktop.Actions.RestActions",null,!1),MWF.require("MWF.widget.UUID",null,!1),MWF.xApplication.Attendance.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_attendance_assemble_control","x_component_Attendance"),this.actionOrg=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_express","x_component_Attendance"),this.actionPerson=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_personal","x_component_Attendance")},getId:function(e,t,i,n){this.action.invoke({name:"getId",async:n,parameter:{count:e},success:t,failure:i})},getUUID:function(e){var t="";return this.action.invoke({name:"getId",async:!1,parameter:{count:"1"},success:function(i){t=i.data[0],e&&e(t)},failure:null}),t},getCurrentPerson:function(e,t,i){this.actionPerson.invoke({name:"getCurrentPerson",async:i,success:e,failure:t})},listUnitWithPerson:function(e,t,i,n){this.actionOrg.invoke({name:"listUnitWithPerson",async:n,data:i,success:e,failure:t})},listUnitSubDirect:function(e,t,i,n){this.actionOrg.invoke({name:"listUnitSubDirect",data:i,async:n,success:e,failure:t})},getPersonAttribute:function(e,t,i,n){this.actionOrg.invoke({name:"getPersonAttribute",async:n,urlEncode:!0,data:e,success:t,failure:i})},listPersonWithIdentity:function(e,t,i,n){this.actionOrg.invoke({name:"listPersonWithIdentity",async:n,urlEncode:!0,data:e,success:t,failure:i})},listIdentityWithUnitWithName:function(e,t,i,n){this.actionOrg.invoke({name:"listIdentityWithUnitWithName",async:n,urlEncode:!0,data:e,success:t,failure:i})},listUnitWithPersonSupNested:function(e,t,i,n){this.actionOrg.invoke({name:"listUnitWithPersonSupNested",async:n,urlEncode:!0,data:e,success:t,failure:i})},listPersonWithPersonSupDirect:function(e,t,i,n){this.actionOrg.invoke({name:"listPersonWithPersonSupDirect",async:n,urlEncode:!0,data:e,success:t,failure:i})},getPermission:function(e,t,i){this.action.invoke({name:"getPermission",parameter:{id:e},success:t,failure:i})},listPermission:function(e,t,i){this.action.invoke({name:"listPermission",async:i,success:e,failure:t})},savePermission:function(e,t,i){this.action.invoke({name:"savePermission",data:e,parameter:{id:e.id},success:t,failure:i})},deletePermission:function(e,t,i,n){this.action.invoke({name:"deletePermission",async:n,parameter:{id:e},success:t,failure:i})},getHoliday:function(e,t,i){this.action.invoke({name:"getHoliday",parameter:{id:e},success:t,failure:i})},listHolidayAll:function(e,t,i){this.action.invoke({name:"listHolidayAll",async:i,success:e,failure:t})},listHolidayFilter:function(e,t,i,n){this.action.invoke({name:"listHolidayFilter",data:e,async:n,success:t,failure:i})},listHolidayByYearAndName:function(e,t,i,n,a){this.action.invoke({name:"listHolidayFilter",data:{q_Year:e,q_Name:t},async:a,success:i,failure:n})},listHolidayByYearAndMonth:function(e,t,i,n,a){this.action.invoke({name:"listHolidayFilter",data:{q_Year:e,q_Month:t},async:a,success:i,failure:n})},listHolidayByName:function(e,t,i,n){this.action.invoke({name:"listHolidayFilter",data:{q_Name:e},async:n,success:t,failure:i})},saveHoliday:function(e,t,i,n){this.action.invoke({name:"saveHoliday",data:e,async:n,parameter:{id:e.id},success:t,failure:i})},deleteHoliday:function(e,t,i,n){this.action.invoke({name:"deleteHoliday",async:n,parameter:{id:e},success:t,failure:i})},getSelfHoliday:function(e,t,i){this.action.invoke({name:"getSelfHoliday",parameter:{id:e},success:t,failure:i})},listSelfHoliday:function(e,t,i){this.action.invoke({name:"listSelfHoliday",async:i,success:e,failure:t})},saveSelfHoliday:function(e,t,i){this.action.invoke({name:"saveSelfHoliday",data:e,parameter:{id:e.id},success:t,failure:i})},deleteSelfHoliday:function(e,t,i,n){this.action.invoke({name:"deleteSelfHoliday",async:n,parameter:{id:e},success:t,failure:i})},exportSelfHoliday:function(e,t,i,n){this.action.getActions(function(){var i=this.action.actions.exportSelfHoliday.uri;i=(i=i.replace("{startdate}",e)).replace("{enddate}",t),window.open(o2.filterUrl(this.action.address+i),"_blank")}.bind(this))},listSelfHolidayFilterNext:function(e,t,i,n,a,s){this.action.invoke({name:"listSelfHolidayFilterNext",parameter:{id:e,count:t},data:i,async:s,success:n,failure:a})},getSchedule:function(e,t,i){this.action.invoke({name:"getSchedule",parameter:{id:e},success:t,failure:i})},listSchedule:function(e,t,i){this.action.invoke({name:"listSchedule",async:i,success:e,failure:t})},saveSchedule:function(e,t,i){this.action.invoke({name:"saveSchedule",data:e,parameter:{id:e.id},success:t,failure:i})},deleteSchedule:function(e,t,i,n){this.action.invoke({name:"deleteSchedule",async:n,parameter:{id:e},success:t,failure:i})},listScheduleByUnit:function(e,t,i,n){this.action.invoke({name:"listScheduleByUnit",parameter:{name:e},success:t,failure:i,async:n})},listScheduleByTopUnit:function(e,t,i,n){this.action.invoke({name:"listScheduleByTopUnit",parameter:{name:e},success:t,failure:i,async:n})},getCycle:function(e,t,i){this.action.invoke({name:"getCycle",parameter:{id:e},success:t,failure:i})},deleteCycle:function(e,t,i,n){this.action.invoke({name:"deleteCycle",parameter:{id:e},async:n,success:t,failure:i})},saveCycle:function(e,t,i){this.action.invoke({name:"saveCycle",data:e,parameter:{id:e.id},success:t,failure:i})},listCycle:function(e,t,i){this.action.invoke({name:"listCycle",async:i,success:e,failure:t})},getCyclePerson:function(e,t,i,n,a){this.action.invoke({name:"getCyclePerson",parameter:{year:e,month:t},async:a,success:i,failure:n})},listSetting:function(e,t,i){this.action.invoke({name:"listSetting",async:i,success:e,failure:t})},getSetting:function(e,t,i,n){this.action.invoke({name:"getSetting",async:n,parameter:{id:e},success:t,failure:i})},saveSetting:function(e,t,i,n){this.action.invoke({name:"saveSetting",async:n,data:e,parameter:{id:e.id},success:t,failure:i})},deleteSetting:function(e,t,i,n){this.action.invoke({name:"deleteSetting",async:n,parameter:{id:e},success:t,failure:i})},getSettingCode:function(e,t,i,n){this.action.invoke({name:"getSettingCode",async:n,parameter:{code:e},success:t,failure:i})},listPersonSetting:function(e,t,i){this.action.invoke({name:"listPersonSetting",async:i,success:e,failure:t})},getPersonSetting:function(e,t,i,n){this.action.invoke({name:"getPersonSetting",async:n,parameter:{id:e},success:t,failure:i})},savePersonSetting:function(e,t,i,n){this.action.invoke({name:"savePersonSetting",async:n,data:e,parameter:{id:e.id},success:t,failure:i})},deletePersonSetting:function(e,t,i,n){this.action.invoke({name:"deletePersonSetting",async:n,parameter:{id:e},success:t,failure:i})},listAttachmentInfo:function(e,t,i){this.action.invoke({name:"listAttachmentInfo",async:i,success:e,failure:t})},getAttachmentInfo:function(e,t,i,n){this.action.invoke({name:"getAttachmentInfo",async:n,parameter:{id:e},success:t,failure:i})},uploadAttachment:function(e,t,i,n){this.action.invoke({name:"uploadAttachment",data:i,file:n,success:e,failure:t})},deleteAttachment:function(e,t,i,n){this.action.invoke({name:"deleteAttachment",async:n,parameter:{id:e},success:t,failure:i})},getAttachmentStream:function(e){this.action.getActions(function(){var t=this.action.actions.getAttachmentStream.uri;t=t.replace("{id}",encodeURIComponent(e)),window.open(o2.filterUrl(this.action.address)+t)}.bind(this))},getImportStatus:function(e,t,i){this.action.invoke({name:"getImportStatus",parameter:{file_id:e},success:t,failure:i})},getImportStatusAll:function(e,t){this.action.invoke({name:"getImportStatusAll",success:e,failure:t})},getImportStatusDetail:function(e,t,i){this.action.invoke({name:"getImportStatusDetail",parameter:{file_id:e},success:t,failure:i})},exportAbnormalAttachment:function(e,t,i,n){this.action.getActions(function(){var i=this.action.actions.exportAbnormalAttachment.uri;i=(i=i.replace("{year}",e)).replace("{month}",t),window.open(o2.filterUrl(this.action.address+i),"_blank")}.bind(this))},getDetail:function(e,t,i,n){this.action.invoke({name:"getDetail",async:n,parameter:{id:e},success:t,failure:i})},deleteDetail:function(e,t,i,n){this.action.invoke({name:"deleteDetail",async:n,parameter:{id:e},success:t,failure:i})},listDetail:function(e,t,i){this.action.invoke({name:"listDetail",async:i,success:e,failure:t})},listDetailFilter:function(e,t,i,n){this.action.invoke({name:"listDetailFilter",data:e,async:n,success:t,failure:i})},listDetailFilterNext:function(e,t,i,n,a,s){this.action.invoke({name:"listDetailFilterNext",parameter:{id:e,count:t},data:i,async:s,success:n,failure:a})},listDetailFilterPrev:function(e,t,i,n,a,s){this.action.invoke({name:"listDetailFilterPrev",parameter:{id:e,count:t},data:i,async:s,success:n,failure:a})},listDetailFilterUser:function(e,t,i,n){this.action.invoke({name:"listDetailFilterUser",data:e,async:n,success:t,failure:i})},listUnitDetailFilter:function(e,t,i,n){this.action.invoke({name:"listUnitDetailFilter",data:e,async:n,success:t,failure:i})},listTopUnitDetailFilter:function(e,t,i,n){this.action.invoke({name:"listTopUnitDetailFilter",data:e,async:n,success:t,failure:i})},listDetailByAttachment:function(e,t,i){this.action.invoke({name:"listDetailByAttachment",parameter:{file_id:e},success:t,failure:i})},checkDetail:function(e,t,i,n){this.action.invoke({name:"checkDetail",parameter:{cycleYear:e,cycleMonth:t},success:i,failure:n})},analyseDetail:function(e,t,i,n){this.action.invoke({name:"analyseDetail",parameter:{startDate:e,endDate:t},success:i,failure:n})},staticDetail:function(e,t,i,n){this.action.invoke({name:"staticDetail",parameter:{year:e,month:t},success:i,failure:n})},staticAllDetail:function(e,t){this.action.invoke({name:"staticAllDetail",success:e,failure:t})},listStaticMonthPerson:function(e,t,i,n,a){this.action.invoke({name:"listStaticMonthPerson",parameter:{name:e,year:t,month:i},success:n,failure:a})},listStaticDayUnit:function(e,t,i,n,a){this.action.invoke({name:"listStaticDayUnit",parameter:{name:e,year:t,month:i},success:n,failure:a})},listStaticDateUnit:function(e,t,i,n){this.action.invoke({name:"listStaticDateUnit",parameter:{name:e,date:t},success:i,failure:n})},listStaticMonthUnit:function(e,t,i,n,a,s){this.action.invoke({name:"listStaticMonthUnit",parameter:{name:e,year:t,month:i},success:n,failure:a,async:s})},listStaticMonthUnitSum:function(e,t,i,n,a,s){this.action.invoke({name:"listStaticMonthUnitSum",parameter:{name:e,year:t,month:i},success:n,failure:a,async:s})},listStaticDayTopUnit:function(e,t,i,n,a){this.action.invoke({name:"listStaticDayTopUnit",parameter:{name:e,year:t,month:i},success:n,failure:a})},listStaticMonthTopUnit:function(e,t,i,n,a){this.action.invoke({name:"listStaticMonthTopUnit",parameter:{name:e,year:t,month:i},success:n,failure:a})},listStaticMonthPersonByUnit:function(e,t,i,n,a){this.action.invoke({name:"listStaticMonthPersonByUnit",parameter:{name:e,year:t,month:i},success:n,failure:a})},listStaticMonthPersonByUnitNested:function(e,t,i,n,a){this.action.invoke({name:"listStaticMonthPersonByUnitNested",parameter:{name:e,year:t,month:i},success:n,failure:a})},listUnitDateStaticByTopUnit:function(e,t,i,n){this.action.invoke({name:"listUnitDateStaticByTopUnit",parameter:{name:e,date:t},success:i,failure:n})},listUnitMonthStaticByTopUnit:function(e,t,i,n,a,s){this.action.invoke({name:"listUnitMonthStaticByTopUnit",parameter:{name:e,year:t,month:i},success:n,failure:a,async:s})},listPersonMonthStaticByUnit:function(e,t,i,n,a,s){this.action.invoke({name:"listPersonMonthStaticByUnit",parameter:{name:e,year:t,month:i},success:n,failure:a,async:s})},createAppeal:function(e,t,i,n){this.action.invoke({name:"createAppeal",parameter:{detailId:e},data:t,success:i,failure:n})},processAppeal:function(e,t,i,n){this.action.invoke({name:"processAppeal",async:n,data:e,success:t,failure:i})},process2Appeal:function(e,t,i,n){this.action.invoke({name:"process2Appeal",async:n,data:e,success:t,failure:i})},getAppeal:function(e,t,i,n){this.action.invoke({name:"getAppeal",parameter:{id:e},async:n,success:t,failure:i})},deleteAppeal:function(e,t,i,n){this.action.invoke({name:"deleteAppeal",async:n,parameter:{id:e},success:t,failure:i})},listAppealFilterNext:function(e,t,i,n,a,s){this.action.invoke({name:"listAppealFilterNext",parameter:{id:e,count:t},data:i,async:s,success:n,failure:a})},listAppealFilterPrev:function(e,t,i,n,a,s){this.action.invoke({name:"listAppealFilterPrev",parameter:{id:e,count:t},data:i,async:s,success:n,failure:a})},listWorkplace:function(e,t,i){this.action.invoke({name:"listWorkplace",async:i,success:e,failure:t})},getWorkplace:function(e,t,i,n){this.action.invoke({name:"getWorkplace",async:n,parameter:{id:e},success:t,failure:i})},saveWorkplace:function(e,t,i,n){this.action.invoke({name:"saveWorkplace",async:n,data:e,parameter:{id:e.id},success:t,failure:i})},deleteWorkplace:function(e,t,i,n){this.action.invoke({name:"deleteWorkplace",async:n,parameter:{id:e},success:t,failure:i})}});