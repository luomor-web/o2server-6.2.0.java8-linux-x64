/*!
 * FullCalendar v2.6.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var a=e.fullCalendar,o=a.applyAll;function r(e,a){return e.replace(/(\?.*?)?(#|$)/,(function(e,o,r){return(o?o+"&":"?")+a+r}))}a.sourceNormalizers.push((function(e){var a,o=e.googleCalendarId,r=e.url;!o&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?o=r:((a=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(a=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(o=decodeURIComponent(a[1])),o&&(e.googleCalendarId=o)),o&&(null==e.editable&&(e.editable=!1),e.url=o)})),a.sourceFetchers.push((function(n,t,l,d){if(n.googleCalendarId)return function(n,t,l,d,c){var i,s,u="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent(n.googleCalendarId)+"/events?callback=?",g=n.googleCalendarApiKey||c.options.googleCalendarApiKey,p=n.success;function m(o,r){var t=r||[{message:o}];(n.googleCalendarError||e.noop).apply(c,t),(c.options.googleCalendarError||e.noop).apply(c,t),a.warn.apply(null,[o].concat(r||[]))}if(!g)return m("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{};t.hasZone()||(t=t.clone().utc().add(-1,"day"));l.hasZone()||(l=l.clone().utc().add(1,"day"));d&&"local"!=d&&(s=d.replace(" ","_"));return i=e.extend({},n.data||{},{key:g,timeMin:t.format(),timeMax:l.format(),timeZone:s,singleEvents:!0,maxResults:9999}),e.extend({},n,{googleCalendarId:null,url:u,data:i,startParam:!1,endParam:!1,timezoneParam:!1,success:function(a){var n,t,l=[];if(a.error)m("Google Calendar API: "+a.error.message,a.error.errors);else if(a.items&&(e.each(a.items,(function(e,a){var o=a.htmlLink;s&&(o=r(o,"ctz="+s)),l.push({id:a.id,title:a.summary,start:a.start.dateTime||a.start.date,end:a.end.dateTime||a.end.date,url:o,location:a.location,description:a.description})})),n=[l].concat(Array.prototype.slice.call(arguments,1)),t=o(p,this,n),e.isArray(t)))return t;return l}})}(n,t,l,d,this)}))}));