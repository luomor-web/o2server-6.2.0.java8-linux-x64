MWF.xDesktop.requireApp("File","Actions.RestActions",null,!1),MWF.xDesktop.requireApp("File","AttachmentController",null,!1),MWF.xApplication.File.AttachmentSelector=new Class({Extends:MWF.xApplication.File.AttachmentController,options:{style:"default",listStyle:"icon"},addAttachment:function(t){"min"==this.options.size?this.attachments.push(new MWF.widget.AttachmentController.AttachmentMin(t,this)):this.attachments.push(new MWF.xApplication.File.AttachmentSelector.Attachment(t,this))},addAttachmentFolder:function(t){var e=new MWF.xApplication.File.AttachmentSelector.Folder(t,this);return this.attachments.push(e),e}}),MWF.xApplication.File.AttachmentSelector.Attachment=new Class({Extends:MWF.xApplication.File.AttachmentController.Attachment,load:function(){switch(this.node=new Element("div").inject(this.content),this.controller.options.listStyle){case"list":this.loadList();break;case"icon":this.loadIcon();break;case"preview":this.loadPreview()}this.createInforNode(function(){this.tooltip=new mBox.Tooltip({content:this.inforNode,setStyles:{content:{padding:15,lineHeight:20}},attach:this.node,zIndex:10013,transition:"flyin"})}.bind(this)),this.setEvent()}}),MWF.xApplication.File.AttachmentSelector.Folder=new Class({Extends:MWF.xApplication.File.AttachmentController.Folder,load:function(){switch(this.node=new Element("div").inject(this.content),this.controller.options.listStyle){case"list":this.loadList();break;case"icon":this.loadIcon();break;case"preview":this.loadPreview()}this.createInforNode(function(){this.tooltip=new mBox.Tooltip({content:this.inforNode,setStyles:{content:{padding:15,lineHeight:20}},attach:this.node,zIndex:10013,transition:"flyin"})}.bind(this)),this.setEvent()}});