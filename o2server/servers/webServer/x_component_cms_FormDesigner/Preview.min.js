MWF.xDesktop.requireApp("process.FormDesigner","Preview",null,!1),MWF.xApplication.cms.FormDesigner.Preview=MWF.CMSFCPreview=new Class({Extends:MWF.FCPreview,Implements:[Options,Events],options:{style:"default",previewPath:"../x_desktop/cmspreview.html",size:null},initialize:function(e,s){this.setOptions(s),-1!=window.location.href.indexOf("debugger")&&(this.options.previewPath="../x_desktop/cmspreview.html?debugger"),this.path="../x_component_process_FormDesigner/$Preview/",this.cssPath="../x_component_process_FormDesigner/$Preview/"+this.options.style+"/css.wcss",this._loadCss(),this.form=e,this.data=e._getFormData()},loadFormData:function(e){MWF.getJSON("../x_desktop/res/preview/cmsdoc.json",function(s){MWF.xDesktop.requireApp("cms.Xform","Form",function(){this.appForm=new MWF.CMSForm(e,this.data),this.dataStr=JSON.stringify(this.data),this.appForm.formDataText=this.dataStr,this.appForm.app=this.form.designer,this.appForm.load()}.bind(this))}.bind(this))}});