MWF.xDesktop.requireApp("process.FormDesigner","Property",null,!1),MWF.CMSProperty_Process||(MWF.CMSProperty_Process={getViewList:MWF.xApplication.process.FormDesigner.Property.prototype.getViewList.$origin,loadScriptEditor:MWF.xApplication.process.FormDesigner.Property.prototype.loadScriptEditor.$origin,loadActionArea:MWF.xApplication.process.FormDesigner.Property.prototype.loadActionArea.$origin,loadEventsEditor:MWF.xApplication.process.FormDesigner.Property.prototype.loadEventsEditor.$origin,loadValidation:MWF.xApplication.process.FormDesigner.Property.prototype.loadValidation.$origin,loadFormFieldInput:MWF.xApplication.process.FormDesigner.Property.prototype.loadFormFieldInput.$origin,loadPersonInput:MWF.xApplication.process.FormDesigner.Property.prototype.loadPersonInput.$origin,loadProcessApplictionSelect:MWF.xApplication.process.FormDesigner.Property.prototype.loadProcessApplictionSelect.$origin},MWF.xApplication.process.FormDesigner.Property.implement({loadProcessApplictionSelect:function(t,e,o){this.designer.options.name.toLowerCase().contains("cms")?this.loadProcessApplictionSelect_CMS(t,e,o):this.loadProcessApplictionSelect_Process(t,e,o)},loadProcessApplictionSelect_Process:MWF.CMSProperty_Process.loadProcessApplictionSelect,loadProcessApplictionSelect_CMS:function(t,e,o){var i=e?this.data[e]:"";MWF.xDesktop.requireApp("process.ProcessDesigner","widget.PersonSelector",function(){new MWF.xApplication.process.ProcessDesigner.widget.PersonSelector(t,this.form.designer,{title:this.form.designer.lp.selectApplication,type:"CMSApplication",count:1,names:i?[{id:i}]:[],onChange:function(t){o(t)}.bind(this)})}.bind(this))},loadFormFieldInput:function(){this.designer.options.name.toLowerCase().contains("cms")?this.loadFormFieldInput_CMS():this.loadFormFieldInput_Process()},loadFormFieldInput_Process:MWF.CMSProperty_Process.loadFormFieldInput,loadFormFieldInput_CMS:function(){var t=this.propertyContent.getElements(".MWFFormFieldPerson");MWF.xDesktop.requireApp("cms.FormDesigner","widget.PersonSelector",function(){t.each(function(t){new MWF.xApplication.cms.FormDesigner.widget.PersonSelector(t,this.form.designer,{type:"formField",form:this.form.json.id,fieldType:"person",names:this.data[t.get("name")],onChange:function(e){this.savePersonItem(t,e)}.bind(this)})}.bind(this))}.bind(this))},loadScriptEditor:function(t,e){this.designer.options.name.toLowerCase().contains("cms")?this.loadScriptEditor_CMS(t,e):this.loadScriptEditor_Process(t,e)},loadScriptEditor_Process:MWF.CMSProperty_Process.loadScriptEditor,loadScriptEditor_CMS:function(t,e){t.each(function(t){var o=t.get("title"),i=t.get("name"),n=this.data[i];MWF.require("MWF.widget.ScriptArea",function(){var r=new MWF.widget.ScriptArea(t,{title:o,maxObj:this.designer.formContentNode,onChange:function(){this.data[i]=r.toJson()}.bind(this),onSave:function(){this.designer.saveForm()}.bind(this),style:e||"default",helpStyle:"cms"});r.load(n)}.bind(this))}.bind(this))},loadActionArea:function(){this.designer.options.name.toLowerCase().contains("cms")?this.loadActionArea_CMS():this.loadActionArea_Process()},loadActionArea_Process:MWF.CMSProperty_Process.loadActionArea,loadActionArea_CMS:function(){this.propertyContent.getElements(".MWFMultiActionArea").each(function(t){var e=t.get("name"),o=this.data[e];MWF.xDesktop.requireApp("cms.FormDesigner","widget.ActionsEditor",function(){var i=new MWF.xApplication.cms.FormDesigner.widget.ActionsEditor(t,this.designer,this.data,{maxObj:this.propertyNode.parentElement.parentElement.parentElement,isSystemTool:!0,onChange:function(){this.data[e]=i.data,this.changeData(e)}.bind(this)});i.load(o)}.bind(this))}.bind(this)),this.propertyContent.getElements(".MWFActionArea").each(function(t){var e=t.get("name"),o=this.data[e];MWF.xDesktop.requireApp("cms.FormDesigner","widget.ActionsEditor",function(){var i=new MWF.xApplication.cms.FormDesigner.widget.ActionsEditor(t,this.designer,this.data,{maxObj:this.propertyNode.parentElement.parentElement.parentElement,onChange:function(){this.data[e]=i.data,this.changeData(e)}.bind(this)});i.load(o)}.bind(this))}.bind(this)),this.propertyContent.getElements(".MWFDefaultActionArea").each(function(t){var e=t.get("name"),o=this.data[e]||this.module.defaultToolBarsData;MWF.xDesktop.requireApp("cms.FormDesigner","widget.ActionsEditor",function(){var i=new MWF.xApplication.cms.FormDesigner.widget.ActionsEditor(t,this.designer,this.data,{maxObj:this.propertyNode.parentElement.parentElement.parentElement,isSystemTool:!0,noCreate:!0,noDelete:!1,noCode:!0,noReadShow:!0,noEditShow:!0,onChange:function(){this.data[e]=i.data,this.changeData(e)}.bind(this)});i.load(o)}.bind(this))}.bind(this))},loadEventsEditor:function(){this.designer.options.name.toLowerCase().contains("cms")?this.loadEventsEditor_CMS():this.loadEventsEditor_Process()},loadEventsEditor_Process:MWF.CMSProperty_Process.loadEventsEditor,loadEventsEditor_CMS:function(){var t=this.propertyContent.getElement(".MWFEventsArea");if(t){var e=t.get("name"),o=this.data[e];MWF.xDesktop.requireApp("cms.FormDesigner","widget.EventsEditor",function(){new MWF.xApplication.cms.FormDesigner.widget.EventsEditor(t,this.designer,{maxObj:this.designer.formContentNode}).load(o)}.bind(this))}},loadValidation:function(){this.designer.options.name.toLowerCase().contains("cms")?this.loadValidation_CMS():this.loadValidation_Process()},loadValidation_Process:MWF.CMSProperty_Process.loadValidation,loadValidation_CMS:function(){MWF.xDesktop.requireApp("cms.FormDesigner","widget.ValidationEditor",null,!1);var t=this.propertyContent.getElements(".MWFValidation");t.length&&t.each(function(t){var e=t.get("name"),o=new MWF.xApplication.cms.FormDesigner.widget.ValidationEditor(t,this.designer,{onChange:function(){var t=o.getValidationData();this.data[e]=t}.bind(this)});o.load(this.data[e])}.bind(this))}})),MWF.xApplication.cms.FormDesigner.ModuleImplements=MWF.CMSFCMI=new Class({});