MWF.xApplication.cms.FormDesigner.Module=MWF.xApplication.cms.FormDesigner.Module||{},MWF.xDesktop.requireApp("process.FormDesigner","Module.$Element",null,!1),MWF.xApplication.cms.FormDesigner.Module.Readerfield=MWF.CMSFCReaderfield=new Class({Extends:MWF.FC$Element,Implements:[MWF.CMSFCMI],options:{style:"default",propertyPath:"../x_component_cms_FormDesigner/Module/Readerfield/readerfield.html"},initialize:function(e,t){this.setOptions(t),this.path="../x_component_cms_FormDesigner/Module/Readerfield/",this.cssPath="../x_component_cms_FormDesigner/Module/Readerfield/"+this.options.style+"/css.wcss",this._loadCss(),this.moduleType="element",this.moduleName="readerfield",this.form=e,this.container=null,this.containerNode=null},clearTemplateStyles:function(e){e&&(e.styles&&this.removeStyles(e.styles,"styles"),e.inputStyles&&this.removeStyles(e.inputStyles,"inputStyles"),e.properties&&this.removeStyles(e.properties,"properties"))},setTemplateStyles:function(e){e.styles&&this.copyStyles(e.styles,"styles"),e.inputStyles&&this.copyStyles(e.inputStyles,"inputStyles"),e.properties&&this.copyStyles(e.properties,"properties")},_createMoveNode:function(){this.moveNode=new Element("div",{MWFType:"readerfield",id:this.json.id,styles:this.css.moduleNodeMove,events:{selectstart:function(){return!1}}}).inject(this.form.container);new Element("div",{styles:this.css.readerfieldIcon}).inject(this.moveNode),new Element("div",{styles:this.css.moduleText,text:this.json.id}).inject(this.moveNode)},_loadNodeStyles:function(){var e=this.node.getFirst("div"),t=this.node.getLast("div");e.setStyles(this.css.readerfieldIcon),t.setStyles(this.css.moduleText)},_getCopyNode:function(){return this.copyNode||this._createCopyNode(),this.copyNode.setStyle("display","inline-block"),this.copyNode},_setEditStyle_custom:function(e){"id"==e&&this.node.getLast().set("text",this.json.id)},setPropertiesOrStyles:function(e){if("styles"==e){this.parentContainer&&"datagrid$Data"==this.parentContainer.moduleName&&(this.json.styles.width||(this.json.styles.width="90%"));try{this.setCustomStyles()}catch(e){}}if("inputStyles"==e){var t=this.node.getLast("div");t.clearStyles(),t.setStyles(this.css.moduleText),Object.each(this.json.inputStyles,function(e,s){s.test(/^border\w*/gi)||t.setStyle(s,e)}.bind(this))}"properties"==e&&this.node.setProperties(this.json.properties)}});