MWF.xApplication.process.FormDesigner.Module=MWF.xApplication.process.FormDesigner.Module||{},MWF.xDesktop.requireApp("process.FormDesigner","Module.$Module",null,!1),MWF.xApplication.process.FormDesigner.Module.$Element=MWF.FC$Element=new Class({Extends:MWF.FC$Module,Implements:[Options,Events],_setNodeProperty:function(){-1==this.form.moduleList.indexOf(this)&&this.form.moduleList.push(this),-1==this.form.moduleNodeList.indexOf(this.node)&&this.form.moduleNodeList.push(this.node),-1==this.form.moduleElementNodeList.indexOf(this.node)&&this.form.moduleElementNodeList.push(this.node),this.node.store("module",this)},_dragIn:function(e){if(e.onDragModule=this,"datagrid$Data"===this.parentContainer.moduleName||"datatable$Data"===this.parentContainer.moduleName)this.parentContainer._dragIn(e);else if(e.inContainer=null,e.parentContainer=this.parentContainer,e.nextModule=this,this.node.setStyles({border:"1px solid #ffa200"}),e.controlMode)e.copyNode&&e.copyNode.hide();else{var t=e._getCopyNode(this);t.show(),t.inject(this.node,"before")}},_setControlModeNode:function(){this.controlMode?this.copyNode&&this.copyNode.hide():this.onDragModule&&this.onDragModule._dragIn(this)},_dragOut:function(e){(e.onDragModule=null,e.inContainer=null,e.parentContainer=null,e.nextModule=null,this.node.setStyles(this.css.moduleNode),this.setCustomStyles(),e.controlMode)||e._getCopyNode().setStyle("display","none")},_dragDrop:function(e,t){(t||!new Event(event).control)&&(this.node.setStyles(this.css.moduleNode),this.setCustomStyles())},destroy:function(){this.form.moduleList.erase(this),this.form.moduleNodeList.erase(this.node),this.form.moduleElementNodeList.erase(this.node),this.form.scriptDesigner&&this.form.scriptDesigner.removeModule(this.json),this.property&&this.property.destroy(),this.node.destroy(),this.actionArea.destroy(),delete this.form.json.moduleList[this.json.id],this.json=null,delete this.json,this.treeNode.destroy(),o2.release(this)},parseModules:function(){},_deleteModule:function(){this.destroy()},getJson:function(){var e=Object.clone(this.json),t={};return t[e.id]=e,t}});