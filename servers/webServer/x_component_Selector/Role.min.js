MWF.xDesktop.requireApp("Selector","Person",null,!1),MWF.xApplication.Selector.Role=new Class({Extends:MWF.xApplication.Selector.Person,options:{style:"default",count:0,title:"",groups:[],roles:[],values:[],names:[],selectType:"role"},setInitTitle:function(){this.setOptions({title:MWF.xApplication.Selector.LP.selectRole})},_init:function(){this.selectType="role",this.className="Role"},_listItemByKey:function(t,e,i){(this.options.units.length||this.options.roles.length)&&(i=this.getLikeKey(i)),this.orgAction.listRoleByKey(function(e){t&&t.apply(this,[e])}.bind(this),e,i)},_getItem:function(t,e,i,n){this.orgAction.getRole(function(e){t&&t.apply(this,[e])}.bind(this),e,"string"===typeOf(i)?i:i.distinguishedName,n)},_newItemSelected:function(t,e,i,n){return new MWF.xApplication.Selector.Role.ItemSelected(t,e,i,n)},_listItemByPinyin:function(t,e,i){(this.options.units.length||this.options.roles.length)&&(i=this.getLikeKey(i)),this.orgAction.listRoleByPinyin(function(e){t&&t.apply(this,[e])}.bind(this),e,i)},_newItem:function(t,e,i){return new MWF.xApplication.Selector.Role.Item(t,e,i)},_listItemNext:function(t,e,i){this.orgAction.listRoleNext(t,e,function(t){i&&i.apply(this,[t])}.bind(this))},_getChildrenItemIds:function(t){return t.roleList},getLikeKey:function(t){var e=t;if(this.options.groups.length||this.options.roles.length){var i=[];this.options.groups.each(function(t){i.push("object"===typeOf(t)?t.distinguishedName:t)}.bind(this));var n=[];this.options.roles.each(function(t){n.push("object"===typeOf(t)?t.distinguishedName:t)}.bind(this)),e={key:t||"",groupList:i,roleList:n}}return e}}),MWF.xApplication.Selector.Role.Item=new Class({Extends:MWF.xApplication.Selector.Person.Item,_getShowName:function(){return this.data.name},_setIcon:function(){var t=this.selector.options.style;this.iconNode.setStyle("background-image","url(../x_component_Selector/$Selector/"+t+"/icon/roleicon.png)")}}),MWF.xApplication.Selector.Role.ItemSelected=new Class({Extends:MWF.xApplication.Selector.Person.ItemSelected,_getShowName:function(){return this.data.name},_setIcon:function(){var t=this.selector.options.style;this.iconNode.setStyle("background-image","url(../x_component_Selector/$Selector/"+t+"/icon/roleicon.png)")}});