o2.widget=o2.widget||{},o2.require("o2.widget.Dialog",null,!1),o2.widget.Window=new Class({Extends:o2.widget.Dialog,Implements:[Options,Events],options:{style:"default",title:"window",width:"600",height:"500",top:"0",left:"0",fromTop:"0",fromLeft:"0",mark:!1,html:"",text:"",url:"",content:null,isMax:!0,isClose:!0,isResize:!0,isMove:!0,buttons:null,buttonList:null},initialize:function(t){var e=layout.desktop.desktopNode.getPosition();layout.desktop.desktopNode.getSize();this.options.top=parseFloat(this.options.top)+e.y,this.options.fromTop=parseFloat(this.options.fromTop)+e.y,this.parent(t)},getDialogNode:function(){this.node.set("styles",this.css.from),this.node.inject($(document.body)),this.title=this.node.getElement(".MWF_dialod_title"),this.titleCenter=this.node.getElement(".MWF_dialod_title_center"),this.titleText=this.node.getElement(".MWF_dialod_title_text"),this.titleAction=this.node.getElement(".MWF_dialod_title_action"),this.content=this.node.getElement(".MWF_dialod_content"),this.bottom=this.node.getElement(".MWF_dialod_bottom"),this.resizeNode=this.node.getElement(".MWF_dialod_bottom_resize"),this.button=this.node.getElement(".MWF_dialod_button"),this.title&&(this.title.addEvent("mousedown",function(){this.containerDrag=new Drag.Move(this.node)}.bind(this)),this.title.addEvent("mouseup",function(){this.node.removeEvents("mousedown"),this.title.addEvent("mousedown",function(){this.containerDrag=new Drag.Move(this.node)}.bind(this))}.bind(this))),this.content&&this.getContent(),this.titleAction&&this.getAction(),this.resizeNode&&this.setResizeNode(),this.content&&this.setContentSize()}});