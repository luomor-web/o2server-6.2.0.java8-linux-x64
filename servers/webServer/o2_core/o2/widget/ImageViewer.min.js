o2.widget=o2.widget||{},o2.widget.ImageViewer=o2.ImageViewer=new Class({Implements:[Options,Events],Extends:o2.widget.Common,options:{style:"default",path:o2.session.path+"/widget/$ImageViewer/",imageUrl:""},initialize:function(t,i){this.node=t,this.setOptions(i),this.path=this.options.path||o2.session.path+"/widget/$ImageViewer/",this.cssPath=this.path+this.options.style+"/css.wcss",this._loadCss(),this.fireEvent("init")},load:function(t){this.container=new Element("div.container",{styles:this.css.container}).inject(this.node),this.container.addEvent("selectstart",(function(t){t.preventDefault(),t.stopPropagation()})),this.checkBroswer()&&(this.lastPoint=null,this.loadToolBar(),this.contentNode=new Element("div.contentNode",{styles:this.css.contentNode}).inject(this.container),this.loadEditorNode(),this.loadResultNode(),this.options.description&&this.loadDescriptionNode(),this.options.imageUrl&&this.loadImageAsUrl(this.options.imageUrl),t&&this.loadImageAsFile(this.base64ToBlob(t)))}});