o2.widget=o2.widget||{},o2.widget.ProcessIconToolbar=o2.PITB=new Class({css:{toolbarNodeHide:{width:16,paddingTop:4,paddingLeft:2,paddingRight:2,paddingBottom:0,top:0,left:0,position:"relative",display:"none"},toolbarNodeShow:{borderWidth:1,borderStyle:"solid",borderColor:"#ccc",width:16,paddingTop:4,paddingLeft:2,paddingRight:2,paddingBottom:0,backgroundColor:"#fff",top:0,left:0,position:"relative",display:"block"},img:{cursor:"pointer",marginBottom:4,borderWidth:0,width:16,height:16}},node:null,targetNode:null,initialize:function(t){this.targetNode=t,this.node=new Element("div",{styles:this.css.toolbarNodeHide}).inject(this.targetNode);var o=this;this.targetNode.addEvents({mouseover:function(t){o._mouseOver.apply(o,[this,t])},mousemove:function(t){o._mouseOver.apply(o,[this,t])},mouseout:function(t){o._mouseOut.apply(o,[this,t])}}),this.targetNode.store("tools",this)},addTool:function(t,o,e,i){var s=this;this.css.img.background="url("+t+") no-repeat center center",new Element("div",{title:o,styles:this.css.img}).inject(this.node).addEvents({click:function(t){e&&e.apply(i,[s,this,t])}})},_mouseOver:function(t,o){this.show()},_mouseOut:function(t,o){this.hide()},_setNodePosition:function(){for(var t=this.node.getAllPrevious(),o=0,e=0;e<t.length;e++)o+=t[e].getSize().y;var i=0-o,s=this.targetNode.getSize().x-16;this.node.setStyles({top:i,left:s}),this.css.toolbarNodeHide.top=i,this.css.toolbarNodeHide.left=s,this.css.toolbarNodeShow.top=i,this.css.toolbarNodeShow.left=s},show:function(){this._setNodePosition(),this.morph||(this.morph=new Fx.Morph(this.node)),window.status="show",this.node.setStyle("display","block")},hide:function(){this._setNodePosition(),this.morph||(this.morph=new Fx.Morph(this.node)),window.status="hide",this.node.setStyle("display","none")}});